# 0.二分查找

## 最坏情况规模为 1000 需要查找几次?

最坏的情况是 1000 次
如果用二分查找是`10`次,2^10===1024
1000>500>250>125>62>31>15>7>3>1

## 抽象

```js
function bsearch(A,X)
A:数组
x:需要查找的值
返回:x在A中的位置,不存在返回-1
```

## 循环不变式

| 循环前               | 循环后                   |
| -------------------- | ------------------------ |
| l 查找范围的`左`边界 | l 新的查找范围的`左`边界 |
| r 查找范围的`右`边界 | r 新查找范围的`右`边界   |
| guess l,r 的中间位置 | guess-                   |

> 每次循环结束后，查找的值要么在位置 l-r 之间，要么不存在

## 程序

```js
function bsearch(A,x){
  let l=0,//查找范围的左边界
      r=A.length-1,//查找范围的右边界
      guess;//猜测位置
  while(l<=r){
    guess=Math.floor((l+r)/2)
    //循环不变式
    // guess等于l,r中间位置
	// l:查找范围左 r:查找范围右
    if(A[guess]===x) return guess
    else if(A[guess]>x)r=guess-1
    else l=guess+1
    // 循环不变式
    // l:新查找范围左 r:新查找范围右
  }
  return -1；
}
```
