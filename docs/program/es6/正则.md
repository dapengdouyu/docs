## 深入浅出正则

### 什么是正则

套用 [mnd](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions) 的说法:正则表达式是用于匹配**字符串**中字符组合的模式。

![正则](/img/正则/reg.png)

### 创建正则

- **字面量**以斜杠表示开始和结束
  - 在引擎编译代码时，就会新建正则表达式
  - 效率高,并且直观方便
- **RegExp** 构造函数。
  - 运行时新建正则表达式
  - 当正则中的一些字符需要是**变量**的时候；才会选择这种方式

```js
let reg1 = /^\d+$/g; //=>字面量方式
let reg2 = new RegExp("^\\d+$", "g"); //=>构造函数方式
let reg = /^\d+$/g;
```

### 正则的两种用途

正则只能用来处理**字符串**

#### 用于匹配

**test 方法** 编写一个正则（制定了一套规则）,去测试某个字符串是否符合这个规则；

```js
const reg = /\d/; //只要是数字就行
reg.test(1); //true
const regs = /1234/;
const a = 1234; //不管是不是字符串 都会当成字符串来匹配
console.log(regs.test(a)); //true
console.log(regs.test("1234")); //true
```

- 用于捕获 `exec` 编写一个正则（制定了一套规则）; 去把某个字符串中符合这个规则的字符获取到

### 元字符

- 正则两个斜杠之间包起来的都是**元字符**
- 有特殊含义的元字符
- 普通元字符

```js
let reg = /^\d+$/g; // ^\d+$ 这些都是元字符
```

有特殊含义的元字符

|   元字符   |               含义               |
| :--------: | :------------------------------: |
| \|转义字符 |
|     \d     |          0-9 之间的数字          |
|     \D     |       除了 0-9 的任意字符        |
|     \w     |         数字 字母 下划线         |
|     \W     | 除了 数字 字母 下划线的任意字符  |
|     ^      |          以什么字符开头          |
|     \$     |          以什么字符结尾          |
|     .      |    代表除了换行以外的所有字符    |
|     \n     |             代表换行             |
|    x\|y    |             x 或者 y             |
|   [xyz]    |          x 或者 y 或 z           |
|   [^xy]    |        除了 xy 的任意字符        |
|   [a-z]    | a 到 z 的任意字符 小写的英文字母 |
|   [^a-z]   |       除了 a-z 的任意字符        |
|     ()     |         分组和提升优先级         |
|    (?:)    |           只匹配不捕获           |
|    (?=)    |           正向肯定预查           |
|    (?!)    |           正向否定预查           |

#### 量词元字符

都是用在其他元字符后边的；

```js
```

| 量词  |            含义            |
| :---: | :------------------------: |
|   ?   | 前边的字符出现 0 或 1 次； |
|   +   | 前边的字符出现 1 或多次；  |
|  \*   | 前边的字符出现 0 或多次；  |
|  {n}  |   前边的字符出现 n 次；    |
| {n,m} | 前边的字符出现 n 到 m 次； |
| {n,}  | 前边的字符出现 n 到多次；  |

### 修饰符

斜杠后面出现的都是*修饰符*

```js
/abc/i; //i就是修饰符
```

| 修饰符 |          含义           |
| :----: | :---------------------: |
|   i    | ignoreCase : 忽略大小写 |
|   m    |   multiline 多行匹配    |
|   g    |     global 全局匹配     |
