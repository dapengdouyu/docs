<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Dapeng&#39;s blog RSS Feed">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?7dda2565ba246ecd62878c13153e2941",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="IXU12YQUjF">
<link rel="preconnect" href="https://hmcdn.baidu.com">
<link rel="stylesheet" href="https://cansiny.oss-cn-shanghai.aliyuncs.com/assets/fonts.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">fetch - Dapengçš„åšå®¢</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://dapengdouyu.github.io/docs/program/network/0ã€Fetch"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="fetch - Dapengçš„åšå®¢"><meta data-react-helmet="true" name="description" content="ä¸ºä»€ä¹ˆéœ€è¦ fetch"><meta data-react-helmet="true" property="og:description" content="ä¸ºä»€ä¹ˆéœ€è¦ fetch"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dapengdouyu.github.io/docs/program/network/0ã€Fetch"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/program/network/0ã€Fetch" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/program/network/0ã€Fetch" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.978f73f5.css">
<link rel="preload" href="/assets/js/runtime~main.e2552c1f.js" as="script">
<link rel="preload" href="/assets/js/main.d3677d32.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">DAPENG</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/">åšå®¢</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tags/java-script">JavaScript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link">å‰ç«¯</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/program/javascript">Javascript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link">é˜…è¯»</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/books/Babel æ’ä»¶é€šå…³ç§˜ç±">Babel æ’ä»¶é€šå…³ç§˜ç±</a></li></ul></div><a href="https://github.com/dapengdouyu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ğŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ğŸŒ</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/Buffer/">Buffer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/CRP/">CRP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/HTMLå’ŒCSS/">HTMLå’ŒCSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/UUID/">UUID</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/binary/">binary</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/electron/">electron</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/es6/">es6</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/eventLoop/">eventLoop</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/javascript/">javascript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/linux/">linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/math/">math</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/docs/program/network/">network</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/program/network/">index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/program/network/0ã€Fetch">fetch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/program/network/">å‰ç«¯çš„è¯·æ±‚æ–¹å¼</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/node/">node</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/react/">react</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/rollup/">rollup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/typescript/">typescript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/vscodeæ’ä»¶å¼€å‘/">vscodeæ’ä»¶å¼€å‘</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/vue/">vue</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/webpack/">webpack</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/å…¶ä»–/">å…¶ä»–</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/æ‰“åŒ…å·¥å…·/">æ‰“åŒ…å·¥å…·</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/æ­£åˆ™/">æ­£åˆ™</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/ç®—æ³•/">ç®—æ³•</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/è·¨å¹³å°/">è·¨å¹³å°</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/program/é¢è¯•/">é¢è¯•</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>fetch</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="ä¸ºä»€ä¹ˆéœ€è¦-fetch">ä¸ºä»€ä¹ˆéœ€è¦ <code>fetch</code><a aria-hidden="true" class="hash-link" href="#ä¸ºä»€ä¹ˆéœ€è¦-fetch" title="Direct link to heading">â€‹</a></h2><p>è¿‘å¹´æ¥å‰ç«¯ <code>MV\*</code>çš„å‘å±•å£®å¤§ï¼Œäººä»¬è¶Šæ¥è¶Šå°‘çš„ä½¿ç”¨ jQueryï¼Œæˆ‘ä»¬ä¸å¯èƒ½å•ç‹¬ä¸ºäº†ä½¿ç”¨ jQuery çš„<code>Ajax api</code>æ¥å•ç‹¬å¼•å…¥ä»–ï¼Œæ— å¯é¿å…çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾æ–°çš„æŠ€æœ¯æ–¹æ¡ˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="ä»€ä¹ˆæ˜¯-fetch">ä»€ä¹ˆæ˜¯ fetch<a aria-hidden="true" class="hash-link" href="#ä»€ä¹ˆæ˜¯-fetch" title="Direct link to heading">â€‹</a></h2><p><code>Fetch API</code>æ˜¯ä¸€ä¸ªç”¨ç”¨äºè®¿é—®å’Œæ“çºµ<code>HTTPç®¡é“</code>çš„å¼ºå¤§çš„åŸç”Ÿ APIã€‚</p><blockquote><p>è¿™ç§åŠŸèƒ½ä»¥å‰æ˜¯ä½¿ç”¨ XMLHttpRequest å®ç°çš„ã€‚Fetch æä¾›äº†ä¸€ä¸ªæ›´å¥½çš„æ›¿ä»£æ–¹æ³•ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«å…¶ä»–æŠ€æœ¯ä½¿ç”¨ï¼Œä¾‹å¦‚ Service Workersã€‚Fetch è¿˜æä¾›äº†å•ä¸ªé€»è¾‘ä½ç½®æ¥å®šä¹‰å…¶ä»– HTTP ç›¸å…³æ¦‚å¿µï¼Œä¾‹å¦‚ CORS å’Œ HTTP çš„æ‰©å±•ã€‚</p></blockquote><p>å¯è§<code>fetch</code>æ˜¯ä½œä¸º<code>XMLHttpRequest</code>çš„æ›¿ä»£å“å‡ºç°çš„ã€‚</p><p>ä½¿ç”¨<code>fetch</code>ï¼Œä½ ä¸éœ€è¦å†é¢å¤–åŠ è½½ä¸€ä¸ªå¤–éƒ¨èµ„æºã€‚ä½†å®ƒè¿˜æ²¡æœ‰è¢«æµè§ˆå™¨å®Œå…¨æ”¯æŒï¼Œæ‰€ä»¥ä½ ä»ç„¶éœ€è¦ä¸€ä¸ª<code>polyfill</code></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="fetch-çš„ä½¿ç”¨">fetch çš„ä½¿ç”¨<a aria-hidden="true" class="hash-link" href="#fetch-çš„ä½¿ç”¨" title="Direct link to heading">â€‹</a></h2><p>ä¸€ä¸ªåŸºæœ¬çš„ <code>fetch</code> è¯·æ±‚ï¼š</p><div class="codeBlockContainer_K1bP language-js"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// è¯·æ±‚å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  headers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Content-Type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;application/json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// è®¾ç½®è¯·æ±‚å¤´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// è¯·æ±‚å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  credentials</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;same-origin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// cookieè®¾ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cors&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// è·¨åŸŸ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;http://www.xxx.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">myJson</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myJson</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å“åº”æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¼‚å¸¸å¤„ç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>Fetch API</code> æä¾›äº†ä¸€ä¸ªå…¨å±€çš„ <code>fetch()</code>æ–¹æ³•ï¼Œä»¥åŠå‡ ä¸ªè¾…åŠ©å¯¹è±¡æ¥å‘èµ·ä¸€ä¸ªç½‘ç»œè¯·æ±‚ã€‚
<img src="http://img.zhangyapeng.club/network/0.Fetch/wlqq_4.png" alt="network/0.Fetch"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="fetch-apiåŸºæœ¬æ–¹æ³•"><code>Fetch API</code>åŸºæœ¬æ–¹æ³•<a aria-hidden="true" class="hash-link" href="#fetch-apiåŸºæœ¬æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="fetch-1"><code>fetch()</code><a aria-hidden="true" class="hash-link" href="#fetch-1" title="Direct link to heading">â€‹</a></h3><p><code>fetch()</code>æ–¹æ³•ç”¨äºå‘èµ·è·å–èµ„æºçš„è¯·æ±‚ã€‚å®ƒè¿”å›ä¸€ä¸ª <code>promise</code>ï¼Œè¿™ä¸ª <code>promise</code> ä¼šåœ¨è¯·æ±‚å“åº”åè¢«<code>resolve</code>ï¼Œå¹¶ä¼ å›<code>Response</code> å¯¹è±¡</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="headers"><code>Headers()</code><a aria-hidden="true" class="hash-link" href="#headers" title="Direct link to heading">â€‹</a></h3><p>å¯ä»¥é€šè¿‡<code>Headers()</code>æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªä½ è‡ªå·±çš„<code>headers</code>å¯¹è±¡ï¼Œç›¸å½“äº <code>response/request</code> çš„å¤´ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ä½ æŸ¥è¯¢åˆ°è¿™äº›å¤´ä¿¡æ¯ï¼Œæˆ–è€…é’ˆå¯¹ä¸åŒçš„ç»“æœåšä¸åŒçš„æ“ä½œã€‚</p><div class="codeBlockContainer_K1bP language-js"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> myHeaders </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Headers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myHeaders</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Content-Type&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text/plain&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="request"><code>Request()</code><a aria-hidden="true" class="hash-link" href="#request" title="Direct link to heading">â€‹</a></h3><p>é€šè¿‡<code>Request()</code>æ„é€ å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>Request</code>å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥ä½œä¸º<code>fetch</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="response"><code>Response</code><a aria-hidden="true" class="hash-link" href="#response" title="Direct link to heading">â€‹</a></h3><p>åœ¨<code>fetch()</code>å¤„ç†å®Œ<code>promises</code>ä¹‹åè¿”å›ä¸€ä¸ª<code>Response</code>å®ä¾‹ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª<code>Response</code>å®ä¾‹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="fetch-polyfill-æºç åˆ†æ"><code>fetch polyfill</code> æºç åˆ†æ<a aria-hidden="true" class="hash-link" href="#fetch-polyfill-æºç åˆ†æ" title="Direct link to heading">â€‹</a></h2><p>ç”±äº <code>fetch</code> æ˜¯ä¸€ä¸ªéå¸¸åº•å±‚çš„ <code>API</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•è¿›ä¸€æ­¥çš„æ¢ç©¶å®ƒçš„åº•å±‚ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å€ŸåŠ©å®ƒçš„ <code>polyfill</code> æ¢ç©¶å®ƒçš„åŸºæœ¬åŸç†ï¼Œå¹¶æ‰¾å‡ºå…¶ä¸­çš„<code>å‘ç‚¹</code>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="ä»£ç ç»“æ„">ä»£ç ç»“æ„<a aria-hidden="true" class="hash-link" href="#ä»£ç ç»“æ„" title="Direct link to heading">â€‹</a></h3><p><img src="http://img.zhangyapeng.club/network/0.Fetch/wlqq_5.png" alt="network/0.Fetch"></p><p>ç”±ä»£ç å¯è§ï¼Œ<code>polyfill</code>ä¸»è¦å¯¹<code>Fetch API</code>æä¾›çš„å››å¤§å¯¹è±¡è¿›è¡Œäº†å°è£…ï¼š</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="fetch-å°è£…">fetch å°è£…<a aria-hidden="true" class="hash-link" href="#fetch-å°è£…" title="Direct link to heading">â€‹</a></h3><p><img src="http://img.zhangyapeng.club/network/0.Fetch/wlqq_6.png" alt="network/0.Fetch"></p><p>ä»£ç éå¸¸æ¸…æ™°ï¼š</p><ul><li>æ„é€ ä¸€ä¸ª<code>Promise</code>å¯¹è±¡å¹¶è¿”å›</li><li>åˆ›å»ºä¸€ä¸ª<code>Request</code>å¯¹è±¡</li><li>åˆ›å»ºä¸€ä¸ª<code>XMLHttpRequest</code>å¯¹è±¡</li><li>å–å‡º<code>Request</code>å¯¹è±¡ä¸­çš„è¯·æ±‚<code>url</code>ï¼Œè¯·æ±‚æ–¹å‘ï¼Œ<code>open</code>ä¸€ä¸ª<code>xhr</code>è¯·æ±‚ï¼Œå¹¶å°†<code>Request</code>å¯¹è±¡ä¸­å­˜å‚¨çš„<code>headers</code>å–å‡ºèµ‹ç»™ xhr</li><li><code>xhr onload</code>åå–å‡º<code>response</code>çš„<code>status</code>ã€<code>headers</code>ã€<code>body</code>å°è£…<code>Response</code>å¯¹è±¡ï¼Œè°ƒç”¨<code>resolve</code>ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="å¼‚å¸¸å¤„ç†">å¼‚å¸¸å¤„ç†<a aria-hidden="true" class="hash-link" href="#å¼‚å¸¸å¤„ç†" title="Direct link to heading">â€‹</a></h3><p><img src="http://img.zhangyapeng.club/network/0.Fetch/wlqq_7.png" alt="network/0.Fetch">
å¯ä»¥å‘ç°ï¼Œè°ƒç”¨<code>reject</code>æœ‰ä¸‰ç§å¯èƒ½ï¼š</p><ol><li><p>è¯·æ±‚è¶…æ—¶</p></li><li><p>è¯·æ±‚å¤±è´¥</p></li></ol><blockquote><p>æ³¨æ„ï¼šå½“å’ŒæœåŠ¡å™¨å»ºç«‹ç®€ä»‹ï¼Œå¹¶æ”¶åˆ°æœåŠ¡å™¨çš„å¼‚å¸¸çŠ¶æ€ç å¦‚ <code>404</code>ã€<code>500</code> ç­‰å¹¶ä¸èƒ½è§¦å‘ <code>onerror</code>ã€‚å½“<code>ç½‘ç»œæ•…éšœ</code>æ—¶æˆ–<code>è¯·æ±‚è¢«é˜»æ­¢</code>æ—¶ï¼Œæ‰ä¼šæ ‡è®°ä¸º <code>reject</code>ï¼Œå¦‚<code>è·¨åŸŸ</code>ã€<code>url</code> ä¸å­˜åœ¨ï¼Œç½‘ç»œå¼‚å¸¸ç­‰ä¼šè§¦å‘<code>onerror</code>ã€‚</p></blockquote><p>æ‰€ä»¥ä½¿ç”¨<code>fetch</code>å½“æ¥æ”¶åˆ°å¼‚å¸¸çŠ¶æ€ç éƒ½æ˜¯ä¼šè¿›å…¥ <code>then</code> è€Œä¸æ˜¯ <code>catch</code>ã€‚è¿™äº›é”™è¯¯è¯·æ±‚å¾€å¾€è¦æ‰‹åŠ¨å¤„ç†ã€‚</p><ol start="3"><li>æ‰‹åŠ¨ç»ˆæ­¢</li></ol><p>å¯ä»¥åœ¨ <code>request</code> å‚æ•°ä¸­ä¼ å…¥ <code>signal</code>å¯¹è±¡ï¼Œå¹¶å¯¹ <code>signal</code>å¯¹è±¡æ·»åŠ  <code>abort</code>äº‹ä»¶ç›‘å¬ï¼Œå½“ <code>xhr.readyState</code> å˜ä¸º <code>4</code>ï¼ˆå“åº”å†…å®¹è§£æå®Œæˆï¼‰åå°† <code>signal</code>å¯¹è±¡çš„ <code>abort</code>äº‹ä»¶ç›‘å¬ç§»é™¤æ‰ã€‚</p><p>è¿™è¡¨ç¤ºï¼Œåœ¨ä¸€ä¸ª <code>fetch</code> è¯·æ±‚ç»“æŸä¹‹å‰å¯ä»¥è°ƒç”¨<code>signal.abort</code>å°†å…¶ç»ˆæ­¢ã€‚åœ¨æµè§ˆå™¨ä¸­å¯ä»¥ä½¿ç”¨<code>AbortController()</code>æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ï¼Œç„¶åä½¿ç”¨ <code>AbortController.signal</code> å±æ€§</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="headers-å°è£…">Headers å°è£…<a aria-hidden="true" class="hash-link" href="#headers-å°è£…" title="Direct link to heading">â€‹</a></h3><p><img src="http://img.zhangyapeng.club/network/0.Fetch/wlqq_8.png" alt="network/0.Fetch"></p><p>åœ¨<code>header</code>å¯¹è±¡ä¸­ç»´æŠ¤äº†ä¸€ä¸ª<code>map</code>å¯¹è±¡ï¼Œæ„é€ å‡½æ•°ä¸­å¯ä»¥ä¼ å…¥<code>Header</code>å¯¹è±¡ã€æ•°ç»„ã€æ™®é€šå¯¹è±¡ç±»å‹çš„<code>header</code>ï¼Œå¹¶å°†æ‰€æœ‰çš„å€¼ç»´æŠ¤åˆ° <code>map</code>ä¸­ã€‚</p><p>ä¹‹å‰åœ¨ <code>fetch</code> å‡½æ•°ä¸­çœ‹åˆ°è°ƒç”¨äº† <code>header</code> çš„<code>forEach</code> æ–¹æ³•ï¼Œä¸‹é¢æ˜¯å®ƒçš„å®ç°ï¼š
<img src="http://img.zhangyapeng.club/network/0.Fetch/wlqq_9.png" alt="network/0.Fetch">
å¯è§ <code>header</code> çš„éå†å³å…¶å†…éƒ¨ <code>map</code> çš„éå†ã€‚</p><p>å¦å¤– <code>Header</code> è¿˜æä¾›äº† <code>append</code>ã€<code>delete</code>ã€<code>get</code>ã€<code>set</code> ç­‰æ–¹æ³•ï¼Œéƒ½æ˜¯å¯¹å…¶å†…éƒ¨çš„ <code>map</code> å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="request-å¯¹è±¡">Request å¯¹è±¡<a aria-hidden="true" class="hash-link" href="#request-å¯¹è±¡" title="Direct link to heading">â€‹</a></h3><p><img src="http://img.zhangyapeng.club/network/0.Fetch/wlqq_10.png" alt="network/0.Fetch"></p><p><code>Request</code>å¯¹è±¡æ¥æ”¶çš„ä¸¤ä¸ªå‚æ•°å³<code>fetch</code>å‡½æ•°æ¥æ”¶çš„ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ç›´æ¥ä¼ é€’<code>url</code>ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªæ„é€ å¥½çš„<code>requestå¯¹è±¡</code>ã€‚ç¬¬äºŒä¸ªå‚æ•°å³æ§åˆ¶ä¸åŒé…ç½®çš„<code>optionå¯¹è±¡</code>ã€‚</p><p>å¯ä»¥ä¼ å…¥ <code>credentials</code>ã€<code>headers</code>ã€<code>method</code>ã€<code>mode</code>ã€<code>signal</code>ã€<code>referrer</code> ç­‰å±æ€§ã€‚</p><blockquote><p>è¿™é‡Œæ³¨æ„ï¼š
ä¼ å…¥çš„ <code>headers</code> è¢«å½“ä½œ <code>Headers</code> æ„é€ å‡½æ•°çš„å‚æ•°æ¥æ„é€  <code>header</code> å¯¹è±¡ã€‚</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dapengdouyu/docs/tree/master/docs/program/network/0ã€Fetch.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-12-20T08:39:48.000Z">12/20/2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/program/network/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->index</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/program/network/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">å‰ç«¯çš„è¯·æ±‚æ–¹å¼<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ä¸ºä»€ä¹ˆéœ€è¦-fetch" class="table-of-contents__link toc-highlight">ä¸ºä»€ä¹ˆéœ€è¦ <code>fetch</code></a></li><li><a href="#ä»€ä¹ˆæ˜¯-fetch" class="table-of-contents__link toc-highlight">ä»€ä¹ˆæ˜¯ fetch</a></li><li><a href="#fetch-çš„ä½¿ç”¨" class="table-of-contents__link toc-highlight">fetch çš„ä½¿ç”¨</a></li><li><a href="#fetch-apiåŸºæœ¬æ–¹æ³•" class="table-of-contents__link toc-highlight"><code>Fetch API</code>åŸºæœ¬æ–¹æ³•</a><ul><li><a href="#fetch-1" class="table-of-contents__link toc-highlight"><code>fetch()</code></a></li><li><a href="#headers" class="table-of-contents__link toc-highlight"><code>Headers()</code></a></li><li><a href="#request" class="table-of-contents__link toc-highlight"><code>Request()</code></a></li><li><a href="#response" class="table-of-contents__link toc-highlight"><code>Response</code></a></li></ul></li><li><a href="#fetch-polyfill-æºç åˆ†æ" class="table-of-contents__link toc-highlight"><code>fetch polyfill</code> æºç åˆ†æ</a><ul><li><a href="#ä»£ç ç»“æ„" class="table-of-contents__link toc-highlight">ä»£ç ç»“æ„</a></li><li><a href="#fetch-å°è£…" class="table-of-contents__link toc-highlight">fetch å°è£…</a></li><li><a href="#å¼‚å¸¸å¤„ç†" class="table-of-contents__link toc-highlight">å¼‚å¸¸å¤„ç†</a></li><li><a href="#headers-å°è£…" class="table-of-contents__link toc-highlight">Headers å°è£…</a></li><li><a href="#request-å¯¹è±¡" class="table-of-contents__link toc-highlight">Request å¯¹è±¡</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 dapeng (å¼ äºšé¹)  <a href="https://beian.miit.gov.cn/#/Integrated/index">äº¬ICPå¤‡20028300å·</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.e2552c1f.js"></script>
<script src="/assets/js/main.d3677d32.js"></script>
</body>
</html>