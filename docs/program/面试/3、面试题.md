```js
function Foo() {
  getName = function () {
    console.log(1);
  };
  return this;
}
Foo.getName = function () {
  console.log(2);
};
Foo.prototype.getName = function () {
  console.log(3);
};
var getName = function () {
  console.log(4);
};
function getName() {
  console.log(5);
}
Foo.getName();
getName();
Foo().getName();
getName();
new Foo.getName();
new Foo().getName();
new new Foo().getName();

//2 4 1 1 2
```

## 2. 写一个程序，解析下面的 queryString,返回对象

### test

```js
console.log(parse("a=1&b=2&c=3"));
console.log(parse("a&b&c"));
console.log(parse("a[name]=yl&a[age]=20&b[age]=2&c=3"));
console.log(parse("color=deep%20blue"));
console.log(parse("a[0]=1&a[1]=2"));
```

### 实现

```js
function parse(url) {
  return url.split("&").reduce((memo, next) => {
    const [key, value] = next.split("=");
    if (!value) return memo;
    const path = key.split(/[\[\]\.]/).filter((item) => item !== "");
    deep_set(memo, path, value);
    return memo;
  }, {});
}
function deep_set(memo, path, value) {
  path.reduce((obj, key, index, arr) => {
    if (index === arr.length - 1) {
      obj[key] = decodeURIComponent(value);
    } else {
      if (obj[key] == null) {
        if (arr[index + 1].match(/^\d+$/)) {
          obj[key]=[]
        }else{
          obj[key]={}
        }
      }
    }
    return obj[key]
  }, memo);
}
```
