<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Dapengçš„åšå®¢ Blog RSS Feed">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?7dda2565ba246ecd62878c13153e2941",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="IXU12YQUjF">
<link rel="preconnect" href="https://hmcdn.baidu.com">
<link rel="stylesheet" href="https://cansiny.oss-cn-shanghai.aliyuncs.com/assets/fonts.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰ - Dapengçš„åšå®¢</title><meta data-react-helmet="true" property="og:url" content="https://dapengdouyu.github.io/docs/books/babel/13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰ - Dapengçš„åšå®¢"><meta data-react-helmet="true" name="description" content="ä¸Šä¸€èŠ‚æˆ‘ä»¬å­¦ä¹ äº† babel æ’ä»¶çš„åˆ†ç±»ã€babel çš„ presetã€helperã€runtimeã€‚babel çš„åŠŸèƒ½åŸºæœ¬éƒ½å»ºç«‹åœ¨è¿™äº›ä¹‹ä¸Šï¼Œbabel 6 åˆ° babel 7 è¿˜æœ‰æœªæ¥çš„ babel 8 åŸºäºè¿™äº›åšäº†ä¸åŒçš„è®¾è®¡ã€‚"><meta data-react-helmet="true" property="og:description" content="ä¸Šä¸€èŠ‚æˆ‘ä»¬å­¦ä¹ äº† babel æ’ä»¶çš„åˆ†ç±»ã€babel çš„ presetã€helperã€runtimeã€‚babel çš„åŠŸèƒ½åŸºæœ¬éƒ½å»ºç«‹åœ¨è¿™äº›ä¹‹ä¸Šï¼Œbabel 6 åˆ° babel 7 è¿˜æœ‰æœªæ¥çš„ babel 8 åŸºäºè¿™äº›åšäº†ä¸åŒçš„è®¾è®¡ã€‚"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dapengdouyu.github.io/docs/books/babel/13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/books/babel/13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/books/babel/13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5ab70b72.css">
<link rel="preload" href="/assets/js/runtime~main.3c5dc381.js" as="script">
<link rel="preload" href="/assets/js/main.055808b2.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">DAPENG</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">åšå®¢</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tags/java-script">JavaScript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">å‰ç«¯</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/program/javascript/index">Javascript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">é˜…è¯»</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/books/babel/index">babel</a></li></ul></div><a href="https://github.com/dapengdouyu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰</h1></header><p>ä¸Šä¸€èŠ‚æˆ‘ä»¬å­¦ä¹ äº† babel æ’ä»¶çš„åˆ†ç±»ã€babel çš„ presetã€helperã€runtimeã€‚babel çš„åŠŸèƒ½åŸºæœ¬éƒ½å»ºç«‹åœ¨è¿™äº›ä¹‹ä¸Šï¼Œbabel 6 åˆ° babel 7 è¿˜æœ‰æœªæ¥çš„ babel 8 åŸºäºè¿™äº›åšäº†ä¸åŒçš„è®¾è®¡ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä»ç›®æ ‡è¯­è¨€ç‰ˆæœ¬åˆ°ç›®æ ‡æµè§ˆå™¨"></a>ä»ç›®æ ‡è¯­è¨€ç‰ˆæœ¬åˆ°ç›®æ ‡æµè§ˆå™¨<a class="hash-link" href="#ä»ç›®æ ‡è¯­è¨€ç‰ˆæœ¬åˆ°ç›®æ ‡æµè§ˆå™¨" title="Direct link to heading">#</a></h2><p>æˆ‘ä»¬é€šè¿‡æ’ä»¶å®Œæˆäº†å„ç§ä»£ç ï¼ˆes nextã€proposalã€typescript/flow/jsx...ï¼‰åˆ° es5 çš„è½¬æ¢ï¼Œç„¶åæŠŠä¸åŒçš„è½¬æ¢æ’ä»¶å°è£…åˆ°ä¸åŒçš„ preset ï¼ˆpreset-envã€preset-typescriptã€preset-react...ï¼‰é‡Œï¼Œè€Œä¸”è¿˜æŠŠæ’ä»¶å†…éƒ¨çš„å…¬å…±é€»è¾‘æŠ½æˆ helper æ¥å¤ç”¨ï¼Œå¹¶ä¸”æä¾›äº† runtime åŒ…ç”¨äºæ³¨å…¥è¿è¡Œæ—¶çš„ apiã€‚è¿™æ ·å·²ç»èƒ½å¤Ÿè¾¾åˆ°ä¸åŒè¯­æ³•çš„ä»£ç è½¬ es5 åŒæ—¶å¯¹ api è¿›è¡Œ polyfill çš„ç›®æ ‡äº†ã€‚ ä½†æ˜¯è¿™æ ·å°±å¤Ÿäº†ä¹ˆï¼Ÿè¿˜æœ‰å“ªäº›é—®é¢˜ï¼Ÿ</p><ul><li><p>æˆ‘ä»¬ç°åœ¨æ˜¯æŒ‡å®šäº†ç›®æ ‡ç¯å¢ƒæ”¯æŒ es5ï¼Œé‚£ä¹ˆå¦‚æœç›®æ ‡ç¯å¢ƒæ”¯æŒäº†éƒ¨åˆ† es6ï¼ˆes2015ï¼‰ã€es7ï¼ˆes2016ï¼‰ç­‰ï¼Œé‚£å²‚ä¸æ˜¯åšäº†å¾ˆå¤šæ— ç”¨åŠŸï¼Ÿ</p></li><li><p>preset-es2015ã€preset-es2016ã€preset-stage-x è¿™ç§ preset è·Ÿéšç‰ˆæœ¬èµ°çš„ï¼Œé‚£å²‚ä¸æ˜¯ç»å¸¸å˜ï¼Œå¾—ç»å¸¸æ”¹è¿™äº› preset çš„å†…å®¹ ï¼ˆå½“æŸä¸ªææ¡ˆä» stage 0 è¿›å…¥åˆ° stage 1 å°±å¾—æ”¹ä¸‹ï¼‰ï¼Œè¿™æ ·å¤šç´¯å•Šï¼Œè€Œä¸”ç”¨æˆ·ä¹Ÿå¾—ç»å¸¸æ”¹é…ç½®ï¼Œstage-x å¯¹ä»–æ¥è¯´æ˜¯ä¸ªé»‘ç›’ï¼Œä¸é è°±ã€‚</p></li></ul><p><strong>æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å‘¢ï¼Ÿ</strong></p><p>babel6 åˆ° babel7 çš„å˜åŒ–ç»™å‡ºäº†ç­”æ¡ˆï¼š</p><p>preset ç»å¸¸å˜çš„é—®é¢˜é€šè¿‡åºŸå¼ƒ stage-x å’Œ es20xx çš„ presetï¼Œæ”¹æˆ preset-env å’Œ plugin-proposal-xx çš„æ–¹å¼æ¥è§£å†³ï¼Œ è¿™æ ·ä¸éœ€è¦æŒ‡å®šç”¨çš„æ˜¯ es å‡ äº†ï¼Œé»˜è®¤ä¼šå…¨éƒ¨æ”¯æŒï¼ŒåŒ…å«<a href="https://github.com/babel/babel/blob/master/packages/babel-compat-data/scripts/data/plugin-features.js" target="_blank" rel="noopener noreferrer">æ‰€æœ‰çš„å·²ç»æ˜¯è¯­è¨€æ ‡å‡†ç‰¹æ€§çš„ transform plugin</a>ï¼Œ è€Œä¸” stage-x æœ‰å“ªäº›ä¸å†æ˜¯é»‘ç›’ï¼Œç”¨æˆ·æƒ³ç”¨å•¥è¿˜åœ¨ proposal çš„ç‰¹æ€§ç›´æ¥æ˜¾ç¤ºå¼•å…¥å¯¹åº”çš„ pluginã€‚</p><p>å¤šè½¬æ¢äº†ç›®æ ‡ç¯å¢ƒæ”¯æŒçš„è¯­æ³•æˆ– api çš„é—®é¢˜æ˜¯è¦è§£å†³è½¬æ¢çš„ç²¾å‡†åº¦çš„é—®é¢˜ï¼Œå¯æ˜¯ç›®æ ‡ç¯å¢ƒé‚£ä¹ˆå¤šï¼Œæµè§ˆå™¨ç‰ˆæœ¬ã€node ç‰ˆæœ¬ã€electron ç‰ˆæœ¬æ¯å¹´éƒ½åœ¨å˜ï¼Œæ€ä¹ˆåšåˆ°ç²¾å‡†ï¼Ÿ</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="comat-table"></a>comat-table<a class="hash-link" href="#comat-table" title="Direct link to heading">#</a></h5><p>ç­”æ¡ˆæ˜¯ compat-table çš„æ•°æ®ï¼Œcompat-table æä¾›äº†æ¯ä¸ªç‰¹æ€§åœ¨ä¸åŒç¯å¢ƒä¸­çš„æ”¯æŒç‰ˆæœ¬ã€‚</p><p>æ¯”å¦‚<a href="https://github.com/kangax/compat-table/blob/gh-pages/data-es6.js#L1864-L1904" target="_blank" rel="noopener noreferrer">é»˜è®¤å‚æ•°</a>è¿™ä¸ª es2015 çš„ç‰¹æ€§ï¼Œå¯ä»¥æŸ¥åˆ°åœ¨ babel6 ä¸” corejs2 ä»¥ä¸Šæ”¯æŒï¼Œåœ¨ chrome ä¸­æ˜¯ 49 ä»¥ä¸Šæ”¯æŒï¼Œchrome48 ä¸­è¿˜æ˜¯å®éªŒç‰¹æ€§ï¼Œåœ¨ node6 ä»¥ä¸Šæ”¯æŒï¼Œç­‰ç­‰ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f1adc5fc56d4ec1ad4cb757eb3356c5~tplv-k3u1fbpfcp-watermark.image"></p><p>å…‰æ˜¯è¿™äº›æ•°æ®è¿˜ä¸å¤Ÿï¼Œelectron æœ‰è‡ªå·±çš„ç‰ˆæœ¬ï¼Œè¦æ”¯æŒ electron å¾—éœ€è¦ electron ç‰ˆæœ¬å’Œå®ƒç”¨çš„ chromuim çš„ç‰ˆæœ¬çš„å¯¹åº”å…³ç³»ã€‚</p><p>ä¸‡å¹¸æœ‰ electron-to-chromium è¿™ä¸ªé¡¹ç›®ï¼Œå®ƒç»´æŠ¤äº† <a href="https://github.com/Kilian/electron-to-chromium/blob/master/full-versions.js" target="_blank" rel="noopener noreferrer">electron ç‰ˆæœ¬åˆ° chromium ç‰ˆæœ¬çš„æ˜ å°„å…³ç³»</a>ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87e37c9049544f429cd2a48afb434a81~tplv-k3u1fbpfcp-watermark.image"></p><p>ä¹Ÿå¯ä»¥åè¿‡æ¥æŸ¥è¯¢ <a href="https://github.com/Kilian/electron-to-chromium/blob/master/full-chromium-versions.js" target="_blank" rel="noopener noreferrer">chromium ç‰ˆæœ¬åœ¨å“ªäº› electron ç‰ˆæœ¬ä¸­ä½¿ç”¨</a>ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d759abbb6a8f422aa791f6ce6e2dd918~tplv-k3u1fbpfcp-watermark.image"></p><p>æœ‰äº†è¿™äº›æ•°æ®ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥é“æ¯ä¸€ä¸ªç‰¹æ€§åœ¨å“ªäº›ç¯å¢ƒçš„ä»€ä¹ˆç‰ˆæœ¬æ”¯æŒã€‚</p><p>babel7 åœ¨ \@babel/compat-data è¿™ä¸ªåŒ…é‡Œé¢ç»´æŠ¤äº†è¿™ç§ç‰¹æ€§åˆ°ç¯å¢ƒæ”¯æŒç‰ˆæœ¬çš„æ˜ å°„å…³ç³»ï¼ŒåŒ…æ‹¬ <a href="https://github.com/babel/babel/blob/main/packages/babel-compat-data/data/plugins.json" target="_blank" rel="noopener noreferrer">plugin å®ç°çš„ç‰¹æ€§çš„ç‰ˆæœ¬æ”¯æŒæƒ…å†µ</a>ï¼ˆåŒ…æ‹¬ transform å’Œ proposal ï¼‰ï¼Œä¹ŸåŒ…æ‹¬ <a href="https://github.com/babel/babel/blob/main/packages/babel-compat-data/data/corejs2-built-ins.json" target="_blank" rel="noopener noreferrer">corejs æ‰€ polyfill çš„ç‰¹æ€§çš„ç‰ˆæœ¬æ”¯æŒæƒ…å†µ</a>ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/39ed0641db8a4547a8c857306c22e286~tplv-k3u1fbpfcp-watermark.image"></p><p>è¿™æ ·æˆ‘ä»¬å°±çŸ¥é“æ¯ä¸€ä¸ªç‰¹æ€§æ˜¯åœ¨ä»€ä¹ˆç¯å¢ƒä¸­æ”¯æŒçš„äº†ï¼Œæ¥ä¸‹æ¥åªè¦ç”¨æˆ·æŒ‡å®šä¸€ä¸ªç¯å¢ƒï¼Œæˆ‘ä»¬å°±èƒ½åšåˆ°æŒ‰éœ€è½¬æ¢ï¼</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="browserslist"></a>browserslist<a class="hash-link" href="#browserslist" title="Direct link to heading">#</a></h5><p>é‚£å¼€å‘è€…æ€ä¹ˆæŒ‡å®šç¯å¢ƒå‘¢ï¼Ÿ</p><p>è®©å¼€å‘è€…å†™æ¯ä¸ªç¯å¢ƒçš„ç‰ˆæœ¬æ˜¯å•¥è‚¯å®šä¸é è°±ï¼Œè¿™æ—¶å€™å°±è¦å€ŸåŠ© browerslist äº†ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªä» query ï¼ˆæŸ¥è¯¢è¡¨è¾¾å¼ï¼‰ åˆ°å¯¹åº”ç¯å¢ƒç‰ˆæœ¬çš„è½¬æ¢ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ last 1 version æ¥æŸ¥è¯¢æœ€æ–°çš„å„ç¯å¢ƒçš„ç‰ˆæœ¬</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e6aa23bc2102480894c72916418b3eb1~tplv-k3u1fbpfcp-watermark.image"></p><p>ä¹Ÿå¯ä»¥é€šè¿‡ supports es6-module æŸ¥è¯¢æ‰€æœ‰æ”¯æŒ es module çš„ç¯å¢ƒç‰ˆæœ¬</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/db1cf4c0f5294a268043e03e0d866327~tplv-k3u1fbpfcp-watermark.image"></p><p>å…·ä½“æŸ¥è¯¢çš„è¯­æ³•æœ‰å¾ˆå¤šï¼Œå¯ä»¥å» <a href="https://github.com/browserslist/browserslist#queries" target="_blank" rel="noopener noreferrer">browserslist çš„ query æ–‡æ¡£</a>ä¸­å­¦ä¹ ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="babelpreset-env"></a>\@babel/preset-env<a class="hash-link" href="#babelpreset-env" title="Direct link to heading">#</a></h5><p>ç°åœ¨æœ‰äº†ä»€ä¹ˆç‰¹æ€§åœ¨ä»€ä¹ˆç¯å¢ƒç‰ˆæœ¬ä¸­æ”¯æŒï¼Œæœ‰äº†å¯ä»¥é€šè¿‡ query æŒ‡å®šç›®æ ‡ç¯å¢ƒç‰ˆæœ¬çš„å·¥å…·ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸Šæ‰‹æ”¹äº†ï¼Œä»éƒ½è½¬æˆ es5 åˆ°æ ¹æ®ç›®æ ‡ç¯å¢ƒç¡®å®šä¸æ”¯æŒçš„ç‰¹æ€§ï¼Œåªè½¬æ¢è¿™éƒ¨åˆ†ç‰¹æ€§ï¼Œè¿™å°±æ˜¯ \@babel/preset-env åšçš„äº‹æƒ…ã€‚</p><p>æœ‰äº† \@babel/compat-data çš„æ•°æ®ï¼Œé‚£ä¹ˆåªè¦ç”¨æˆ·æŒ‡å®šä»–çš„ç›®æ ‡ç¯å¢ƒæ˜¯å•¥å°±å¯ä»¥äº†ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨ browserslist çš„ query æ¥å†™ï¼Œæ¯”å¦‚ <code>last 1 version, &gt; 1%</code> è¿™ç§å­—ç¬¦ä¸²ï¼Œbabel ä¼šä½¿ç”¨ brwoserslist æ¥æŠŠå®ƒä»¬è½¬æˆç›®æ ‡ç¯å¢ƒå…·ä½“ç‰ˆæœ¬çš„æ•°æ®ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a318db95f7cb4f139981f2f453bdc39e~tplv-k3u1fbpfcp-watermark.image"></p><p>æœ‰äº†ä¸åŒç‰¹æ€§æ”¯æŒçš„ç¯å¢ƒçš„æœ€ä½ç‰ˆæœ¬çš„æ•°æ®ï¼Œæœ‰äº†å…·ä½“çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆè¿‡æ»¤å‡ºæ¥çš„å°±æ˜¯ç›®æ ‡ç¯å¢ƒä¸æ”¯æŒçš„ç‰¹æ€§ï¼Œç„¶åå¼•å…¥å®ƒä»¬å¯¹åº”çš„æ’ä»¶å³å¯ã€‚è¿™å°±æ˜¯ preset-env åšçš„äº‹æƒ…(æŒ‰ç…§ç›®æ ‡ç¯å¢ƒæŒ‰éœ€å¼•å…¥æ’ä»¶)ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ccb1144f8924fb99cc6073859289124~tplv-k3u1fbpfcp-watermark.image"></p><p>é…ç½®æ–¹å¼æ¯”å¦‚ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;presets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;@babel/preset-env&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;targets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt; 0.25%, not dead&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿™æ ·å°±é€šè¿‡ preset-env è§£å†³äº†å¤šè½¬æ¢äº†ç›®æ ‡ç¯å¢ƒå·²ç»æ”¯æŒçš„ç‰¹æ€§çš„é—®é¢˜ã€‚</p><p>å…¶å® polyfill ä¹Ÿå¯ä»¥é€šè¿‡ targets æ¥è¿‡æ»¤ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d8df3916feb4da7b445e8771e779353~tplv-k3u1fbpfcp-watermark.image"></p><p>ä¸å†æ‰‹åŠ¨å¼•å…¥ polyfillï¼Œé‚£ä¹ˆæ€ä¹ˆå¼•å…¥ï¼Ÿ å½“ç„¶æ˜¯ç”¨ preset-env è‡ªåŠ¨å¼•å…¥äº†ã€‚ä½†æ˜¯ä¸æ˜¯é»˜è®¤å°±ä¼šå¯ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦é…ç½®ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;presets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;@babel/preset-env&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;targets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt; 0.25%, not dead&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;useBuiltIns&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;usage&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">// or &quot;entry&quot; or &quot;false&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;corejs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>é…ç½®ä¸‹ corejs å’Œ useBuiltInsã€‚</p><ul><li><p>corejs å°±æ˜¯ babel 7 æ‰€ç”¨çš„ polyfillï¼Œéœ€è¦æŒ‡å®šä¸‹ç‰ˆæœ¬ï¼Œcorejs 3 æ‰æ”¯æŒå®ä¾‹æ–¹æ³•ï¼ˆæ¯”å¦‚ Array.prototype.fill ï¼‰çš„ polyfillã€‚</p></li><li><p>useBuiltIns å°±æ˜¯ä½¿ç”¨ polyfill ï¼ˆcorejsï¼‰çš„æ–¹å¼ï¼Œæ˜¯åœ¨å…¥å£å¤„å…¨éƒ¨å¼•å…¥ï¼ˆentryï¼‰ï¼Œè¿˜æ˜¯æ¯ä¸ªæ–‡ä»¶å¼•å…¥ç”¨åˆ°çš„ï¼ˆusageï¼‰ï¼Œæˆ–è€…ä¸å¼•å…¥ï¼ˆfalseï¼‰ã€‚</p></li></ul><p>é…ç½®äº†è¿™ä¸¤ä¸ª option å°±å¯ä»¥è‡ªåŠ¨å¼•å…¥ polyfill äº†ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6ea48ded51f04512bac80b8e4db809cb~tplv-k3u1fbpfcp-watermark.image"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="babelpreset-env-çš„é…ç½®"></a>\@babel/preset-env çš„é…ç½®<a class="hash-link" href="#babelpreset-env-çš„é…ç½®" title="Direct link to heading">#</a></h4><p>è¿™ä¸ªåŒ…çš„é…ç½®æ¯”è¾ƒå¤šï¼Œé¦–å…ˆæˆ‘ä»¬è¦æŒ‡å®šçš„æ˜¯ targetsï¼Œä¹Ÿå°±æ˜¯ browserslist çš„ queryï¼Œè¿™ä¸ªåŒæ ·å¯ä»¥åœ¨ .browserslistrc çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šï¼ˆåˆ«çš„å·¥å…·ä¹Ÿå¯èƒ½ç”¨åˆ°ï¼‰ã€‚</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="targets"></a>targets<a class="hash-link" href="#targets" title="Direct link to heading">#</a></h5><p>targets é…å•¥å‘¢ï¼Ÿ</p><p>å¯ä»¥é… query æˆ–è€…ç›´æ¥æŒ‡å®šç¯å¢ƒç‰ˆæœ¬ï¼ˆquery çš„ç»“æœä¹Ÿæ˜¯ç¯å¢ƒç‰ˆæœ¬ï¼‰ã€‚</p><p>ç¯å¢ƒæœ‰è¿™äº›ï¼š</p><p>chrome, opera, edge, firefox, safari, ie, ios, android, node, electron</p><p>å¯ä»¥æŒ‡å®š queryï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;targets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt; 0.25%, not dead&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šç¯å¢ƒç‰ˆæœ¬ï¼›</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;targets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;chrome&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;58&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;ie&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;11&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¦æŒ‡å®šæ”¯æŒ es module çš„ç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨ queryï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ esmodules optionã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;targets&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;esmodules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="include--exclude"></a>include \&amp; exclude<a class="hash-link" href="#include--exclude" title="Direct link to heading">#</a></h5><p>é€šè¿‡ targets çš„æŒ‡å®šï¼Œbabel ä¼šè‡ªåŠ¨å¼•å…¥<a href="https://github.com/babel/babel/blob/master/packages/babel-compat-data/scripts/data/plugin-features.js" target="_blank" rel="noopener noreferrer">ä¸€äº›æ’ä»¶</a>ï¼Œä½†å½“éœ€è¦æ‰‹åŠ¨æŒ‡å®šè¦ include æˆ–è€… exclude ä»€ä¹ˆæ’ä»¶çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è¿™ä¸ª optionã€‚</p><p>ä¸è¿‡è¿™ä¸ªåªæ˜¯é’ˆå¯¹ transform pluginï¼Œå¯¹äº proposal pluginï¼Œè¦åœ¨ pluginsçš„ option å•ç‹¬å¼•å…¥ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸éœ€è¦å•ç‹¬ include å•¥ï¼Œç”¨ babel æ ¹æ® targets è‡ªåŠ¨å¼•å…¥çš„ transform plugin å³å¯ï¼Œåªæ˜¯æœ‰ä¸€äº›ç‰¹æ®Šåœºæ™¯ä¸‹å¯èƒ½ä¼šç”¨åˆ°ã€‚</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="modules"></a>modules<a class="hash-link" href="#modules" title="Direct link to heading">#</a></h5><p>targets æ˜¯æŒ‡å®šç›®æ ‡ç¯å¢ƒï¼Œmodules æ˜¯æŒ‡å®šç›®æ ‡æ¨¡å—è§„èŒƒï¼Œå–å€¼æœ‰ amdã€umdã€systemjsã€commonjs (cjs)ã€autoã€falseã€‚</p><ul><li><p>amdã€umdã€systemjsã€commonjs (cjs) è¿™å››ä¸ªåˆ†åˆ«æŒ‡å®šä¸åŒçš„ç›®æ ‡æ¨¡å—è§„èŒƒ</p></li><li><p>false æ˜¯ä¸è½¬æ¢æ¨¡å—è§„èŒƒ</p></li><li><p>auto åˆ™æ˜¯è‡ªåŠ¨æ¢æµ‹ï¼Œé»˜è®¤å€¼ä¹Ÿæ˜¯è¿™ä¸ªã€‚</p></li></ul><p>å…¶å®ä¸€èˆ¬è¿™ä¸ª option éƒ½æ˜¯ bundler æ¥è®¾ç½®çš„ï¼Œå› ä¸º bundler è´Ÿè´£æ¨¡å—è½¬æ¢ï¼Œè‡ªç„¶çŸ¥é“è¦è½¬æ¢æˆä»€ä¹ˆæ¨¡å—è§„èŒƒã€‚æˆ‘ä»¬å¹³æ—¶å°±ç”¨é»˜è®¤å€¼ auto å³å¯ã€‚</p><p>ç±»ä¼¼ babel parser å¯ä»¥è®¾ç½® moduleType ä¸º unambiguousï¼Œè®© babel æ ¹æ®æ˜¯å¦åŒ…å« import / export è¯­æ³•æ¥è‡ªåŠ¨è®¾ç½®ä¸ºå…·ä½“çš„å€¼ã€‚ è¿™ä¸ª auto ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä¼šæ ¹æ®æ¢æµ‹åˆ°çš„ç›®æ ‡ç¯å¢ƒæ”¯æŒçš„æ¨¡å—è§„èŒƒæ¥åšè½¬æ¢ã€‚ä¾æ®æ˜¯åœ¨ transform çš„æ—¶å€™ä¼ å…¥çš„ caller æ•°æ®ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">babel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">transformFileSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;example.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  caller</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-custom-tool&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    supportsStaticESM</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ¯”å¦‚åœ¨è°ƒç”¨ transformFile çš„ api çš„æ—¶å€™ä¼ å…¥äº† caller æ˜¯æ”¯æŒ esm çš„ï¼Œé‚£ä¹ˆåœ¨ targets çš„ modules å°±ä¼šè‡ªåŠ¨è®¾ç½®ä¸º esmã€‚</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="debug"></a>debug<a class="hash-link" href="#debug" title="Direct link to heading">#</a></h5><p>debug è¿™ä¸ªå‚æ•°é…ç½®æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯ ture æˆ–è€… falseï¼Œä½†æ˜¯æ„ä¹‰å´å¾ˆå¤§ã€‚æˆ‘ä»¬çŸ¥é“ babel ä¼šæ ¹æ® targets æ”¯æŒçš„ç‰¹æ€§æ¥è¿‡æ»¤ transform plugins å’Œ polyfillsï¼ˆcore-jsï¼‰ã€‚æƒ³çŸ¥é“æœ€ç»ˆä½¿ç”¨çš„ transform plugin å’Œå¼•å…¥çš„ core-js æ¨¡å—æ˜¯å¦å¯¹ï¼Œé‚£å°±å¯ä»¥æŠŠ debug è®¾ä¸º trueï¼Œè¿™æ ·åœ¨æ§åˆ¶å°æ‰“å°è¿™äº›æ•°æ®ã€‚</p><p>æ¯”å¦‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sourceCode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c"></span></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">  import &quot;core-js&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c">  new Array(5).fill(&#x27;111&#x27;);</span></span><span class="token-line" style="color:#393A34"><span class="token template-string string" style="color:#e3116c"></span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> map </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> babel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">transformSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sourceCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    filename</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a.mjs&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    targets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        browsers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Chrome 45&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;@babel/env&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            debug</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            useBuiltIns</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;usage&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            corejs</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è®¾ç½® debug ä¸º trueï¼Œä¼šæ‰“å° targets å’Œæ ¹æ® tragets è¿‡æ»¤å‡ºçš„çš„ plugin å’Œ presetï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">@babel</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">preset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">env</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">DEBUG</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> option</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Using</span><span class="token plain"> targets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;chrome&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;45&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Using</span><span class="token plain"> modules transform</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> auto</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Using</span><span class="token plain"> plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">numeric</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">separator </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">75</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">logical</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">assignment</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">operators </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">85</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">nullish</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">coalescing</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">operator </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">optional</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">chaining </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">json</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">strings </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">66</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">optional</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">binding </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">66</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">parameters </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">49</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">async</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">generator</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">functions </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">63</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">object</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">rest</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">spread </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dotall</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">regex </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">unicode</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">property</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">regex </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">named</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">capturing</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">groups</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">regex </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">async</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">generator </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">55</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">exponentiation</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">operator </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">52</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">function</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">name </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">arrow</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">functions </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">47</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">classes </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">object</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">super</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">sticky</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">regex </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">49</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">unicode</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">regex </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">spread </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">destructuring </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">block</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">scoping </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">49</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">new</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">target </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">regenerator </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword module" style="color:#00009f">export</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">namespace</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chrome </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">72</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  transform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">modules</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">commonjs</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  proposal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dynamic</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">corejs3</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">DEBUG</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> option</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Using</span><span class="token plain"> targets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;chrome&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;45&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Using</span><span class="token plain"> polyfills </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">usage-global</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">regenerator</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">DEBUG</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> option</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Using</span><span class="token plain"> targets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;chrome&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;45&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Using</span><span class="token plain"> polyfills </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">usage-global</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">When</span><span class="token plain"> setting </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">useBuiltIns: &#x27;usage&#x27;</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> polyfills are automatically imported when needed</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property-access maybe-class-name">Please</span><span class="token plain"> remove the direct </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">core-js</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> or use </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">useBuiltIns: &#x27;entry&#x27;</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> instead</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Users</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">zhaixuguang</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">code</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">research</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">babel</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">mjs</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Based</span><span class="token plain"> on your code and targets</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> the corejs3 polyfill did not add any polyfill</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Users</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">zhaixuguang</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">code</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">research</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">babel</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">mjs</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Based</span><span class="token plain"> on your code and targets</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> the regenerator polyfill did not add any polyfill</span><span class="token punctuation" style="color:#393A34">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç”¨åˆ°äº†å“ªäº›æ’ä»¶ä¸€ç›®äº†ç„¶ï¼Œå¼€å‘æ—¶å¯ä»¥å¼€å¯è¿™ä¸ªé…ç½®é¡¹ã€‚</p><p>æ›´å¤šé…ç½®é¡¹å¯ä»¥åœ¨<a href="https://babeljs.io/docs/en/babel-preset-env#options" target="_blank" rel="noopener noreferrer">æ–‡æ¡£ä¸­</a>æŸ¥çœ‹ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä»æ³¨å…¥åˆ°æŠ½ç¦»"></a>ä»æ³¨å…¥åˆ°æŠ½ç¦»<a class="hash-link" href="#ä»æ³¨å…¥åˆ°æŠ½ç¦»" title="Direct link to heading">#</a></h2><p>preset-env ä¼šåœ¨ä½¿ç”¨åˆ°æ–°ç‰¹æ€§çš„åœ°æ–¹æ³¨å…¥ helper åˆ° AST ä¸­ï¼Œå¹¶ä¸”ä¼šå¼•å…¥ç”¨åˆ°çš„ç‰¹æ€§çš„ polyfill ï¼ˆcorejs + regeneratorï¼‰ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>é‡å¤æ³¨å…¥ helper çš„å®ç°ï¼Œå¯¼è‡´ä»£ç å†—ä½™</li><li>polyfill æ±¡æŸ“å…¨å±€ç¯å¢ƒ</li></ul><p>è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜çš„æ€è·¯å°±æ˜¯æŠ½ç¦»å‡ºæ¥ï¼Œç„¶åä½œä¸ºæ¨¡å—å¼•å…¥ï¼Œè¿™æ ·å¤šä¸ªæ¨¡å—å¤ç”¨åŒä¸€ä»½ä»£ç å°±ä¸ä¼šå†—ä½™äº†ï¼Œè€Œä¸” polyfill æ˜¯æ¨¡å—åŒ–å¼•å…¥çš„ä¹Ÿä¸ä¼šæ±¡æŸ“å…¨å±€ç¯å¢ƒã€‚</p><p>è¿™ä¸ªé€»è¾‘æ˜¯åœ¨ \@babel/plugin-transform-runtime åŒ…é‡Œå®ç°çš„ã€‚å®ƒå¯ä»¥æŠŠç›´æ¥æ³¨å…¥å…¨å±€çš„æ–¹å¼æ”¹æˆæ¨¡å—åŒ–å¼•å…¥ã€‚</p><p>æ¯”å¦‚ä½¿ç”¨ preset-env çš„æ—¶å€™æ˜¯å…¨å±€å¼•å…¥çš„ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6ea48ded51f04512bac80b8e4db809cb~tplv-k3u1fbpfcp-watermark.image"></p><p>å½“å¼•å…¥ \@babel/plugin-transform-runtime å°±å¯ä»¥æ¨¡å—åŒ–å¼•å…¥ï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64df84f32f6945c19bac48cc7185dee7~tplv-k3u1fbpfcp-watermark.image"></p><p>è¿™æ ·å°±ä¸å†æ±¡æŸ“å…¨å±€ç¯å¢ƒäº†ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="babel7-çš„é—®é¢˜"></a>babel7 çš„é—®é¢˜<a class="hash-link" href="#babel7-çš„é—®é¢˜" title="Direct link to heading">#</a></h3><p>æˆ‘ä»¬å…ˆæ¥è¯•éªŒä¸€ä¸‹ï¼š</p><p>çœ‹ä¸€ä¸‹ Array.prototype.fill çš„ç¯å¢ƒæ”¯æŒæƒ…å†µï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0cae7d0873384728a404963eff4861c4~tplv-k3u1fbpfcp-watermark.image"></p><p>å¯ä»¥çœ‹åˆ°åœ¨ Chrome 45 åŠä»¥ä¸Šæ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Œè€Œåœ¨ Chrome 44 å°±ä¸æ”¯æŒäº†ã€‚</p><p>æˆ‘ä»¬å…ˆå•ç‹¬è¯•ä¸€ä¸‹ preset-envï¼š</p><p>å½“æŒ‡å®š targets ä¸º Chrome 44 æ—¶ï¼Œåº”è¯¥è‡ªåŠ¨å¼•å…¥polyfillï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7d43b57304a4d2f9f64af086f5d6098~tplv-k3u1fbpfcp-watermark.image"></p><p>å½“æŒ‡å®š targets ä¸º Chrome 45 æ—¶ï¼Œä¸éœ€è¦å¼•å…¥polyfillï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f68b5ad95f644518c8419c1847f7765~tplv-k3u1fbpfcp-watermark.image"></p><p>ç»“æœéƒ½ç¬¦åˆé¢„æœŸï¼Œ44 å¼•å…¥ï¼Œ45 ä¸å¼•å…¥ã€‚</p><p>æˆ‘ä»¬å†æ¥è¯•è¯• \@babel/plugin-transform-runtimeï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9677f1aaba654728aec933b31e632fe0~tplv-k3u1fbpfcp-watermark.image"></p><p>æ˜¯ä¸æ˜¯å‘ç°é—®é¢˜äº†ï¼ŒChrome 45 ä¸æ˜¯æ”¯æŒ Array.prototype.fill æ–¹æ³•ä¹ˆï¼Œä¸ºå•¥è¿˜æ˜¯å¼•å…¥äº† polyfillã€‚</p><p>å› ä¸º babel ä¸­æ’ä»¶çš„åº”ç”¨é¡ºåºæ˜¯ï¼šå…ˆ plugin å† presetï¼Œplugin ä»å·¦åˆ°å³ï¼Œpreset ä»å³åˆ°å·¦ï¼Œè¿™æ · plugin-transform-runtime æ˜¯åœ¨ preset-env å‰é¢çš„ã€‚ç­‰ \@babel/plugin-transform-runtime è½¬å®Œäº†ä¹‹åï¼Œå†äº¤ç»™ preset-env è¿™æ—¶å€™å·²ç»åšäº†æ— ç”¨çš„è½¬æ¢äº†ã€‚è€Œ \@babel/plugin-transform-runtime å¹¶ä¸æ”¯æŒ targets çš„é…ç½®ï¼Œå°±ä¼šåšä¸€äº›å¤šä½™çš„è½¬æ¢å’Œ polyfillã€‚</p><p>è¿™ä¸ªé—®é¢˜åœ¨å³å°†åˆ°æ¥çš„ babel8 ä¸­å¾—åˆ°äº†è§£å†³ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="babel8"></a>babel8<a class="hash-link" href="#babel8" title="Direct link to heading">#</a></h3><p>babel8 æä¾›äº† <a href="https://github.com/babel/babel-polyfills" target="_blank" rel="noopener noreferrer">ä¸€ç³»åˆ— babel polyfill çš„åŒ…</a> ï¼Œè§£å†³äº† babel7 çš„ \@babel/plugin-transform-runtime çš„é—ç•™é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ targets æ¥æŒ‰éœ€ç²¾å‡†å¼•å…¥ polyfillã€‚</p><p>babel8 æ”¯æŒé…ç½®ä¸€ä¸ª polyfill providerï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥æŒ‡å®š corejs2ã€corejs3ã€es-shims ç­‰ polyfillï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰ polyfilã€‚</p><p>æœ‰äº† polyfill æºä¹‹åï¼Œä½¿ç”¨ polyfill çš„æ–¹å¼ä¹ŸæŠŠä¹‹å‰ transform-runtime åšçš„äº‹æƒ…å†…ç½®äº†ï¼Œä»ä¹‹å‰çš„ useBuiltIns: entryã€ useBuiltIns: usage çš„ä¸¤ç§ï¼Œå˜æˆäº† 3 ç§ï¼š</p><ul><li>entry-global: è¿™ä¸ªå’Œä¹‹å‰çš„ useBuiltIns: entry å¯¹æ ‡ï¼Œå°±æ˜¯å…¨å±€å¼•å…¥ polyfillã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/202c38690dfe455b8c033d6e54ede9b2~tplv-k3u1fbpfcp-watermark.image"></p><ul><li>usage-entry: è¿™ä¸ªå’Œ useBuiltIns: usage å¯¹æ ‡ï¼Œå°±æ˜¯å…·ä½“æ¨¡å—å¼•å…¥ç”¨åˆ°çš„ polyfillã€‚</li></ul><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/21d206affa374e53a786592e6a0cfa6e~tplv-k3u1fbpfcp-watermark.image"></p><ul><li>usage-pureï¼šè¿™ä¸ªå°±æ˜¯ä¹‹å‰éœ€è¦ transform-runtime æ’ä»¶åšçš„äº‹æƒ…ï¼Œä½¿ç”¨ä¸æ±¡æŸ“å…¨å±€å˜é‡çš„ pure çš„æ–¹å¼å¼•å…¥å…·ä½“æ¨¡å—ç”¨åˆ°çš„ polyfill.</li></ul><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51c65f9672d34c04814142bf04ccc8b9~tplv-k3u1fbpfcp-watermark.image"></p><p>å…¶å®è¿™ä¸‰ç§æ–¹å¼ babel 7 ä¹Ÿæ”¯æŒï¼Œä½†æ˜¯ babel8 ä¸å†éœ€è¦ transform-runtime æ’ä»¶äº†ï¼Œè€Œä¸”è¿˜æ”¯æŒäº† polyfill provider çš„é…ç½®ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ€è·¯æ¢³ç†"></a>æ€è·¯æ¢³ç†<a class="hash-link" href="#æ€è·¯æ¢³ç†" title="Direct link to heading">#</a></h2><p>babel çš„åŠŸèƒ½éƒ½æ˜¯é€šè¿‡æ’ä»¶å®Œæˆçš„ï¼Œä½†æ˜¯ç›´æ¥æŒ‡å®šæ’ä»¶å¤ªè¿‡éº»çƒ¦ï¼Œæ‰€ä»¥è®¾è®¡å‡ºäº† presetï¼Œæˆ‘ä»¬å­¦ä¹  babel çš„å†…ç½®åŠŸèƒ½åŸºæœ¬ç­‰ä»·äºå­¦ä¹  preset çš„ä½¿ç”¨ã€‚ä¸»è¦æ˜¯ preset-envã€preset-typescript è¿™äº›ã€‚</p><p>ä½†æ˜¯ä¸€äº› proposal çš„æ’ä»¶éœ€è¦å•ç‹¬å¼•å…¥ï¼Œå¹¶ä¸” \@babel/plugin-transform-runtimeä¹Ÿè¦å•ç‹¬å¼•å…¥ã€‚</p><p>å­¦ä¹ å†…ç½®åŠŸèƒ½çš„è¯ preset æ˜¯é‡ç‚¹ï¼Œä½†æ˜¯æœ€ç»ˆå®ŒæˆåŠŸèƒ½çš„è¿˜æ˜¯é€šè¿‡æ’ä»¶ã€‚å°å†Œçš„é‡ç‚¹åœ¨äºæ’ä»¶ä¸Šï¼Œä»‹ç»å†…ç½®çš„ preset åªæ˜¯æ¢³ç†ä¸‹ babel å®ç°ç¼–è¯‘çš„æ€è·¯ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ€»ç»“"></a>æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">#</a></h2><p>ä¸Šä¸€èŠ‚æˆ‘ä»¬åŸºäº plugin å’Œ preset å·²ç»èƒ½å¤Ÿå®Œæˆ esnext ç­‰ä»£ç è½¬ç›®æ ‡ç¯å¢ƒ js ä»£ç çš„åŠŸèƒ½ï¼Œä½†æ˜¯è¿˜ä¸å®Œç¾ã€‚</p><p>è¿™ä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº† \@babel/preset-envï¼Œå®ƒåŸºäºæ¯ç§ç‰¹æ€§çš„åœ¨ä¸åŒç¯å¢ƒçš„æœ€ä½æ”¯æŒç‰ˆæœ¬çš„æ•°æ®å’Œé…ç½®çš„ targets æ¥è¿‡æ»¤æ’ä»¶ï¼Œè¿™æ ·èƒ½å‡å°‘å¾ˆå¤šæ²¡å¿…è¦çš„è½¬æ¢å’Œ polyfillã€‚</p><p>å¦‚æœå¸Œæœ›æŠŠä¸€äº›å…¬å…±çš„ helperã€core-jsã€regenerator ç­‰æ³¨å…¥çš„ runtime å‡½æ•°æŠ½ç¦»å‡ºæ¥ï¼Œå¹¶ä¸”ä»¥æ¨¡å—åŒ–çš„æ–¹å¼å¼•å…¥ï¼Œé‚£ä¹ˆéœ€è¦ç”¨ \@babel/plugin-transform-runtime è¿™ä¸ªåŒ…ã€‚</p><p>\@babel/plugin-transform-runtime ä¸æ”¯æŒæ ¹æ® targets çš„è¿‡æ»¤ï¼Œå’Œ \@babel/preset-env é…åˆæ—¶æœ‰é—®é¢˜ï¼Œè¿™ä¸ªåœ¨ babel8 ä¸­å¾—åˆ°äº†è§£å†³ã€‚babel8 æä¾›äº†å¾ˆå¤š babel polyfill åŒ…ï¼Œæ”¯æŒäº† polyfill provider çš„é…ç½®ï¼Œè€Œä¸”è¿˜å¯ä»¥é€‰æ‹©æ³¨å…¥æ–¹å¼ã€‚ä¸å†éœ€è¦ \@babel/plugin-transform-runtime æ’ä»¶äº†ã€‚</p><p>å­¦å®Œè¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬çŸ¥é“äº† babel å¦‚ä½•åŸºäºæ•°æ®åšåˆ°ç²¾å‡†çš„è½¬æ¢ï¼Œå¦‚ä½•è®¾è®¡ presetï¼Œè¿™å¯¹æˆ‘ä»¬è®¾è®¡ preset æˆ–è®¸ä¹Ÿæœ‰ä¸€äº›å¯å‘ã€‚</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/dapengdouyu/docs/tree/master/docs/books/babel/13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-10-09T09:56:52.000Z">10/9/2021</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ä»ç›®æ ‡è¯­è¨€ç‰ˆæœ¬åˆ°ç›®æ ‡æµè§ˆå™¨" class="table-of-contents__link">ä»ç›®æ ‡è¯­è¨€ç‰ˆæœ¬åˆ°ç›®æ ‡æµè§ˆå™¨</a></li><li><a href="#ä»æ³¨å…¥åˆ°æŠ½ç¦»" class="table-of-contents__link">ä»æ³¨å…¥åˆ°æŠ½ç¦»</a><ul><li><a href="#babel7-çš„é—®é¢˜" class="table-of-contents__link">babel7 çš„é—®é¢˜</a></li><li><a href="#babel8" class="table-of-contents__link">babel8</a></li></ul></li><li><a href="#æ€è·¯æ¢³ç†" class="table-of-contents__link">æ€è·¯æ¢³ç†</a></li><li><a href="#æ€»ç»“" class="table-of-contents__link">æ€»ç»“</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 dapeng (å¼ äºšé¹) Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3c5dc381.js"></script>
<script src="/assets/js/main.055808b2.js"></script>
</body>
</html>