<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Dapeng的博客 Blog RSS Feed">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?7dda2565ba246ecd62878c13153e2941",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="IXU12YQUjF">
<link rel="preconnect" href="https://hmcdn.baidu.com">
<link rel="stylesheet" href="https://cansiny.oss-cn-shanghai.aliyuncs.com/assets/fonts.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">TypeScript 工程化：代码检测 - Dapeng的博客</title><meta data-react-helmet="true" property="og:url" content="https://dapengdouyu.github.io/docs/books/深入浅出TypeScript：从基础知识到类型编程/34、TypeScript 工程化：代码检测"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="TypeScript 工程化：代码检测 - Dapeng的博客"><meta data-react-helmet="true" name="description" content="很多人可能会疑惑，TypeScript 自带静态类型检测，为什么还需要代码检测工具？"><meta data-react-helmet="true" property="og:description" content="很多人可能会疑惑，TypeScript 自带静态类型检测，为什么还需要代码检测工具？"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dapengdouyu.github.io/docs/books/深入浅出TypeScript：从基础知识到类型编程/34、TypeScript 工程化：代码检测"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/books/深入浅出TypeScript：从基础知识到类型编程/34、TypeScript 工程化：代码检测" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/books/深入浅出TypeScript：从基础知识到类型编程/34、TypeScript 工程化：代码检测" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5ab70b72.css">
<link rel="preload" href="/assets/js/runtime~main.b2d0e262.js" as="script">
<link rel="preload" href="/assets/js/main.82ba9a71.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">DAPENG</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">博客</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tags/java-script">JavaScript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">前端</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/program/javascript/index">Javascript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">阅读</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/books/Babel 插件通关秘籍/index">Babel 插件通关秘籍</a></li></ul></div><a href="https://github.com/dapengdouyu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Babel 插件通关秘籍</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">MySQL 是怎样运行的：从根儿上理解 MySQL</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">React Hooks 与 Immutable 数据流实战</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">React 组合式开发实践：打造企业管理系统五大核心模块</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">React实战：设计模式和最佳实践</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Taro 多端开发实现原理与项目实战</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">前端性能优化原理与实践</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">前端面试之道</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">微信小程序开发入门：从 0 到 1 实现天气小程序</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">深入浅出TypeScript：从基础知识到类型编程</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/index">index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/1、小册食用指南">小册子食用指南</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/2、到底为什么要学习 TypeScript？">到底为什么要学习 TypeScript？</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/3、开始使用 TypeScript">开始使用 TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/4、Typescript 的原始类型">Typescript 的原始类型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/5、Typescript 中其他常见类型">Typescript 中其他常见类型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/6、深入理解枚举类型">深入理解枚举类型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/7、接口(interface)">接口(interface)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/8、类(Class)">类(Class)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/9、函数(Function)">函数(Function)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/10、泛型（generic）的妙用">泛型（generic）的妙用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/11、类型断言与类型守卫">类型断言与类型守卫</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/12、类型兼容性">类型兼容性</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/13、高级类型之交叉类型、联合类型、类型别名">高级类型之交叉类型、联合类型、类型别名</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/14、可辨识联合类型">可辨识联合类型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/15、装饰器">装饰器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/16、高级装饰器">高级装饰器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/17、Reflect Metadata">Reflect Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/18、赋值断言、is 关键字、可调用类型注解和类型推导">赋值断言、is 关键字、可调用类型注解和类型推导</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/19、TypeScript 与 React 实战(组件篇上)">TypeScript 与 React 实战(组件篇上)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/20、TypeScript 与 React 实战(组件篇下)">TypeScript 与 React 实战(组件篇下)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/21、TypeScript与React实战(Redux篇)">TypeScript与React实战(Redux篇)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/22、高级类型之索引类型、映射类型">高级类型之索引类型、映射类型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/23、高级类型之条件类型">高级类型之条件类型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/24、高级类型之强大的infer关键字">高级类型之强大的infer关键字</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/25、常用工具类型解读">常用工具类型解读</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/26、TypeScript几个实用技巧">TypeScript几个实用技巧</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/27、解一道 LeetCode 中国招聘面试题">解一道 LeetCode 中国招聘面试题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/28、TypeScript 的编译原理">TypeScript 的编译原理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/29、编写TypeScript Transformer Plugin">编写TypeScript Transformer Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/30、模块与命名空间">模块与命名空间</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/31、理论 如何为编写声明文件">理论:如何为编写声明文件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/32、实战 编写 JavaScript 库编写声明文件">实战:编写 JavaScript 库编写声明文件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/33、TypeScript 工程化：tsconfig、json 配置">TypeScript 工程化：tsconfig.json 配置</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/34、TypeScript 工程化：代码检测">TypeScript 工程化：代码检测</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/35、TypeScript 工程化：单元测试">TypeScript 工程化：单元测试</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/36、TypeScript 工程化：环境搭建">搭建 TypeScript 正式工作环境</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/37、TypeScript 企业级服务器开发：理论篇">typescript 企业级服务器开发：理论篇</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/38、TypeScript 企业级服务器开发：实战篇">typescript 企业级服务器开发：实战篇</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/39、Vue 实战：环境搭建">Vue 实战：环境搭建</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/40、Vue 实战：vue-property-decorator">Vue 实战：vue-property-decorator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/41、Vue 实战：组件 UI 编写">Vue 实战：组件 UI 编写</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/42、Vue 实战：TypeScript 下的 Vuex">Vue 实战：TypeScript 下的 Vuex</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/43、常见问题答疑">常见问题答疑</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/44、TypeScript的学习之路与君共勉">TypeScript的学习之路与君共勉</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">TypeScript 工程化：代码检测</h1></header><p>很多人可能会疑惑，TypeScript 自带静态类型检测，为什么还需要代码检测工具？</p><p>实际上 TypeScript 主要用于检查类型和语法错误，而代码检测工具主要用于检查代码风格，其作用是统一团队的代码风格，便于项目维护、降低沟通或者阅读成本。</p><p>相比于 TypeScript 更关注类型，代码检测工具更关注代码风格，比如：</p><ol><li>缩进应该是四个空格还是两个空格？</li><li>是否应该禁用 var？</li><li>接口名是否应该以 I 开头？</li><li>是否应该强制使用 === 而不是 ==？</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="代码检测工具选择"></a>代码检测工具选择<a class="hash-link" href="#代码检测工具选择" title="Direct link to heading">#</a></h2><p>TypeScript 的代码检测工具选择上一直是二选一的问题，他们分别是 TSLint 和 ESLint。</p><p>在很长一段时间里，TypeScript 代码检测工具一直是以 TSLint 为主，相比于在 JavaScript 领域独领风骚的 ESLint，它对 TypeScript 的支持更加友好。</p><p>但是由于一些性能问题 TypeScript 官方支持了 ESLint,随后 TSLint 作者宣布放弃 TSLint:</p><p><img src="https://user-gold-cdn.xitu.io/2019/10/21/16ded065463d5f8f?w=1070&amp;h=746&amp;f=png&amp;s=342099" alt="2019-10-07-15-40-31"></p><p>结果也比较明显，虽然现在现存的 TypeScript 项目依然是以 TSLint 为主，但是如果面向未来的话，ESLint 显然是我们的首选。</p><p>随着 TSLint 被作者放弃维护，加之 TSLint 作者加入 ESlint 为其提供 ESLint + TypeScript 的优化，实际上 ESLint 的短板在逐渐被补齐，加上 ESLint 一向固有的优势， ESLint 单从强大程度依然是压过 TSLint 的。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="eslint-兼容性问题被解决"></a>ESLint 兼容性问题被解决<a class="hash-link" href="#eslint-兼容性问题被解决" title="Direct link to heading">#</a></h3><p>由于 TSLint 直接寄生于 TypeScript 之下，他们的 parser 是相同的，产生的 AST 也是相同的。</p><p>因此 TSLint 的 bug 更少，对 TypeScript 支持更友好，而 ESLint 的御用 Parser 是基于 ESTree 标准的，其产生的 AST 与 TypeScript 并不相同。</p><p>所以 ESLint 需要做额外的兼容性工作来兼容 TypeScript，但是这个难度可想而知，ESLint 做的一直不够好，但是目前 TypeScript 官方支持了 ESLint，与 ESLint 共同发布了 <a href="https://github.com/typescript-eslint/typescript-eslint" target="_blank" rel="noopener noreferrer">typescript-eslint</a> 来解决兼容性问题。</p><p>甚至 TypeScript 本身就作为测试平台，在兼容性方面 ESLint 的进步是实质性的，毕竟 <code>typescript-eslint</code> 这个 parser 的主要贡献者就是 TypeScript 团队本身。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="eslint-的优势"></a>ESlint 的优势<a class="hash-link" href="#eslint-的优势" title="Direct link to heading">#</a></h3><p>在 TypeScript 官方团队着手帮助 ESLint 解决了棘手的兼容性问题之后，ESLint 的优势就更加明显：</p><ul><li>可配置性更高：ESLint 的配置规则远多于 TSLint，ESLint 的可配置规则超过 250 个</li><li>更活跃的生态：基本上需要开发者能想到的插件，在 ESLint 中都能找到，而基于这些插件我们也很容易进行魔改或者拓展</li></ul><p>举个简单的例子，在 ESLint 中有一项配置叫做<a href="https://eslint.org/docs/rules/max-params" target="_blank" rel="noopener noreferrer">max-params</a>，它能检测一个函数的参数数量，我们可以设定参数数量的上限，限制一个函数引入过量的参数引起不必要的复杂度。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">bar</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> baz</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> qux</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> qxx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// four parameters, may be too many</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">doSomething</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>而这个功能在 TSLint 中是无法实现的。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="eslint-的使用"></a>ESLint 的使用<a class="hash-link" href="#eslint-的使用" title="Direct link to heading">#</a></h2><p>我们简单学习一下 ESLint 的使用方法</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="eslint-的安装"></a>ESLint 的安装<a class="hash-link" href="#eslint-的安装" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="全局安装"></a>全局安装<a class="hash-link" href="#全局安装" title="Direct link to heading">#</a></h4><p>如果你想使 ESLint 适用于你所有的项目，建议全局安装 ESLint。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">g eslint</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>初始化配置文件:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">eslint </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">init</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="局部安装"></a>局部安装<a class="hash-link" href="#局部安装" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm install eslint </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">save</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>初始化配置文件:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">node_modules</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">eslint </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">init</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="初始化-eslint"></a>初始化 ESLint<a class="hash-link" href="#初始化-eslint" title="Direct link to heading">#</a></h3><p>我们现在就创建一个简单的 React 项目，来通过实践来学习 ESLint 的使用。</p><p>我们先创建一个目录 <code>eslint-study</code> ,然后快速初始化项目：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm init </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">y</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>由于我们是一个 TypeScript 项目，所以应该先下载 TypeScript：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm i </span><span class="token operator" style="color:#393A34">-</span><span class="token constant" style="color:#36acaa">D</span><span class="token plain"> typescript</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>然后我们开始初始化 ESLint：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">eslint </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">init</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>接下来我们将会进入交互式问答环节，我的选择如下：</p><ul><li>How would you like to use ESLint? <strong>To check syntax, find problems, and enforce code style</strong></li><li>What type of modules does your project use? <strong>JavaScript modules (import/export)</strong></li><li>Which framework does your project use? <strong>None of these</strong></li><li>Does your project use TypeScript? <strong>Yes</strong></li><li>Where does your code run? <strong>Browser, Node</strong></li><li>How would you like to define a style for your project? <strong>Use a popular style guide</strong></li><li>Which style guide do you want to follow? <strong>Airbnb</strong></li><li>What format do you want your config file to be in? <strong>JavaScript</strong></li><li>Would you like to install them now with npm? y</li></ul><p>在初始化过程中我们会选择相应的配置来初始化我们的 ESLint，在 <code>How would you like to define a style for your project?</code> 这一个问题中我选择了社区内已经配置好的流行的 ESLint 规则，通常情况下我也建议不管是个人还是团队最好在现有的流行规则之下进行使用或者进行二次拓展，因为 ESLint 的规则有数百个之多，将其中的组合合理化地推广是一个很考验时间验证的东西，而社区内流行的规则显然是受到过时间检验的。</p><p>其中一共给了三个流行方案供我们选择，分别是 <a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer">Airbnb</a> 、<a href="https://github.com/standard/standard" target="_blank" rel="noopener noreferrer">Standard</a>、<a href="https://github.com/google/eslint-config-google" target="_blank" rel="noopener noreferrer">Google</a></p><p>这三者从严格程度对比是 Airbnb &gt; Google &gt; Standard</p><p>我在这里选择了在 github 上拥有 9w star 的 Airbnb 规范，它相对更严格、也更流行。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="eslint-的配置项"></a>ESLint 的配置项<a class="hash-link" href="#eslint-的配置项" title="Direct link to heading">#</a></h2><p>我们初始化完毕之后可以看到根目录下出现了一个 <code>.eslintrc.js</code> 文件：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  env</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    browser</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    es6</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    node</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">extends</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;airbnb-base&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  globals</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">Atomics</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;readonly&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">SharedArrayBuffer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;readonly&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  parser</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@typescript-eslint/parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  parserOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ecmaVersion</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    sourceType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;module&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;@typescript-eslint&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  rules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>值得一提的是这个配置文件不仅仅可以是 <code>.js</code> 的，也可以是以下这种形式的：</p><ul><li>.eslintrc.js(输出一个配置对象)</li><li>.eslintrc.yaml</li><li>.eslintrc.yml</li><li>.eslintrc.json（ESLint的JSON文件允许JavaScript风格的注释）</li><li>.eslintrc（可以是JSON也可以是YAML）</li><li>package.json（在package.json里创建一个eslintConfig属性，在那里定义你的配置）</li></ul><p>以上的各种形式以 <code>.eslintrc.js</code> 优先级最高，并依次往下排，我个人习惯用 <code>.eslintrc.js</code> 的形式来作为我们的配置文件。</p><p>接下来，我们逐一分析一下这些配置项的作用。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="env"></a>env<a class="hash-link" href="#env" title="Direct link to heading">#</a></h3><p>这个配置项用于指定环境，每个环境都有自己预定义的全局变量，可以同时指定多个环境，不矛盾。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  env</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    browser</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    es6</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    node</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    commonjs</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mocha</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    jquery</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>比如我们在浏览器环境就需要设置 <code>browser: true</code>，比如在 node 环境就需要设置 <code>node: true</code> 等等。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="extends"></a>extends<a class="hash-link" href="#extends" title="Direct link to heading">#</a></h3><p>extends 属性值可以是一个字符串或字符串数组，数组中每个配置项继承它前面的配置。</p><p>比如我们的 <code>extends</code> 就继承了 Airbnb 的配置规则。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">extends</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;airbnb-base&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>在继承了其他配置规则后我们依然可以对继承的规则进行修改、覆盖和拓展：</p><ul><li>启用额外的规则</li><li>改变继承的规则级别而不改变它的选项：<ul><li>基础配置：&quot;eqeqeq&quot;: [&quot;error&quot;, &quot;allow-null&quot;]</li><li>派生的配置：&quot;eqeqeq&quot;: &quot;warn&quot;</li><li>最后生成的配置：&quot;eqeqeq&quot;: [&quot;warn&quot;, &quot;allow-null&quot;]</li></ul></li><li>覆盖基础配置中的规则的选项<ul><li>基础配置：&quot;quotes&quot;: [&quot;error&quot;, &quot;single&quot;, &quot;avoid-escape&quot;]</li><li>派生的配置：&quot;quotes&quot;: [&quot;error&quot;, &quot;single&quot;]</li><li>最后生成的配置：&quot;quotes&quot;: [&quot;error&quot;, &quot;single&quot;]</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="globals"></a>globals<a class="hash-link" href="#globals" title="Direct link to heading">#</a></h3><p>脚本在执行期间访问的额外的全局变量。</p><p>怎么理解？</p><p>通常情况下 ESLint 会对非源文件的全局变量进行警告，比如你可以访问浏览器环境下的 window 全局变量，这是没问题的，但是你自己创造一个全局变量，这个时候 ESLint 会向你发出警告。</p><p>但是实际开发中的确有一些全局变量，那么如何在 ESLint 中把它合法化？</p><p>这就需要 globals 这个配置项：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  globals</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">Atomics</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;readonly&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">SharedArrayBuffer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;readonly&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>比如我们我们需要一个全局变量 <code>Atomics</code>，在 globals 配置项声明后还需要设置一个值，这个值代表了此全局变量是可以被修改的还是只读的，如果是可写的，那么值为 <code>writable</code>，否则为 <code>readonly</code>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parser"></a>parser<a class="hash-link" href="#parser" title="Direct link to heading">#</a></h3><p>ESLint 默认使用Espree作为其解析器，你可以在配置文件中指定一个不同的解析器。</p><p>由于我们的项目是 TypeScript 的，所以就用上了 TypeScript 团队与 ESLint 联合发布的 <code>typescript-eslint</code> 解析器，它非常好地兼容了 TypeScript 和 eslint 的解析特性。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  parser</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@typescript-eslint/parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>除此之外还有其他的解析器可供我们选择：</p><ul><li>Esprima</li><li>Babel-ESLint - 一个对Babel解析器的包装，使其能够与 ESLint 兼容</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parseroptions"></a>parserOptions<a class="hash-link" href="#parseroptions" title="Direct link to heading">#</a></h3><p>parser 解析代码时的配置参数，我们虽然已经制定了解析器，但是解析器要想适用当前的环境也需要一定的配置。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  parserOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ecmaVersion</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    sourceType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;module&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>比如我们可以指定 ECMAScript 版本，默认是5，在我们这里是用了最新的 ES2018。</p><p>比如我们可以指定资源类型，使用 script 还是 ECMAScript模块，我们这里指定了 module，也就是 ECMAScript 模块。</p><p>如果你还想使用额外的语言特性还可以再添加一个 <code>ecmafeatures</code> 对象，如下：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">  parserOption</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ecmafeatures</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//允许在全局作用域下使用return语句</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      globalReturn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//启用全局strict模式（严格模式）</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      impliedStrict</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//启用JSX</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      jsx</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//启用对实验性的objectRest/spreadProperties的支持</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      experimentalObjectRestSpread</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugins"></a>plugins<a class="hash-link" href="#plugins" title="Direct link to heading">#</a></h3><p>ESLint 支持使用第三方插件。在使用插件之前，你必须使用 npm 安装它。</p><p>在配置文件里配置插件时，可以使用 plugins 关键字来存放插件名字的列表。插件名称可以省略 <code>eslint-plugin-</code> 前缀。</p><p>很多人容易混淆plugin与extend， 两者的区别是，extend 提供的是 eslint 现有规则的一系列预设，而 plugin 则提供了除预设之外的自定义规则，当你在 eslint 的规则里找不到合适的的时候，就可以借用插件来实现了。</p><p>很多比较大的团队由于项目的特殊性，会对 ESLint 进行特殊定制，借助的就是 plugins 进行自定义规则。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rules"></a>rules<a class="hash-link" href="#rules" title="Direct link to heading">#</a></h3><p>这个地方是 ESLint 具体规则的配置，我们通常情况下是使用社区比较刘的配置集，但是这些流行的配置集不一定适合当前的团队，或者当前的项目。</p><p>有一些配置集比较松散比如：Standard，有一些配置集非常严苛比如：Airbnb，这个时候我们就需要进行二次拓展或者关闭一些不必要的选项，就需要用 rules 选项进行覆盖或者修改。</p><p>当然，如果有特殊需求，我们也可以直接在这里配置我们自己的配置。</p><p>具体的规则配置非常非常多，如果你是一个大团队需要你专门针对当前项目进行配置，或者你需要关闭、修改一些流行配置集配置，这个时候可以移步<a href="https://eslint.org/docs/rules/" target="_blank" rel="noopener noreferrer">官方rules</a>阅读。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="小结"></a>小结<a class="hash-link" href="#小结" title="Direct link to heading">#</a></h2><p>我们本节学习了如何在 TypeScript 环境中使用 ESLint，并对 ESLint 的配置项进行了一定程度的解读，配置项的理解是本节的重点之一，我们做一下总结：</p><ul><li>env: 预定义那些环境需要用到的全局变量，可用的参数是：es6、broswer、node等</li><li>extends: 指定扩展的配置，配置支持递归扩展，支持规则的覆盖和聚合</li><li>plugins: 配置那些我们想要Linting规则的插件。</li><li>parser: 默认ESlint使用Espree作为解析器，我们也可以用其他解析器在此配置</li><li>parserOptions: 解析器的配置项</li><li>rules: 自定义规则，可以覆盖掉extends的配置</li><li>globals： 脚本在执行期间访问的额外的全局变量</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/dapengdouyu/docs/tree/master/docs/books/深入浅出TypeScript：从基础知识到类型编程/34、TypeScript 工程化：代码检测.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-10-11T06:28:32.000Z">10/11/2021</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/33、TypeScript 工程化：tsconfig、json 配置"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« TypeScript 工程化：tsconfig.json 配置</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/books/深入浅出TypeScript：从基础知识到类型编程/35、TypeScript 工程化：单元测试"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TypeScript 工程化：单元测试 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#代码检测工具选择" class="table-of-contents__link">代码检测工具选择</a><ul><li><a href="#eslint-兼容性问题被解决" class="table-of-contents__link">ESLint 兼容性问题被解决</a></li><li><a href="#eslint-的优势" class="table-of-contents__link">ESlint 的优势</a></li></ul></li><li><a href="#eslint-的使用" class="table-of-contents__link">ESLint 的使用</a><ul><li><a href="#eslint-的安装" class="table-of-contents__link">ESLint 的安装</a></li><li><a href="#初始化-eslint" class="table-of-contents__link">初始化 ESLint</a></li></ul></li><li><a href="#eslint-的配置项" class="table-of-contents__link">ESLint 的配置项</a><ul><li><a href="#env" class="table-of-contents__link">env</a></li><li><a href="#extends" class="table-of-contents__link">extends</a></li><li><a href="#globals" class="table-of-contents__link">globals</a></li><li><a href="#parser" class="table-of-contents__link">parser</a></li><li><a href="#parseroptions" class="table-of-contents__link">parserOptions</a></li><li><a href="#plugins" class="table-of-contents__link">plugins</a></li><li><a href="#rules" class="table-of-contents__link">rules</a></li></ul></li><li><a href="#小结" class="table-of-contents__link">小结</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 dapeng (张亚鹏) Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b2d0e262.js"></script>
<script src="/assets/js/main.82ba9a71.js"></script>
</body>
</html>