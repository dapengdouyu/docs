<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Dapengçš„åšå®¢ Blog RSS Feed">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?7dda2565ba246ecd62878c13153e2941",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="IXU12YQUjF">
<link rel="preconnect" href="https://hmcdn.baidu.com">
<link rel="stylesheet" href="https://cansiny.oss-cn-shanghai.aliyuncs.com/assets/fonts.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">30ã€æ‰‹å†™ Babelï¼š cliç¯‡ - Dapengçš„åšå®¢</title><meta data-react-helmet="true" property="og:url" content="https://dapengdouyu.github.io/docs/books/babel/30ã€æ‰‹å†™ Babelï¼š cliç¯‡"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="30ã€æ‰‹å†™ Babelï¼š cliç¯‡ - Dapengçš„åšå®¢"><meta data-react-helmet="true" name="description" content="ä¸ŠèŠ‚æˆ‘ä»¬å®ç°äº†å®Œæ•´çš„ç¼–è¯‘æµç¨‹ï¼Œæ”¯æŒäº†æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡å¼•å…¥æ¨¡å—çš„æ–¹å¼ä½¿ç”¨ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬å®ç°ä¸‹å‘½ä»¤è¡Œçš„æ–¹å¼ã€‚"><meta data-react-helmet="true" property="og:description" content="ä¸ŠèŠ‚æˆ‘ä»¬å®ç°äº†å®Œæ•´çš„ç¼–è¯‘æµç¨‹ï¼Œæ”¯æŒäº†æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡å¼•å…¥æ¨¡å—çš„æ–¹å¼ä½¿ç”¨ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬å®ç°ä¸‹å‘½ä»¤è¡Œçš„æ–¹å¼ã€‚"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dapengdouyu.github.io/docs/books/babel/30ã€æ‰‹å†™ Babelï¼š cliç¯‡"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/books/babel/30ã€æ‰‹å†™ Babelï¼š cliç¯‡" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dapengdouyu.github.io/docs/books/babel/30ã€æ‰‹å†™ Babelï¼š cliç¯‡" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5ab70b72.css">
<link rel="preload" href="/assets/js/runtime~main.5121aa5f.js" as="script">
<link rel="preload" href="/assets/js/main.30a1101d.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.jpg" alt="DAPENG" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">DAPENG</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">åšå®¢</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tags/java-script">JavaScript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">å‰ç«¯</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/program/javascript/index">Javascript</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">é˜…è¯»</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/books/babel/index">babel</a></li></ul></div><a href="https://github.com/dapengdouyu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">babel</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/index">babel å°å†Œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/1ã€Babel çš„ä»‹ç»">1ã€Babel çš„ä»‹ç»</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/2ã€Babel çš„ç¼–è¯‘æµç¨‹">2ã€Babel çš„ç¼–è¯‘æµç¨‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/3ã€Babel çš„ AST">3ã€Babel çš„ AST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/4ã€Babel çš„ api">4ã€Babel çš„ api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/5ã€å®æˆ˜æ¡ˆä¾‹ï¼šæ’å…¥å‡½æ•°è°ƒç”¨å‚æ•°">5ã€å®æˆ˜æ¡ˆä¾‹ï¼šæ’å…¥å‡½æ•°è°ƒç”¨å‚æ•°</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/6ã€js parser çš„å†å²">6ã€js parser çš„å†å²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/7ã€traverse çš„ visitor å’Œ path">7ã€traverse çš„ visitor å’Œ path</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/8ã€generator å’Œ sourcemap çš„å¥¥ç§˜">8ã€generator å’Œ sourcemap çš„å¥¥ç§˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/9ã€code-frame å’Œä»£ç é«˜äº®åŸç†">9ã€code-frame å’Œä»£ç é«˜äº®åŸç†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/10ã€Babel æ’ä»¶å’Œ preset">10ã€Babel æ’ä»¶å’Œ preset</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/11ã€Babel æ’ä»¶çš„å•å…ƒæµ‹è¯•">11ã€Babel æ’ä»¶çš„å•å…ƒæµ‹è¯•</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/12ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸Šï¼‰">12ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸Šï¼‰</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰">13ã€Babel çš„å†…ç½®åŠŸèƒ½ï¼ˆä¸‹ï¼‰</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/14ã€å®æˆ˜æ¡ˆä¾‹ï¼šè‡ªåŠ¨åŸ‹ç‚¹">14ã€å®æˆ˜æ¡ˆä¾‹ï¼šè‡ªåŠ¨åŸ‹ç‚¹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/15ã€å®æˆ˜æ¡ˆä¾‹: è‡ªåŠ¨å›½é™…åŒ–">15ã€å®æˆ˜æ¡ˆä¾‹: è‡ªåŠ¨å›½é™…åŒ–</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/16ã€å®æˆ˜æ¡ˆä¾‹:è‡ªåŠ¨ç”Ÿæˆ api æ–‡æ¡£">16ã€å®æˆ˜æ¡ˆä¾‹:è‡ªåŠ¨ç”Ÿæˆ api æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/17ã€å®æˆ˜æ¡ˆä¾‹: linter">17ã€å®æˆ˜æ¡ˆä¾‹: linter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/18ã€å®æˆ˜æ¡ˆä¾‹: type checker">18ã€å®æˆ˜æ¡ˆä¾‹: type checker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/19ã€å®æˆ˜æ¡ˆä¾‹: å‹ç¼©æ··æ·†">19ã€å®æˆ˜æ¡ˆä¾‹: å‹ç¼©æ··æ·†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/20ã€å®æˆ˜æ¡ˆä¾‹: js è§£é‡Šå™¨">20ã€å®æˆ˜æ¡ˆä¾‹: js è§£é‡Šå™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/21ã€å®æˆ˜æ¡ˆä¾‹: æ¨¡å—éå†å™¨">21ã€å®æˆ˜æ¡ˆä¾‹: æ¨¡å—éå†å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/22ã€Babel Macros">22ã€Babel Macros</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/23ã€æ‰‹å†™ Babelï¼šæ€è·¯ç¯‡">23ã€æ‰‹å†™ Babelï¼šæ€è·¯ç¯‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/24ã€æ‰‹å†™ Babelï¼š parser ç¯‡">24ã€æ‰‹å†™ Babelï¼š parser ç¯‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/25ã€æ‰‹å†™ Babelï¼š traverse ç¯‡">25ã€æ‰‹å†™ Babelï¼š traverse ç¯‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/26ã€æ‰‹å†™ Babelï¼š traverse -- pathç¯‡">26ã€æ‰‹å†™ Babelï¼š traverse -- pathç¯‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/27ã€æ‰‹å†™ Babelï¼š traverse -- scopeç¯‡">27ã€æ‰‹å†™ Babelï¼š traverse -- scopeç¯‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/28ã€æ‰‹å†™ Babelï¼š generatorç¯‡">28ã€æ‰‹å†™ Babelï¼š generatorç¯‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/29ã€æ‰‹å†™ Babelï¼š coreç¯‡">29ã€æ‰‹å†™ Babelï¼š coreç¯‡</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/books/babel/30ã€æ‰‹å†™ Babelï¼š cliç¯‡">30ã€æ‰‹å†™ Babelï¼š cliç¯‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/31ã€æ‰‹å†™ Babelï¼š æ€»ç»“">31ã€æ‰‹å†™ Babelï¼š æ€»ç»“</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/32ã€å·¥å…·ä»‹ç»ï¼švscode debugger çš„ä½¿ç”¨">32ã€å·¥å…·ä»‹ç»ï¼švscode debugger çš„ä½¿ç”¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/books/babel/33ã€å°å†Œæ€»ç»“">33ã€å°å†Œæ€»ç»“</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">30ã€æ‰‹å†™ Babelï¼š cliç¯‡</h1></header><p>ä¸ŠèŠ‚æˆ‘ä»¬å®ç°äº†å®Œæ•´çš„ç¼–è¯‘æµç¨‹ï¼Œæ”¯æŒäº†æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡å¼•å…¥æ¨¡å—çš„æ–¹å¼ä½¿ç”¨ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬å®ç°ä¸‹å‘½ä»¤è¡Œçš„æ–¹å¼ã€‚</p><p>æˆ‘ä»¬ä¼šå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>æ”¯æŒå‘½ä»¤è¡ŒæŒ‡å®šå‚æ•°ï¼ŒæŒ‡å®šè¦ç¼–è¯‘çš„æ–‡ä»¶ã€è¾“å‡ºç›®å½•ã€æ˜¯å¦ watch ç­‰</li><li>æ”¯æŒé…ç½®æ–‡ä»¶</li><li>ç¼–è¯‘æ–‡ä»¶çš„è·¯å¾„æ”¯æŒ globï¼Œå¯ä»¥æ¨¡ç³ŠåŒ¹é…</li><li>ç”Ÿæˆ sourcemapï¼Œè‡ªåŠ¨æ·»åŠ  sourceMapUrl åˆ°æ–‡ä»¶å†…å®¹ä¸­</li><li>æ”¯æŒ watchï¼Œæ–‡ä»¶å˜åŠ¨ç«‹å³é‡æ–°ç¼–è¯‘</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ<a class="hash-link" href="#æ€è·¯åˆ†æ" title="Direct link to heading">#</a></h2><p>å‘½ä»¤è¡Œå·¥å…·å°±æ˜¯é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨çš„ï¼Œè¦æ”¯æŒå‘½ä»¤è¡Œå¯åŠ¨éœ€è¦åœ¨ js æ–‡ä»¶å¼€å¤´åŠ ä¸Š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">env node</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å‘½ä»¤è¡Œå‚æ•°çš„è§£æå¯ä»¥ä½¿ç”¨ <a href="https://www.npmjs.com/package/commander" target="_blank" rel="noopener noreferrer">commander</a>ï¼Œå®ƒå¯ä»¥è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œç„¶åå¯ä»¥ç›´æ¥æ‹¿åˆ° parse ä¹‹åçš„ç»“æœã€‚</p><p>é…ç½®æ–‡ä»¶çš„æŒ‡å®šå¯ä»¥ä½¿ç”¨ <a href="https://www.npmjs.com/package/cosmiconfig" target="_blank" rel="noopener noreferrer">cosmiconfig</a>ï¼Œå®ƒæ”¯æŒå¦‚ä¸‹çš„æŸ¥æ‰¾æ–¹å¼ï¼š</p><ul><li><code>package.json</code> çš„å±æ€§</li><li>æ‰©å±•åä¸º rc çš„ JSON æˆ–è€… YAML</li><li>æ‰©å±•åä¸º <code>.json</code>ã€Â <code>.yaml</code>ã€Â <code>.yml</code>ã€Â <code>.js</code>ã€<code>.cjs</code> ã€<code>.config.js</code>ã€<code>.config.cjs</code> çš„ rc æ–‡ä»¶</li><li><code>.config.js</code>Â æˆ–è€… <code>.config.cjs</code> çš„ commonjs æ¨¡å—</li></ul><p>è¿™ç§é…ç½®æ–‡ä»¶æŸ¥æ‰¾æœºåˆ¶åœ¨ eslintã€babel ç­‰å¾ˆå¤šå·¥å…·ä¸­éƒ½æœ‰åº”ç”¨ï¼Œæˆ‘ä»¬ä¹Ÿé‡‡ç”¨è¿™ç§æ–¹å¼ã€‚</p><p>æ–‡ä»¶æ¨¡ç³ŠåŒ¹é…ä½¿ç”¨ <a href="https://www.npmjs.com/package/glob" target="_blank" rel="noopener noreferrer">glob</a> æ¥åŒ¹é…ï¼Œå®ƒä¼šè¿”å›åŒ¹é…åçš„æ–‡ä»¶è·¯å¾„ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">glob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;**/*.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">er</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> files</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>watch çš„å®ç°ä½¿ç”¨ <a href="https://www.npmjs.com/package/chokidar" target="_blank" rel="noopener noreferrer">chokidar</a>ï¼Œå®ƒä¼šç›‘å¬æ–‡ä»¶çš„å˜åŠ¨ï¼ŒåŒ…æ‹¬æ–‡ä»¶å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€é‡å‘½åï¼Œç›®å½•å¢åŠ ã€åˆ é™¤ç­‰ï¼Œç„¶åæŠŠå˜åŠ¨çš„æ–‡ä»¶è·¯å¾„ä¼ å…¥å›è°ƒå‡½æ•°ã€‚ç›‘å¬çš„æ–‡ä»¶ä¹Ÿæ”¯æŒé€šè¿‡ glob å­—ç¬¦ä¸²æ¥æŒ‡å®šã€‚</p><p>çŸ¥é“äº† watchã€å‘½ä»¤è¡Œå‚æ•°è§£æã€é…ç½®æ–‡ä»¶æŸ¥æ‰¾ã€æ–‡ä»¶æ¨¡ç³ŠåŒ¹é…éƒ½æ€ä¹ˆåšä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸²è”ä¸‹æ•´ä½“æµç¨‹ï¼š</p><ul><li>é€šè¿‡ commander è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œæ‹¿åˆ° outDirï¼ˆè¾“å‡ºç›®å½•ï¼‰ã€watchï¼ˆæ˜¯å¦ç›‘å¬ï¼‰ä»¥åŠ glob å­—ç¬¦ä¸²</li><li>è§£æ glob å­—ç¬¦ä¸²ï¼Œæ‹¿åˆ°è¦ç¼–è¯‘çš„æ–‡ä»¶è·¯å¾„</li><li>æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼Œæ‹¿åˆ°é…ç½®ä¿¡æ¯</li><li>ä¾æ¬¡ç¼–è¯‘æ¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¼ å…¥é…ç½®ä¿¡æ¯ï¼Œè¾“å‡ºåˆ° outDir ç›®å½•ï¼Œå¹¶ä¸”æ·»åŠ  sourcemap çš„å…³è”</li><li>å¦‚æœå¼€å¯äº† watchï¼Œåˆ™ç›‘å¬æ–‡ä»¶å˜åŠ¨ï¼Œæ¯æ¬¡å˜åŠ¨éƒ½é‡æ–°ç¼–è¯‘è¯¥æ–‡ä»¶</li></ul><p>ä¹‹åè¿˜éœ€è¦åœ¨ package.json ä¸­é…ç½®ä¸‹ bin å±æ€§ï¼Œè¿™æ ·æ‰å¯ä»¥ä½œä¸ºå‘½ä»¤è¡Œå·¥å…·æ¥æ³¨å†Œã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å®ç°ä¸€ä¸‹ï¼š</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š<a class="hash-link" href="#ä»£ç å®ç°ï¼š" title="Direct link to heading">#</a></h2><p>å¼•å…¥ commanderï¼Œå£°æ˜ outDirã€watch ç­‰å‚æ•°ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> commander </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;commander&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;--out-dir &lt;outDir&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;è¾“å‡ºç›®å½•&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;--watch&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ç›‘å¬æ–‡ä»¶å˜åŠ¨&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å¯¹ä¼ å…¥çš„å‚æ•° process.argv åš parse ä¹‹åå°±å¯ä»¥æ‹¿åˆ°å…·ä½“çš„å€¼ï¼š</p><p>æ¯”å¦‚æˆ‘ä»¬ä¼ å…¥ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">my</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">babel </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">input</span><span class="token comment" style="color:#999988;font-style:italic">/*.js --out-dir ./dist --watch</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åœ¨ä»£ç é‡Œå°±å¯ä»¥æ‹¿åˆ°</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> cliOpts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">opts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cliOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">outDir</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">// ./dist</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">cliOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">watch</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ./input/*.js</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æˆ‘ä»¬è¦å¯¹è¾“å…¥çš„å‚æ•°åšä¸‹æ ¡éªŒï¼Œç„¶åæ‰“å°æç¤ºä¿¡æ¯ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">outputHelp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> cliOpts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">opts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æ²¡æœ‰æŒ‡å®šå¾…ç¼–è¯‘æ–‡ä»¶&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">outputHelp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">cliOpts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">outDir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æ²¡æœ‰æŒ‡å®šè¾“å‡ºç›®å½•&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">outputHelp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å¯¹å‘½ä»¤è¡Œå‚æ•°çš„å¤„ç†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯¹ glob å­—ç¬¦ä¸²åšè§£æï¼Œæ‹¿åˆ°å…·ä½“çš„æ–‡ä»¶è·¯å¾„ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> filenames </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> glob</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åæŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> explorerSync </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cosmiconfigSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;myBabel&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> searchResult </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> explorerSync</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æˆ‘ä»¬é€šè¿‡ options æ¥é›†ä¸­å­˜æ”¾å‘½ä»¤è¡Œå‚æ•°å’Œè§£æåçš„é…ç½®æ–‡ä»¶çš„å‚æ•°ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    babelOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> searchResult</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">config</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    cliOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">cliOpts</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        filenames</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹ç¼–è¯‘äº†ã€‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª compile æ–¹æ³•ï¼Œä¼ å…¥æ–‡ä»¶è·¯å¾„çš„æ•°ç»„ï¼Œç„¶åï¼Œå¯¹æ¯ä¸ªæ–‡ä»¶çš„å†…å®¹è¿›è¡Œè¯»å–ï¼Œç„¶åè¿›è¡Œç¼–è¯‘ï¼Œä¹‹åè¾“å‡ºåˆ°ç›®æ ‡ç›®å½•ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœ outDir ä¸å­˜åœ¨ï¼Œéœ€è¦å…ˆåˆ›å»ºã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">fileNames</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    fileNames</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token parameter">filename</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fileContent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> fsPromises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">readFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> baseFileName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">basename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sourceMapFileName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> baseFileName </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.map.json&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œåé¢è¡¥å……</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//å¦‚æœç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»º</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> fsPromises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">access</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">cliOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">outDir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> fsPromises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">cliOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">outDir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// æ‹¼æ¥è¾“å‡ºçš„è·¯å¾„</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> distFilePath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">cliOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">outDir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> baseFileName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> distSourceMapPath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">cliOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">outDir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> baseFileName </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.map.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> fsPromises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">writeFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">distFilePath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> generatedFile</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> fsPromises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">writeFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">distSourceMapPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">map</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç¼–è¯‘å°±æ˜¯ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰å®ç°çš„ babel coreï¼ŒæŠŠç”Ÿæˆçš„ sourcemap å…³è”åˆ°ç›®æ ‡ä»£ç ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> myBabel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">transformSync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fileContent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">babelOptions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    fileName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> baseFileName</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> generatedFile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;\n&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;//# sourceMappingURL=&#x27;</span><span class="token plain">\n&#x27; </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> sourceMapFileName</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¹‹åï¼Œå¦‚æœæŒ‡å®šäº† watchï¼Œä¹Ÿéœ€è¦é‡æ–°ç¼–è¯‘ä¸€æ¬¡ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cliOpts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">watch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chokidar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;chokidar&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    chokidar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">watch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">commander</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;all&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æ£€æµ‹åˆ°æ–‡ä»¶å˜åŠ¨ï¼Œç¼–è¯‘ï¼š&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">compile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†å‘½ä»¤è¡Œå‚æ•°çš„è§£æï¼Œç¼–è¯‘å¤šä¸ªæ–‡ä»¶ï¼Œwatch æ–‡ä»¶å˜åŠ¨å¢é‡ç¼–è¯‘çš„åŠŸèƒ½ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æµ‹è¯•"></a>æµ‹è¯•<a class="hash-link" href="#æµ‹è¯•" title="Direct link to heading">#</a></h2><p>æˆ‘ä»¬åœ¨ test ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ myBabel.config.js:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">plugin2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">api</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        visitor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function maybe-class-name" style="color:#d73a49">Program</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">entries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">scope</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bindings</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter">id</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> binding</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">binding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">referenced</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        binding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function maybe-class-name" style="color:#d73a49">FunctionDeclaration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">entries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">scope</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bindings</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter">id</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> binding</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">binding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">referenced</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        binding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    parserOpts</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;literal&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;guangKeyword&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            plugin2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åæ·»åŠ ä¸€ä¸ª input ç›®å½•ï¼Œé‡Œé¢æ”¾ä¸Šä¸¤ä¸ªæ–‡ä»¶ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// input1.js</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> d </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> e </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> tmp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// input2.js</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">minus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">minus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¹‹åæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¥æµ‹è¯•ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">node </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">src</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">cli</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">js</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">input</span><span class="token comment" style="color:#999988;font-style:italic">/*.js --out-dir ./dist --watch</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¹Ÿå¯ä»¥ç”¨ vscode çš„ debugger æ¥è·‘ï¼Œè¿™æ ·èƒ½æ‰“æ–­ç‚¹è°ƒè¯•ï¼Œåœ¨ .vscode/launch.json ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;æµ‹è¯• babel cli&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;program&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${workspaceFolder}/exercize-babel/src/cli/index.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">//è¿è¡Œçš„ä»£ç </span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;request&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;launch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;node&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;./input/*.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--out-dir&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./dist&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;--watch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">//å‘½ä»¤è¡Œå‚æ•°</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;cwd&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${workspaceFolder}/exercize-babel/test&quot;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">è¿è¡Œçš„ç›®å½•</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åç‚¹å‡» debug æŒ‰é’®å°±å¯ä»¥è·‘äº†ã€‚ ä½†æ˜¯è¿™æ ·æµ‹è¯•éœ€è¦æŒ‡å®šè·¯å¾„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠè¿™ä¸ªå‘½ä»¤æ³¨å†Œåˆ°æœ¬åœ°çš„å…¨å±€ç›®å½•ï¼š</p><p>åœ¨ cli/index.js æ–‡ä»¶å¼€å¤´åŠ ä¸Š:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">env node</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åœ¨ package.json ä¸­æ³¨å†Œï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;bin&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;my-babel&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./src/cli/index.js&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åæ‰§è¡Œ npm linkï¼Œæ³¨å†Œåˆ°å…¨å±€ï¼Œä¹‹åå°±å¯ä»¥ç›´æ¥è¿™æ ·ä½¿ç”¨äº†ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">myBabel </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">input</span><span class="token comment" style="color:#999988;font-style:italic">/*.js --out-dir ./dist --watch</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c292a99939741daafe31b3e66b3cb29~tplv-k3u1fbpfcp-watermark.image"></p><p>å½“ç„¶ï¼Œå¦‚æœæ˜¯æ­£å¼çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œéœ€è¦å‘å¸ƒåˆ° npm ä»“åº“ï¼Œç„¶å npm install çš„æ–¹å¼æ¥å®‰è£…å’Œä½¿ç”¨ã€‚</p><p>å¦‚æœ npm link ä¹‹åè¿˜æ˜¯æ‰¾ä¸åˆ° my-babel çš„å‘½ä»¤ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯ä½ æ²¡æœ‰æŠŠå…¨å±€bin çš„ä½ç½®æ·»åŠ åˆ°ç¯å¢ƒå˜é‡çš„ PATH ä¸­ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">PATH</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">:</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">npm get prefix</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æŠŠè¿™è¡Œå‘½ä»¤æ·»åŠ åˆ° ~/.bashrc ä¸‹ï¼Œç„¶å source ~/.bashrc å°±å¯ä»¥äº†ã€‚</p><p>åŸç†æ˜¯ï¼š npm get prefix æ˜¯æŸ¥çœ‹æœ¬åœ° npm çš„å…¨å±€è·¯å¾„ï¼Œè€Œ bin å°±æ˜¯å‘½ä»¤çš„è·¯å¾„ï¼Œæ·»åŠ åˆ° PATH ä¸­å°±å¯ä»¥æŸ¥æ‰¾åˆ°äº†ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ€»ç»“"></a>æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">#</a></h2><p>æˆ‘ä»¬å®ç°äº† babel cli çš„å‘½ä»¤è¡Œå‚æ•°çš„è§£æï¼ˆcommanderï¼‰ï¼Œæ¨¡ç³ŠåŒ¹é…æ–‡ä»¶ï¼ˆglobï¼‰ã€é…ç½®æ–‡ä»¶æŸ¥æ‰¾ï¼ˆcosmiconfigï¼‰ã€ç›‘å¬æ–‡ä»¶å˜åŠ¨ï¼ˆchokidarï¼‰ç­‰åŠŸèƒ½ã€‚ä¹‹ååœ¨ package.json ä¸­çš„ bin æ¥æ³¨å†Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><p>æœ¬åœ°æµ‹è¯•çš„æ—¶å€™å¯ä»¥ link åˆ°å…¨å±€ç›®å½•ï¼Œå½“ç„¶å…¨å±€ç›®å½•éœ€è¦åœ¨ PATH ä¸­ï¼Œå¦‚æœä¸åœ¨çš„è¯ï¼Œéœ€è¦ npm get prefix çœ‹ä¸€ä¸‹å…¨å±€ npm è·¯å¾„ï¼Œç„¶åæ·»åŠ åˆ° PATHã€‚</p><p>ï¼ˆä»£ç åœ¨<a href="https://github.com/QuarkGluonPlasma/babel-plugin-exercize" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>ï¼Œå»ºè®® git clone ä¸‹æ¥é€šè¿‡ node è·‘ä¸€ä¸‹ï¼‰</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/dapengdouyu/docs/tree/master/docs/books/babel/30ã€æ‰‹å†™ Babelï¼š cliç¯‡.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-10-09T09:56:52.000Z">10/9/2021</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/books/babel/29ã€æ‰‹å†™ Babelï¼š coreç¯‡"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« 29ã€æ‰‹å†™ Babelï¼š coreç¯‡</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/books/babel/31ã€æ‰‹å†™ Babelï¼š æ€»ç»“"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">31ã€æ‰‹å†™ Babelï¼š æ€»ç»“ Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ€è·¯åˆ†æ" class="table-of-contents__link">æ€è·¯åˆ†æ</a></li><li><a href="#ä»£ç å®ç°ï¼š" class="table-of-contents__link">ä»£ç å®ç°ï¼š</a></li><li><a href="#æµ‹è¯•" class="table-of-contents__link">æµ‹è¯•</a></li><li><a href="#æ€»ç»“" class="table-of-contents__link">æ€»ç»“</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 dapeng (å¼ äºšé¹) Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5121aa5f.js"></script>
<script src="/assets/js/main.30a1101d.js"></script>
</body>
</html>