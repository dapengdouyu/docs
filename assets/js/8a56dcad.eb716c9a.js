(self.webpackChunkdapengdouyu=self.webpackChunkdapengdouyu||[]).push([[9184],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return s},kt:function(){return d}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),i=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},s=function(e){var n=i(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=i(t),d=o,f=m["".concat(c,".").concat(d)]||m[d]||u[d]||a;return t?r.createElement(f,p(p({ref:n},s),{},{components:t})):r.createElement(f,p({ref:n},s))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,p=new Array(a);p[0]=m;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,p[1]=l;for(var i=2;i<a;i++)p[i]=t[i];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},3099:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return i},toc:function(){return s},default:function(){return m}});var r=t(4034),o=t(9973),a=(t(7294),t(3905)),p=["components"],l={},c=void 0,i={unversionedId:"books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/5\u3001\u642d\u5efa\u9879\u76ee\u57fa\u672c\u9aa8\u67b6\u3010\u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\u3011",id:"books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/5\u3001\u642d\u5efa\u9879\u76ee\u57fa\u672c\u9aa8\u67b6\u3010\u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\u3011",isDocsHomePage:!1,title:"5\u3001\u642d\u5efa\u9879\u76ee\u57fa\u672c\u9aa8\u67b6\u3010\u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\u3011",description:"\u73b0\u5728\u6211\u4eec\u6765\u8fdb\u5165\u9879\u76ee\u57fa\u7840\u642d\u5efa\u7684\u73af\u8282\u3002",source:"@site/docs/books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/5\u3001\u642d\u5efa\u9879\u76ee\u57fa\u672c\u9aa8\u67b6\u3010\u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\u3011.md",sourceDirName:"books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218",slug:"/books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/5\u3001\u642d\u5efa\u9879\u76ee\u57fa\u672c\u9aa8\u67b6\u3010\u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\u3011",permalink:"/docs/books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/5\u3001\u642d\u5efa\u9879\u76ee\u57fa\u672c\u9aa8\u67b6\u3010\u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\u3011",editUrl:"https://github.com/dapengdouyu/docs/tree/master/docs/books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/5\u3001\u642d\u5efa\u9879\u76ee\u57fa\u672c\u9aa8\u67b6\u3010\u78e8\u5200\u4e0d\u8bef\u780d\u67f4\u5de5\u3011.md",version:"current",lastUpdatedAt:1633933712,formattedLastUpdatedAt:"10/11/2021",frontMatter:{},sidebar:"books",previous:{title:"4\u3001\u521d\u59cb\u5316\u9879\u76ee\u3010\u4e07\u4e08\u9ad8\u697c\u5e73\u5730\u8d77\u3011",permalink:"/docs/books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/4\u3001\u521d\u59cb\u5316\u9879\u76ee\u3010\u4e07\u4e08\u9ad8\u697c\u5e73\u5730\u8d77\u3011"},next:{title:"6\u3001\u63a8\u8350\u6a21\u57571  \u6253\u9020\u9177\u70ab\u8f6e\u64ad\u53ca\u5217\u8868",permalink:"/docs/books/React Hooks \u4e0e Immutable \u6570\u636e\u6d41\u5b9e\u6218/6\u3001\u63a8\u8350\u6a21\u57571  \u6253\u9020\u9177\u70ab\u8f6e\u64ad\u53ca\u5217\u8868"}},s=[{value:"\u4e00\u3001\u8def\u7531\u914d\u7f6e",id:"\u4e00\u3001\u8def\u7531\u914d\u7f6e",children:[{value:"\u8def\u7531\u6587\u4ef6\u7f16\u5199",id:"\u8def\u7531\u6587\u4ef6\u7f16\u5199",children:[]},{value:"\u65b0\u5efa\u7ec4\u4ef6\u6587\u4ef6",id:"\u65b0\u5efa\u7ec4\u4ef6\u6587\u4ef6",children:[]}]},{value:"\u4e8c\u3001\u516c\u5171\u7ec4\u4ef6\u5f00\u53d1",id:"\u4e8c\u3001\u516c\u5171\u7ec4\u4ef6\u5f00\u53d1",children:[{value:"\u5168\u5c40\u6837\u5f0f\u51c6\u5907",id:"\u5168\u5c40\u6837\u5f0f\u51c6\u5907",children:[]},{value:"\u9876\u90e8\u680f\u5f00\u53d1",id:"\u9876\u90e8\u680f\u5f00\u53d1",children:[]}]},{value:"\u4e09\u3001redux \u51c6\u5907",id:"\u4e09\u3001redux-\u51c6\u5907",children:[{value:"\u5b89\u88c5\u76f8\u5e94\u4f9d\u8d56",id:"\u5b89\u88c5\u76f8\u5e94\u4f9d\u8d56",children:[]},{value:"\u521b\u5efa store",id:"\u521b\u5efa-store",children:[]},{value:"\u9879\u76ee\u4e2d\u6ce8\u5165 store",id:"\u9879\u76ee\u4e2d\u6ce8\u5165-store",children:[]}]}],u={toc:s};function m(e){var n=e.components,t=(0,o.Z)(e,p);return(0,a.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u6765\u8fdb\u5165\u9879\u76ee\u57fa\u7840\u642d\u5efa\u7684\u73af\u8282\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u672c\u8282\u4ee3\u7801\u5bf9\u5e94 GitHub \u5206\u652f: chapter2")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sanyuan0704/react-cloud-music/tree/chapter2"},"\u4ed3\u5e93\u4f20\u9001\u95e8")),(0,a.kt)("p",null,"\u521d\u8bc6\u9879\u76ee\u7684\u642d\u5efa\u4e3b\u8981\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\u8fdb\u884c:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u8def\u7531\u7684\u914d\u7f6e\u548c\u5e94\u7528\u90e8\u5206"),(0,a.kt)("li",{parentName:"ol"},"\u516c\u5171\u7ec4\u4ef6\u7684\u5f00\u53d1"),(0,a.kt)("li",{parentName:"ol"},"redux \u7684 store \u521b\u5efa\u548c\u5f15\u5165")),(0,a.kt)("p",null,"\u73b0\u5728\u8ba9\u6211\u4eec\u5f00\u59cb\u5427\u3002"),(0,a.kt)("h2",{id:"\u4e00\u3001\u8def\u7531\u914d\u7f6e"},"\u4e00\u3001\u8def\u7531\u914d\u7f6e"),(0,a.kt)("h3",{id:"\u8def\u7531\u6587\u4ef6\u7f16\u5199"},"\u8def\u7531\u6587\u4ef6\u7f16\u5199"),(0,a.kt)("p",null,"\u8981\u5f00\u53d1\u4e00\u4e2a\u590d\u6742\u5e94\u7528\u7684\u65f6\u5019\uff0c\u9996\u5148\u8981\u505a\u7684\u5e76\u4e0d\u662f\u4e0a\u6765\u5c31\u5f00\u59cb\u5199\u5177\u4f53\u529f\u80fd\uff0c\u8981\u60f3\u6e05\u695a\u6574\u4e2a\u5e94\u7528\u7684\u7ed3\u6784\uff0c\u4ece\u8def\u7531\u5f00\u59cb\u5165\u624b\u7f16\u5199\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u65b9\u5f0f\uff0c\u4e5f\u5efa\u8bae\u5927\u5bb6\u62ff\u5230\u522b\u4eba\u7684\u9879\u76ee\u7684\u65f6\u5019\u4ece\u8def\u7531\u5f00\u59cb\u7740\u624b\uff0c\u53ef\u4ee5\u5f88\u597d\u7684\u6574\u7406\u6211\u4eec\u7684\u601d\u8def\u3002"),(0,a.kt)("p",null,"\u5e94\u7528\u7684\u9aa8\u67b6\u5176\u5b9e\u975e\u5e38\u7b80\u5355\uff0c\u9876\u90e8\u6709\u56fa\u5b9a\u7684\u5185\u5bb9\u53ca tab \u680f\uff0c\u4e0b\u9762\u5bf9\u5e94\u4e0d\u540c\u7684\u529f\u80fd\u7ec4\u4ef6\u3002"),(0,a.kt)("p",null,"\u9996\u5148\u5b89\u88c5\u4f9d\u8d56\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm install react-router react-router-dom react-router-config --save\n\n")),(0,a.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u5728 routes \u76ee\u5f55\u4e0b\u65b0\u5efa index.js \u6587\u4ef6\uff0c\u5229\u7528 react-router-config \u6765\u5bf9\u8def\u7531\u8fdb\u884c\u914d\u7f6e\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//routes/index.js\nimport React from \'react\';\nimport { Redirect } from "react-router-dom";\nimport Home from \'../application/Home\';\nimport Recommend from \'../application/Recommend\';\nimport Singers from \'../application/Singers\';\nimport Rank from \'../application/Rank\';\n\nexport default [\n  {\n    path: "/",\n    component: Home,\n    routes: [\n      {\n        path: "/",\n        exact: true,\n        render: () => (\n          <Redirect to={"/recommend"}/>\n        )\n      },\n      {\n        path: "/recommend",\n        component: Recommend\n      },\n      {\n        path: "/singers",\n        component: Singers\n      },\n      {\n        path: "/rank",\n        component: Rank\n      }\n    ]\n  }\n]\n\n')),(0,a.kt)("p",null,"Home \u7ec4\u4ef6\u5bf9\u5e94\u516c\u5171\u7ec4\u4ef6\uff0c\u4e0b\u9762\u7684\u63a8\u8350\u7ec4\u4ef6\u3001\u6b4c\u624b\u5217\u8868\u7ec4\u4ef6\u548c\u6392\u884c\u699c\u7ec4\u4ef6\u4e3a\u5177\u4f53\u7684\u529f\u80fd\u7ec4\u4ef6\u3002"),(0,a.kt)("p",null,"\u4e3a\u4e86\u8ba9\u8def\u7531\u6587\u4ef6\u751f\u6548\uff0c\u5fc5\u987b\u5728 App \u6839\u7ec4\u4ef6\u4e0b\u9762\u5bfc\u5165\u8def\u7531\u914d\u7f6e\uff0c\u73b0\u5728\u5728 App.js \u4e2d:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"import React from 'react';\nimport { GlobalStyle } from  './style';\nimport { renderRoutes } from 'react-router-config';//renderRoutes \u8bfb\u53d6\u8def\u7531\u914d\u7f6e\u8f6c\u5316\u4e3a Route \u6807\u7b7e\nimport { IconStyle } from './assets/iconfont/iconfont';\nimport routes from './routes/index.js';\nimport { HashRouter } from 'react-router-dom';\n\nfunction App () {\n  return (\n    <HashRouter>\n      <GlobalStyle></GlobalStyle>\n      <IconStyle></IconStyle>\n      { renderRoutes (routes) }\n    </HashRouter>\n  )\n}\n\nexport default App;\n\n")),(0,a.kt)("h3",{id:"\u65b0\u5efa\u7ec4\u4ef6\u6587\u4ef6"},"\u65b0\u5efa\u7ec4\u4ef6\u6587\u4ef6"),(0,a.kt)("p",null,"\u73b0\u5728\u4f60\u7684\u9879\u76ee\u5e94\u8be5\u662f\u65e0\u6cd5\u542f\u52a8\u7684\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u7ec4\u4ef6\u4f60\u90fd\u6ca1\u6709\u5b9a\u4e49\u548c\u5f15\u5165\u3002"),(0,a.kt)("p",null,"\u73b0\u5728\uff0c \u5728 application \u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa Home \u6587\u4ef6\u5939\uff0c\u7136\u540e\u65b0\u5efa index.js \u6587\u4ef6\uff0c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//src/appliction/Home/index.js\nimport React from 'react';\n\nfunction Home (props) {\n  return (\n    <div>Home</div>\n  )\n}\n\nexport default React.memo (Home);\n\n")),(0,a.kt)("p",null,"\u7136\u540e\u7c7b\u4f3c\u7684\uff0c\u521b\u5efa Recommend\u3001Singers \u548c Rank \u7ec4\u4ef6\u3002"),(0,a.kt)("p",null,'\u542f\u52a8\u9879\u76ee\uff0c\u6253\u5f00\u9875\u9762\uff0c\u4f60\u53ef\u4ee5\u770b\u5230 "home" \u5df2\u7ecf\u663e\u793a\u5230\u5c4f\u5e55\uff0c\u4f46\u662f\u8fd9\u8fd8\u4e0d\u591f\uff0c\u6211\u4eec\u9700\u8981\u5c55\u793a\u4e0b\u9762\u7684\u529f\u80fd\u7ec4\u4ef6\uff0c\u4f46\u662f\u4f60\u5728\u5730\u5740\u540e\u9762\u52a0\u4e0a /recommend\uff0c\u5374\u5e76\u6ca1\u6709\u663e\u793a Recommend \u7ec4\u4ef6\u76f8\u5e94\u7684\u5185\u5bb9\uff0c\u56e0\u4e3a renderRoutes \u8fd9\u4e2a\u65b9\u6cd5\u53ea\u6e32\u67d3\u4e00\u5c42\u8def\u7531\uff0c\u4e4b\u524d Home \u5904\u4e8e\u6570\u7ec4\u7b2c\u4e00\u5c42\uff0c\u540e\u9762\u7684\u529f\u80fd\u7ec4\u4ef6\u5728\u7b2c\u4e8c\u5c42\uff0c\u5f53\u7136\u4e0d\u80fd\u6b63\u5e38\u6e32\u67d3\u5566\u3002\u5176\u5b9e\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u5728 Home \u4e2d\u518d\u6b21\u8c03\u7528 renderRoutes \u5373\u53ef\u3002'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//src/appliction/Home/index.js\nimport React from 'react';\nimport { renderRoutes } from \"react-router-config\";\n\nfunction Home (props) {\n  const { route } = props;\n\n  return (\n    <div>\n      <div>Home</div>\n      { renderRoutes (route.routes) }\n    </div>\n  )\n}\n\nexport default React.memo (Home);\n\n")),(0,a.kt)("p",null,"\u597d\uff0c\u73b0\u5728\u4f60\u53ef\u4ee5\u8bbf\u95ee /recommend \u8def\u7531\uff0c\u5e94\u8be5\u53ef\u4ee5\u770b\u5230 Recommend \u4e2d\u7684\u5185\u5bb9\u3002\u540c\u7406\uff0c\u73b0\u5728\u4e5f\u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee\u5176\u5b83\u7684\u8def\u7531\u5566\u3002"),(0,a.kt)("h2",{id:"\u4e8c\u3001\u516c\u5171\u7ec4\u4ef6\u5f00\u53d1"},"\u4e8c\u3001\u516c\u5171\u7ec4\u4ef6\u5f00\u53d1"),(0,a.kt)("p",null,"\u8def\u7531\u6298\u817e\u6e05\u695a\u540e\uff0c\u6211\u4eec\u6765\u7740\u624b\u5f00\u53d1\u9879\u76ee\u7684\u7b2c\u4e00\u4e2a\u7ec4\u4ef6: Home \u7ec4\u4ef6\u3002"),(0,a.kt)("h3",{id:"\u5168\u5c40\u6837\u5f0f\u51c6\u5907"},"\u5168\u5c40\u6837\u5f0f\u51c6\u5907"),(0,a.kt)("p",null,"\u73b0\u5728\u8981\u771f\u6b63\u5f00\u59cb\u5199\u6837\u5f0f\u4e86\uff0c\u4e3a\u4e86\u7edf\u4e00\u98ce\u683c\uff0c\u9700\u8981\u4e00\u4e9b\u5168\u5c40\u6837\u5f0f\u914d\u7f6e\uff0c\u5728 assets \u76ee\u5f55\u4e0b\u65b0\u5efa global-style.js, \u5185\u5bb9\u5982\u4e0b:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// \u6269\u5927\u53ef\u70b9\u51fb\u533a\u57df\nconst extendClick = () => {\n  return `\n    position: relative;\n    &:before {\n      content: '';\n      position: absolute;\n      top: -10px; bottom: -10px; left: -10px; right: -10px;\n    };\n  `\n}\n// \u4e00\u884c\u6587\u5b57\u6ea2\u51fa\u90e8\u5206\u7528... \u4ee3\u66ff\nconst noWrap = () => {\n  return `\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  `\n}\n\nexport default {\n  'theme-color': '#d44439',\n  'theme-color-shadow': 'rgba (212, 68, 57, .5)',\n  'font-color-light': '#f1f1f1',\n  'font-color-desc': '#2E3030',\n  'font-color-desc-v2': '#bba8a8',// \u7565\u6de1\n  'font-size-ss': '10px',\n  'font-size-s': '12px',\n  'font-size-m': '14px',\n  'font-size-l': '16px',\n  'font-size-ll': '18px',\n  \"border-color\": '#e4e4e4',\n  'background-color': '#f2f3f4',\n  'background-color-shadow': 'rgba (0, 0, 0, 0.3)',\n  'highlight-background-color': '#fff',\n  extendClick,\n  noWrap\n}\n\n\n")),(0,a.kt)("h3",{id:"\u9876\u90e8\u680f\u5f00\u53d1"},"\u9876\u90e8\u680f\u5f00\u53d1"),(0,a.kt)("p",null,"\u9996\u5148\uff0c\u5728 Home \u76ee\u5f55\u4e0b\u65b0\u5efa style.js\uff0c\u521b\u5efa CSS \u6837\u5f0f\u7ec4\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"import styled from'styled-components';\nimport style from '../../assets/global-style';\n\nexport const Top = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background: ${style [\"theme-color\"]};\n  &>span {\n    line-height: 40px;\n    color: #f1f1f1;\n    font-size: 20px;\n    &.iconfont {\n      font-size: 25px;\n    }\n  }\n`\n\n")),(0,a.kt)("p",null,"\u5f88\u7b80\u5355\u7684\u5e03\u5c40\u548c\u6837\u5f0f\uff0c\u5c31\u4e0d\u8fc7\u591a\u89e3\u91ca\u4e86\u3002\u63a5\u4e0b\u6765\u5728 Home \u7ec4\u4ef6\u5e94\u7528\u8fd9\u4e9b\u6837\u5f0f\uff0c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//src/appliction/Home/index.js\nimport React from \'react\';\nimport { renderRoutes } from "react-router-config";\nimport { Top } from \'./style\';\n\nfunction Home (props) {\n  const { route } = props;\n\n  return (\n    <div>\n      <Top>\n        <span className="iconfont menu">&#xe65c;</span>\n        <span className="title">WebApp</span>\n        <span className="iconfont search">&#xe62b;</span>\n      </Top>\n      { renderRoutes (route.routes) }\n    </div>\n  )\n}\n\nexport default React.memo (Home);\n\n')),(0,a.kt)("p",null,"\u63a5\u7740\u6765\u7f16\u5199\u4e0a\u9762\u7684 tab \u680f\uff0c\u5148\u5b9a\u4e49\u6837\u5f0f:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'export const Tab = styled.div`\n  height: 44px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  background: ${style ["theme-color"]};\n  a {\n    flex: 1;\n    padding: 2px 0;\n    font-size: 14px;\n    color: #e4e4e4;\n    &.selected {\n      span {\n        padding: 3px 0;\n        font-weight: 700;\n        color: #f1f1f1;\n        border-bottom: 2px solid #f1f1f1;\n      }\n    }\n  }\n`\nexport const TabItem = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`\n\n')),(0,a.kt)("p",null,"\u5728 Home \u7ec4\u4ef6\u4e2d\u4f7f\u7528:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'import React from \'react\';\nimport { renderRoutes } from "react-router-config";\nimport {\n  Top,\n  Tab,\n  TabItem,\n} from \'./style\';\nimport { NavLink } from \'react-router-dom\';// \u5229\u7528 NavLink \u7ec4\u4ef6\u8fdb\u884c\u8def\u7531\u8df3\u8f6c\n\nfunction Home (props){\n  const { route } = props;\n\n  return (\n    <div>\n      <Top>\n        <span className="iconfont menu">&#xe65c;</span>\n        <span className="title">Web App</span>\n        <span className="iconfont search">&#xe62b;</span>\n      </Top>\n      <Tab>\n        <NavLink to="/recommend" activeClassName="selected"><TabItem><span > \u63a8\u8350 </span></TabItem></NavLink>\n        <NavLink to="/singers" activeClassName="selected"><TabItem><span > \u6b4c\u624b </span></TabItem></NavLink>\n        <NavLink to="/rank" activeClassName="selected"><TabItem><span > \u6392\u884c\u699c </span></TabItem></NavLink>\n      </Tab>\n      { renderRoutes (route.routes) }\n    </div>\n  );\n}\n \nexport default React.memo (Home);\n\n')),(0,a.kt)("p",null,"\u6253\u5f00\u9875\u9762\uff0c\u73b0\u5728\u4e00\u4e2a\u50cf\u6837\u7684 WebApp \u5934\u90e8\u5c31\u51fa\u6765\u4e86\uff0c\u5e76\u4e14\u70b9\u51fb\u4e0d\u540c\u7684 tab \u4f1a\u663e\u793a\u4e0d\u540c\u7684\u529f\u80fd\u7ec4\u4ef6\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-gold-cdn.xitu.io/2019/10/18/16ddde8e77cd852a?w=376&h=152&f=jpeg&s=9724",alt:null})),(0,a.kt)("h2",{id:"\u4e09\u3001redux-\u51c6\u5907"},"\u4e09\u3001redux \u51c6\u5907"),(0,a.kt)("p",null,"\u672c\u9879\u76ee\u5f00\u53d1\u7684\u4e00\u5927\u6838\u5fc3\u7406\u5ff5\u5c31\u662f\u7528 Redux \u8fd9\u4e00\u6210\u719f\u7684\u72b6\u6001\u7ba1\u7406\u5e93\u5b9e\u73b0\u5355\u4e00\u6570\u636e\u6e90\u3002\u56e0\u6b64\uff0c\u5728\u540e\u9762\u7684\u5177\u4f53\u529f\u80fd\u5f00\u53d1\u4e4b\u524d\uff0c\u6709\u5fc5\u8981\u51c6\u5907\u4e00\u4e9b\u5173\u4e8e Redux \u7684\u5de5\u4f5c\u3002"),(0,a.kt)("h3",{id:"\u5b89\u88c5\u76f8\u5e94\u4f9d\u8d56"},"\u5b89\u88c5\u76f8\u5e94\u4f9d\u8d56"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm install redux redux-thunk redux-immutable react-redux immutable --save\n\n")),(0,a.kt)("p",null,"\u5176\u4e2d redux-immutable \u5927\u5bb6\u53ef\u80fd\u6bd4\u8f83\u964c\u751f\uff0c\u56e0\u4e3a\u9879\u76ee\u4e2d\u9700\u8981\u7528\u5230 immutable.js \u4e2d\u7684\u6570\u636e\u7ed3\u6784\uff0c\u6240\u4ee5\u5408\u5e76\u4e0d\u540c\u6a21\u5757 reducer \u7684\u65f6\u5019\u9700\u8981\u7528\u5230 redux-immutable \u4e2d\u7684\u65b9\u6cd5\u3002"),(0,a.kt)("h3",{id:"\u521b\u5efa-store"},"\u521b\u5efa store"),(0,a.kt)("p",null,"\u5728 store \u6587\u4ef6\u5939\u4e0b\u9762\u65b0\u5efa index.js \u548c reducer.js \u6587\u4ef6:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//reducers.js\nimport { combineReducers } from 'redux-immutable';\n\nexport default combineReducers ({\n// \u4e4b\u540e\u5f00\u53d1\u5177\u4f53\u529f\u80fd\u6a21\u5757\u7684\u65f6\u5019\u6dfb\u52a0 reducer\n});\n\n\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//index.js\nimport { createStore, compose, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducer from './reducer'\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore (reducer, composeEnhancers (\n  applyMiddleware (thunk)\n));\n\nexport default store;\n\n")),(0,a.kt)("h3",{id:"\u9879\u76ee\u4e2d\u6ce8\u5165-store"},"\u9879\u76ee\u4e2d\u6ce8\u5165 store"),(0,a.kt)("p",null,"\u73b0\u5728 App.js \u4e2d\u4ee3\u7801\u5982\u4e0b:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"import React from 'react'\nimport { Provider } from 'react-redux'\nimport { GlobalStyle } from  './style'\nimport { renderRoutes } from 'react-router-config'\nimport { IconStyle } from './assets/iconfont/iconfont'\nimport store from './store/index'\nimport routes from './routes/index.js'\nimport { HashRouter } from 'react-router-dom';\n\nfunction App () {\n  return (\n    <Provider store={store}>\n      <HashRouter>\n        <GlobalStyle></GlobalStyle>\n        <IconStyle></IconStyle>\n        { renderRoutes (routes) }\n      </HashRouter>\n    </Provider>\n  )\n}\n\nexport default App;\n\n")),(0,a.kt)("p",null,"\u73b0\u5728\u529f\u80fd\u4f9d\u65e7\u80fd\u7528\uff0c\u4f46\u662f\u6253\u5f00\u63a7\u5236\u53f0\u4f1a\u6709\u8fd9\u6837\u4e00\u6bb5\u62a5\u9519:"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-gold-cdn.xitu.io/2019/10/18/16ddde922f4d392b?w=502&h=33&f=jpeg&s=9279",alt:null})),(0,a.kt)("p",null,"\u56e0\u4e3a\u73b0\u5728\u6ca1\u6709\u5f00\u53d1\u51fa\u5177\u4f53\u7684 reducer \u51fd\u6570\uff0c\u6ca1\u5173\u7cfb\uff0c\u968f\u7740\u4e4b\u540e\u7684\u5f00\u53d1\uff0c\u8fd9\u4e2a\u9519\u8bef\u4f1a\u81ea\u52a8\u6d88\u5931\u3002"))}m.isMDXComponent=!0}}]);