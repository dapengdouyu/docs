"use strict";(self.webpackChunkdapengdouyu=self.webpackChunkdapengdouyu||[]).push([[467],{3905:function(n,e,t){t.d(e,{Zo:function(){return u},kt:function(){return m}});var r=t(67294);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function o(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var c=r.createContext({}),p=function(n){var e=r.useContext(c),t=e;return n&&(t="function"==typeof n?n(e):l(l({},e),n)),t},u=function(n){var e=p(n.components);return r.createElement(c.Provider,{value:e},n.children)},s={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(n,e){var t=n.components,a=n.mdxType,i=n.originalType,c=n.parentName,u=o(n,["components","mdxType","originalType","parentName"]),d=p(t),m=a,f=d["".concat(c,".").concat(m)]||d[m]||s[m]||i;return t?r.createElement(f,l(l({ref:e},u),{},{components:t})):r.createElement(f,l({ref:e},u))}));function m(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var i=t.length,l=new Array(i);l[0]=d;var o={};for(var c in e)hasOwnProperty.call(e,c)&&(o[c]=e[c]);o.originalType=n,o.mdxType="string"==typeof n?n:a,l[1]=o;for(var p=2;p<i;p++)l[p]=t[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},42280:function(n,e,t){t.r(e),t.d(e,{frontMatter:function(){return o},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return u},default:function(){return d}});var r=t(83117),a=t(80102),i=(t(67294),t(3905)),l=["components"],o={},c="\u7c7b\u578b\u4fdd\u62a4",p={unversionedId:"program/typescript/5\u3001\u7c7b\u578b\u4fdd\u62a4",id:"program/typescript/5\u3001\u7c7b\u578b\u4fdd\u62a4",title:"\u7c7b\u578b\u4fdd\u62a4",description:"\u901a\u8fc7\u5224\u65ad\u8bc6\u522b\u6240\u6267\u884c\u7684\u4ee3\u7801\u5757\uff0c\u81ea\u52a8\u8bc6\u522b\u53d8\u91cf\u5c5e\u6027\u548c\u65b9\u6cd5",source:"@site/docs/program/typescript/5\u3001\u7c7b\u578b\u4fdd\u62a4.md",sourceDirName:"program/typescript",slug:"/program/typescript/5\u3001\u7c7b\u578b\u4fdd\u62a4",permalink:"/docs/program/typescript/5\u3001\u7c7b\u578b\u4fdd\u62a4",editUrl:"https://github.com/dapengdouyu/docs/tree/master/docs/program/typescript/5\u3001\u7c7b\u578b\u4fdd\u62a4.md",tags:[],version:"current",lastUpdatedAt:1639467634,formattedLastUpdatedAt:"12/14/2021",frontMatter:{},sidebar:"program",previous:{title:"\u7c7b\u578b\u63a8\u65ad",permalink:"/docs/program/typescript/4\u3001\u7c7b\u578b\u63a8\u65ad"},next:{title:"\u4ea4\u53c9\u7c7b\u578b",permalink:"/docs/program/typescript/6\u3001\u4ea4\u53c9\u7c7b\u578b"}},u=[{value:"js \u4e2d\u7684<code>typeof</code>\u3001 <code>instanceof</code> \u3001<code>in</code> \u53ef\u4ee5\u5212\u5206\u4f5c\u7528\u57df",id:"js-\u4e2d\u7684typeof-instanceof-in-\u53ef\u4ee5\u5212\u5206\u4f5c\u7528\u57df",children:[{value:"typeof \u7c7b\u578b\u4fdd\u62a4",id:"typeof-\u7c7b\u578b\u4fdd\u62a4",children:[],level:3},{value:"instanceof \u7c7b\u578b\u4fdd\u62a4",id:"instanceof-\u7c7b\u578b\u4fdd\u62a4",children:[],level:3},{value:"<code>in</code> \u7c7b\u578b\u4fdd\u62a4",id:"in-\u7c7b\u578b\u4fdd\u62a4",children:[],level:3}],level:2},{value:"<code>ts</code> \u7279\u6709\u7684\u5224\u65ad\u7c7b\u578b",id:"ts-\u7279\u6709\u7684\u5224\u65ad\u7c7b\u578b",children:[{value:"\u53ef\u8fa8\u8bc6\u8054\u5408\u7c7b\u578b",id:"\u53ef\u8fa8\u8bc6\u8054\u5408\u7c7b\u578b",children:[],level:3},{value:"<code>is</code>\u8bed\u6cd5 \u81ea\u5b9a\u4e49\u7c7b\u578b\u4fdd\u62a4",id:"is\u8bed\u6cd5-\u81ea\u5b9a\u4e49\u7c7b\u578b\u4fdd\u62a4",children:[],level:3},{value:"null \u4fdd\u62a4",id:"null-\u4fdd\u62a4",children:[],level:3},{value:"\u5b8c\u6574\u6027\u4fdd\u62a4",id:"\u5b8c\u6574\u6027\u4fdd\u62a4",children:[],level:3}],level:2}],s={toc:u};function d(n){var e=n.components,t=(0,a.Z)(n,l);return(0,i.kt)("wrapper",(0,r.Z)({},s,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u7c7b\u578b\u4fdd\u62a4"},"\u7c7b\u578b\u4fdd\u62a4"),(0,i.kt)("p",null,"\u901a\u8fc7\u5224\u65ad\u8bc6\u522b\u6240\u6267\u884c\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u4ee3\u7801\u5757"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"\u81ea\u52a8\u8bc6\u522b"),"\u53d8\u91cf\u5c5e\u6027\u548c\u65b9\u6cd5"),(0,i.kt)("h2",{id:"js-\u4e2d\u7684typeof-instanceof-in-\u53ef\u4ee5\u5212\u5206\u4f5c\u7528\u57df"},"js \u4e2d\u7684",(0,i.kt)("inlineCode",{parentName:"h2"},"typeof"),"\u3001 ",(0,i.kt)("inlineCode",{parentName:"h2"},"instanceof")," \u3001",(0,i.kt)("inlineCode",{parentName:"h2"},"in")," \u53ef\u4ee5\u5212\u5206\u4f5c\u7528\u57df"),(0,i.kt)("h3",{id:"typeof-\u7c7b\u578b\u4fdd\u62a4"},"typeof \u7c7b\u578b\u4fdd\u62a4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'function double(val: number | string) {\n  if (typeof val === "number") {\n    val;\n  } else {\n    val;\n  }\n}\n')),(0,i.kt)("h3",{id:"instanceof-\u7c7b\u578b\u4fdd\u62a4"},"instanceof \u7c7b\u578b\u4fdd\u62a4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"class Cat {}\nclass Dog {}\n\nconst getInstance = (clazz: { new (): Cat | Dog }) => {\n  return new clazz();\n};\nlet r = getInstance(Cat);\nif (r instanceof Cat) {\n  r;\n} else {\n  r;\n}\n")),(0,i.kt)("h3",{id:"in-\u7c7b\u578b\u4fdd\u62a4"},(0,i.kt)("inlineCode",{parentName:"h3"},"in")," \u7c7b\u578b\u4fdd\u62a4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface Fish {\n  swiming: string;\n}\ninterface Bird {\n  fly: string;\n  leg: number;\n}\nfunction getType(animal: Fish | Bird) {\n  if ("swiming" in animal) {\n    animal; // Fish\n  } else {\n    animal; // Bird\n  }\n}\n')),(0,i.kt)("h2",{id:"ts-\u7279\u6709\u7684\u5224\u65ad\u7c7b\u578b"},(0,i.kt)("inlineCode",{parentName:"h2"},"ts")," \u7279\u6709\u7684\u5224\u65ad\u7c7b\u578b"),(0,i.kt)("h3",{id:"\u53ef\u8fa8\u8bc6\u8054\u5408\u7c7b\u578b"},"\u53ef\u8fa8\u8bc6\u8054\u5408\u7c7b\u578b"),(0,i.kt)("p",null,"\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"\u63a5\u53e3"),"\u7684\u5c5e\u6027\u6765\u5212\u5206\u4f5c\u7528\u57df"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface WarningButton {\n  class: "warning";\n}\ninterface DangerButton {\n  class: "danger";\n}\nfunction createButton(button: WarningButton | DangerButton) {\n  if (button.class == "warning") {\n    button; // WarningButton\n  } else {\n    button; // DangerButton\n  }\n}\n')),(0,i.kt)("h3",{id:"is\u8bed\u6cd5-\u81ea\u5b9a\u4e49\u7c7b\u578b\u4fdd\u62a4"},(0,i.kt)("inlineCode",{parentName:"h3"},"is"),"\u8bed\u6cd5 \u81ea\u5b9a\u4e49\u7c7b\u578b\u4fdd\u62a4"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"isBird"),"\u8fd9\u4e2a\u65b9\u6cd5\u66f4\u52a0\u8bed\u4e49\u5316")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface Fish {\n  swiming: string;\n}\ninterface Bird {\n  fly: string;\n  leg: number;\n}\nfunction isBird(animal: Fish | Bird): animal is Bird {\n  //\u4e3a\u4e86\u8bc6\u522b\u7c7b\u578b\n  return "swiming" in animal;\n}\nfunction getAniaml(animal: Fish | Bird) {\n  if (isBird(animal)) {\n    animal;\n  } else {\n    animal;\n  }\n}\n')),(0,i.kt)("h3",{id:"null-\u4fdd\u62a4"},"null \u4fdd\u62a4"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"!"),"\u975e\u7a7a\u65ad\u8a00"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"function getNum(val?: number | null) {\n  // val!.toFixed\n  val = val || 10.1; //\u7f29\u5c0f\u4f7f\u7528\u8303\u56f4\n\n  function a() {\n    //ts \u65e0\u6cd5\u68c0\u6d4b\u5185\u90e8\u51fd\u6570\u53d8\u91cf  \u9700\u8981\u518d\u6b21\u8fdb\u884c\u5224\u65ad\n    // val //\u73b0\u5728\u662fnull \u548cundefined\n    // if(val!=null){\n    //     val.toFixed\n    // }\n  }\n  a();\n}\ngetNum();\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"ts")," \u65e0\u6cd5\u68c0\u6d4b",(0,i.kt)("inlineCode",{parentName:"p"},"\u5185\u90e8\u51fd\u6570"),"\u53d8\u91cf,\u9700\u8981\u518d\u6b21\u8fdb\u884c\u5224\u65ad")),(0,i.kt)("h3",{id:"\u5b8c\u6574\u6027\u4fdd\u62a4"},"\u5b8c\u6574\u6027\u4fdd\u62a4"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"never"),"\u53ef\u4ee5\u5bf9\u4ee3\u7801\u5b8c\u6574\u6027\u8fdb\u884c\u4fdd\u62a4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'interface ICircle {\n  kind: "circle";\n  r: number;\n}\ninterface IRant {\n  kind: "rant";\n  width: number;\n  height: number;\n}\ninterface ISquare {\n  kind: "square";\n  width: number;\n}\ntype Area = ICircle | IRant | ISquare;\nconst isAssertion = (obj: never) => {throw new Error("\u5fc5\u987b\u5b9e\u73b0\u6240\u6709\u903b\u8f91)};\nconst getArea = (obj: Area) => {\n  switch (obj.kind) {\n    case "circle":\n      return 3.14 * obj.r ** 2;\n    default:\n      return isAssertion(obj); // \u5fc5\u987b\u5b9e\u73b0\u6240\u6709\u903b\u8f91\n  }\n};\n')))}d.isMDXComponent=!0}}]);