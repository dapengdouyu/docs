"use strict";(self.webpackChunkdapengdouyu=self.webpackChunkdapengdouyu||[]).push([[5188],{3905:function(e,n,t){t.d(n,{Zo:function(){return N},kt:function(){return C}});var a=t(67294);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,a,p=function(e,n){if(null==e)return{};var t,a,p={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(p[t]=e[t]);return p}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var k=a.createContext({}),m=function(e){var n=a.useContext(k),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},N=function(e){var n=m(e.components);return a.createElement(k.Provider,{value:n},e.children)},o={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,p=e.mdxType,i=e.originalType,k=e.parentName,N=r(e,["components","mdxType","originalType","parentName"]),d=m(t),C=p,u=d["".concat(k,".").concat(C)]||d[C]||o[C]||i;return t?a.createElement(u,l(l({ref:n},N),{},{components:t})):a.createElement(u,l({ref:n},N))}));function C(e,n){var t=arguments,p=n&&n.mdxType;if("string"==typeof e||p){var i=t.length,l=new Array(i);l[0]=d;var r={};for(var k in n)hasOwnProperty.call(n,k)&&(r[k]=n[k]);r.originalType=e,r.mdxType="string"==typeof e?e:p,l[1]=r;for(var m=2;m<i;m++)l[m]=t[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},29456:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return r},contentTitle:function(){return k},metadata:function(){return m},toc:function(){return N},default:function(){return d}});var a=t(83117),p=t(80102),i=(t(67294),t(3905)),l=["components"],r={},k="\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316",m={unversionedId:"books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/13\u3001\u8c01\u6700\u4fbf\u5b9c\u5c31\u9009\u8c01 \u2014\u2014 MySQL \u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316",id:"books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/13\u3001\u8c01\u6700\u4fbf\u5b9c\u5c31\u9009\u8c01 \u2014\u2014 MySQL \u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316",title:"\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316",description:"\u6807\u7b7e\uff1a MySQL\u662f\u600e\u6837\u8fd0\u884c\u7684",source:"@site/docs/books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/13\u3001\u8c01\u6700\u4fbf\u5b9c\u5c31\u9009\u8c01 \u2014\u2014 MySQL \u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316.md",sourceDirName:"books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL",slug:"/books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/13\u3001\u8c01\u6700\u4fbf\u5b9c\u5c31\u9009\u8c01 \u2014\u2014 MySQL \u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316",permalink:"/docs/books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/13\u3001\u8c01\u6700\u4fbf\u5b9c\u5c31\u9009\u8c01 \u2014\u2014 MySQL \u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316",editUrl:"https://github.com/dapengdouyu/docs/tree/master/docs/books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/13\u3001\u8c01\u6700\u4fbf\u5b9c\u5c31\u9009\u8c01 \u2014\u2014 MySQL \u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316.md",tags:[],version:"current",frontMatter:{},sidebar:"books",previous:{title:"\u8fde\u63a5\u7684\u539f\u7406",permalink:"/docs/books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/12\u3001\u4e24\u4e2a\u8868\u7684\u4eb2\u5bc6\u63a5\u89e6 \u2014\u2014 \u8fde\u63a5\u7684\u539f\u7406"},next:{title:"InnoDB \u7edf\u8ba1\u6570\u636e\u662f\u5982\u4f55\u6536\u96c6\u7684",permalink:"/docs/books/MySQL \u662f\u600e\u6837\u8fd0\u884c\u7684\uff1a\u4ece\u6839\u513f\u4e0a\u7406\u89e3 MySQL/14\u3001\u5175\u9a6c\u672a\u52a8\uff0c\u7cae\u8349\u5148\u884c \u2014\u2014 InnoDB \u7edf\u8ba1\u6570\u636e\u662f\u5982\u4f55\u6536\u96c6\u7684"}},N=[{value:"\u4ec0\u4e48\u662f\u6210\u672c",id:"\u4ec0\u4e48\u662f\u6210\u672c",children:[],level:2},{value:"\u5355\u8868\u67e5\u8be2\u7684\u6210\u672c",id:"\u5355\u8868\u67e5\u8be2\u7684\u6210\u672c",children:[{value:"\u51c6\u5907\u5de5\u4f5c",id:"\u51c6\u5907\u5de5\u4f5c",children:[],level:3},{value:"\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316\u6b65\u9aa4",id:"\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316\u6b65\u9aa4",children:[{value:"1. \u6839\u636e\u641c\u7d22\u6761\u4ef6\uff0c\u627e\u51fa\u6240\u6709\u53ef\u80fd\u4f7f\u7528\u7684\u7d22\u5f15",id:"1-\u6839\u636e\u641c\u7d22\u6761\u4ef6\u627e\u51fa\u6240\u6709\u53ef\u80fd\u4f7f\u7528\u7684\u7d22\u5f15",children:[],level:4},{value:"2. \u8ba1\u7b97\u5168\u8868\u626b\u63cf\u7684\u4ee3\u4ef7",id:"2-\u8ba1\u7b97\u5168\u8868\u626b\u63cf\u7684\u4ee3\u4ef7",children:[],level:4},{value:"3. \u8ba1\u7b97\u4f7f\u7528\u4e0d\u540c\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u7684\u4ee3\u4ef7",id:"3-\u8ba1\u7b97\u4f7f\u7528\u4e0d\u540c\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u7684\u4ee3\u4ef7",children:[{value:"\u4f7f\u7528idx_key2\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790",id:"\u4f7f\u7528idx_key2\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790",children:[],level:5},{value:"\u4f7f\u7528idx_key1\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790",id:"\u4f7f\u7528idx_key1\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790",children:[],level:5},{value:"\u662f\u5426\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u5408\u5e76\uff08Index Merge\uff09",id:"\u662f\u5426\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u5408\u5e76index-merge",children:[],level:5}],level:4},{value:"4. \u5bf9\u6bd4\u5404\u79cd\u6267\u884c\u65b9\u6848\u7684\u4ee3\u4ef7\uff0c\u627e\u51fa\u6210\u672c\u6700\u4f4e\u7684\u90a3\u4e00\u4e2a",id:"4-\u5bf9\u6bd4\u5404\u79cd\u6267\u884c\u65b9\u6848\u7684\u4ee3\u4ef7\u627e\u51fa\u6210\u672c\u6700\u4f4e\u7684\u90a3\u4e00\u4e2a",children:[],level:4}],level:3},{value:"\u57fa\u4e8e\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\u7684\u6210\u672c\u8ba1\u7b97",id:"\u57fa\u4e8e\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\u7684\u6210\u672c\u8ba1\u7b97",children:[],level:3}],level:2},{value:"\u8fde\u63a5\u67e5\u8be2\u7684\u6210\u672c",id:"\u8fde\u63a5\u67e5\u8be2\u7684\u6210\u672c",children:[{value:"\u51c6\u5907\u5de5\u4f5c",id:"\u51c6\u5907\u5de5\u4f5c-1",children:[],level:3},{value:"Condition filtering\u4ecb\u7ecd",id:"condition-filtering\u4ecb\u7ecd",children:[],level:3},{value:"\u4e24\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790",id:"\u4e24\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790",children:[],level:3},{value:"\u591a\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790",id:"\u591a\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790",children:[],level:3}],level:2},{value:"\u8c03\u8282\u6210\u672c\u5e38\u6570",id:"\u8c03\u8282\u6210\u672c\u5e38\u6570",children:[{value:"mysql.server_cost\u8868",id:"mysqlserver_cost\u8868",children:[],level:3},{value:"mysql.engine_cost\u8868",id:"mysqlengine_cost\u8868",children:[],level:3}],level:2}],o={toc:N};function d(e){var n=e.components,t=(0,p.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},o,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316"},"\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316"),(0,i.kt)("p",null,"\u6807\u7b7e\uff1a MySQL\u662f\u600e\u6837\u8fd0\u884c\u7684"),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"\u4ec0\u4e48\u662f\u6210\u672c"},"\u4ec0\u4e48\u662f\u6210\u672c"),(0,i.kt)("p",null,"\u6211\u4eec\u4e4b\u524d\u8001\u8bf4",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u6267\u884c\u4e00\u4e2a\u67e5\u8be2\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u6267\u884c\u65b9\u6848\uff0c\u5b83\u4f1a\u9009\u62e9\u5176\u4e2d\u6210\u672c\u6700\u4f4e\uff0c\u6216\u8005\u8bf4\u4ee3\u4ef7\u6700\u4f4e\u7684\u90a3\u79cd\u65b9\u6848\u53bb\u771f\u6b63\u7684\u6267\u884c\u67e5\u8be2\u3002\u4e0d\u8fc7\u6211\u4eec\u4e4b\u524d\u5bf9",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c"),"\u7684\u63cf\u8ff0\u662f\u975e\u5e38\u6a21\u7cca\u7684\uff0c\u5176\u5b9e\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u4e2d\u4e00\u6761\u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u6210\u672c\u662f\u7531\u4e0b\u8fb9\u8fd9\u4e24\u4e2a\u65b9\u9762\u7ec4\u6210\u7684\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c"),(0,i.kt)("p",{parentName:"li"},"\u6211\u4eec\u7684\u8868\u7ecf\u5e38\u4f7f\u7528\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"MyISAM"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u90fd\u662f\u5c06\u6570\u636e\u548c\u7d22\u5f15\u90fd\u5b58\u50a8\u5230\u78c1\u76d8\u4e0a\u7684\uff0c\u5f53\u6211\u4eec\u60f3\u67e5\u8be2\u8868\u4e2d\u7684\u8bb0\u5f55\u65f6\uff0c\u9700\u8981\u5148\u628a\u6570\u636e\u6216\u8005\u7d22\u5f15\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u7136\u540e\u518d\u64cd\u4f5c\u3002\u8fd9\u4e2a\u4ece\u78c1\u76d8\u5230\u5185\u5b58\u8fd9\u4e2a\u52a0\u8f7d\u7684\u8fc7\u7a0b\u635f\u8017\u7684\u65f6\u95f4\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c"),(0,i.kt)("p",{parentName:"li"},"\u8bfb\u53d6\u4ee5\u53ca\u68c0\u6d4b\u8bb0\u5f55\u662f\u5426\u6ee1\u8db3\u5bf9\u5e94\u7684\u641c\u7d22\u6761\u4ef6\u3001\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u6392\u5e8f\u7b49\u8fd9\u4e9b\u64cd\u4f5c\u635f\u8017\u7684\u65f6\u95f4\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\u3002"))),(0,i.kt)("p",null,"\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\uff0c\u9875\u662f\u78c1\u76d8\u548c\u5185\u5b58\u4e4b\u95f4\u4ea4\u4e92\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u89c4\u5b9a\u8bfb\u53d6\u4e00\u4e2a\u9875\u9762\u82b1\u8d39\u7684\u6210\u672c\u9ed8\u8ba4\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"1.0"),"\uff0c\u8bfb\u53d6\u4ee5\u53ca\u68c0\u6d4b\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u6210\u672c\u9ed8\u8ba4\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"0.2"),"\u3002",(0,i.kt)("inlineCode",{parentName:"p"},"1.0"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"0.2"),"\u8fd9\u4e9b\u6570\u5b57\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c\u5e38\u6570"),"\uff0c\u8fd9\u4e24\u4e2a\u6210\u672c\u5e38\u6570\u6211\u4eec\u6700\u5e38\u7528\u5230\uff0c\u5176\u4f59\u7684\u6210\u672c\u5e38\u6570\u6211\u4eec\u540e\u8fb9\u518d\u8bf4\u54c8\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0d\u7ba1\u8bfb\u53d6\u8bb0\u5f55\u65f6\u9700\u4e0d\u9700\u8981\u68c0\u6d4b\u662f\u5426\u6ee1\u8db3\u641c\u7d22\u6761\u4ef6\uff0c\u5176\u6210\u672c\u90fd\u7b97\u662f0.2\u3002")),(0,i.kt)("h2",{id:"\u5355\u8868\u67e5\u8be2\u7684\u6210\u672c"},"\u5355\u8868\u67e5\u8be2\u7684\u6210\u672c"),(0,i.kt)("h3",{id:"\u51c6\u5907\u5de5\u4f5c"},"\u51c6\u5907\u5de5\u4f5c"),(0,i.kt)("p",null,"\u4e3a\u4e86\u6545\u4e8b\u7684\u987a\u5229\u53d1\u5c55\uff0c\u6211\u4eec\u8fd8\u5f97\u628a\u4e4b\u524d\u7528\u5230\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u8868\u642c\u6765\uff0c\u6015\u5927\u5bb6\u5fd8\u4e86\u8fd9\u4e2a\u8868\u957f\u5565\u6837\uff0c\u518d\u7ed9\u5927\u5bb6\u6284\u4e00\u904d\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"CREATE TABLE single_table (\n    id INT NOT NULL AUTO_INCREMENT,\n    key1 VARCHAR(100),\n    key2 INT,\n    key3 VARCHAR(100),\n    key_part1 VARCHAR(100),\n    key_part2 VARCHAR(100),\n    key_part3 VARCHAR(100),\n    common_field VARCHAR(100),\n    PRIMARY KEY (id),\n    KEY idx_key1 (key1),\n    UNIQUE KEY idx_key2 (key2),\n    KEY idx_key3 (key3),\n    KEY idx_key_part(key_part1, key_part2, key_part3)\n) Engine=InnoDB CHARSET=utf8;\n\n")),(0,i.kt)("p",null,"\u8fd8\u662f\u5047\u8bbe\u8fd9\u4e2a\u8868\u91cc\u8fb9\u513f\u670910000\u6761\u8bb0\u5f55\uff0c\u9664",(0,i.kt)("inlineCode",{parentName:"p"},"id"),"\u5217\u5916\u5176\u4f59\u7684\u5217\u90fd\u63d2\u5165\u968f\u673a\u503c\u3002\u4e0b\u8fb9\u6b63\u5f0f\u5f00\u59cb\u6211\u4eec\u7684\u8868\u6f14\u3002"),(0,i.kt)("h3",{id:"\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316\u6b65\u9aa4"},"\u57fa\u4e8e\u6210\u672c\u7684\u4f18\u5316\u6b65\u9aa4"),(0,i.kt)("p",null,"\u5728\u4e00\u6761\u5355\u8868\u67e5\u8be2\u8bed\u53e5\u771f\u6b63\u6267\u884c\u4e4b\u524d\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u67e5\u8be2\u4f18\u5316\u5668\u4f1a\u627e\u51fa\u6267\u884c\u8be5\u8bed\u53e5\u6240\u6709\u53ef\u80fd\u4f7f\u7528\u7684\u65b9\u6848\uff0c\u5bf9\u6bd4\u4e4b\u540e\u627e\u51fa\u6210\u672c\u6700\u4f4e\u7684\u65b9\u6848\uff0c\u8fd9\u4e2a\u6210\u672c\u6700\u4f4e\u7684\u65b9\u6848\u5c31\u662f\u6240\u8c13\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u6267\u884c\u8ba1\u5212"),"\uff0c\u4e4b\u540e\u624d\u4f1a\u8c03\u7528\u5b58\u50a8\u5f15\u64ce\u63d0\u4f9b\u7684\u63a5\u53e3\u771f\u6b63\u7684\u6267\u884c\u67e5\u8be2\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\u8fd9\u6837\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u6839\u636e\u641c\u7d22\u6761\u4ef6\uff0c\u627e\u51fa\u6240\u6709\u53ef\u80fd\u4f7f\u7528\u7684\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ol"},"\u8ba1\u7b97\u5168\u8868\u626b\u63cf\u7684\u4ee3\u4ef7"),(0,i.kt)("li",{parentName:"ol"},"\u8ba1\u7b97\u4f7f\u7528\u4e0d\u540c\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u7684\u4ee3\u4ef7"),(0,i.kt)("li",{parentName:"ol"},"\u5bf9\u6bd4\u5404\u79cd\u6267\u884c\u65b9\u6848\u7684\u4ee3\u4ef7\uff0c\u627e\u51fa\u6210\u672c\u6700\u4f4e\u7684\u90a3\u4e00\u4e2a")),(0,i.kt)("p",null,"\u4e0b\u8fb9\u6211\u4eec\u5c31\u4ee5\u4e00\u4e2a\u5b9e\u4f8b\u6765\u5206\u6790\u4e00\u4e0b\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u5355\u8868\u67e5\u8be2\u8bed\u53e5\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table WHERE \n    key1 IN ('a', 'b', 'c') AND \n    key2 > 10 AND key2 < 1000 AND \n    key3 > key2 AND \n    key_part1 LIKE '%hello%' AND\n    common_field = '123';\n\n")),(0,i.kt)("p",null,"\u4e4d\u770b\u4e0a\u53bb\u6709\u70b9\u513f\u590d\u6742\u54e6\uff0c\u6211\u4eec\u4e00\u6b65\u4e00\u6b65\u5206\u6790\u4e00\u4e0b\u3002"),(0,i.kt)("h4",{id:"1-\u6839\u636e\u641c\u7d22\u6761\u4ef6\u627e\u51fa\u6240\u6709\u53ef\u80fd\u4f7f\u7528\u7684\u7d22\u5f15"},"1","."," \u6839\u636e\u641c\u7d22\u6761\u4ef6\uff0c\u627e\u51fa\u6240\u6709\u53ef\u80fd\u4f7f\u7528\u7684\u7d22\u5f15"),(0,i.kt)("p",null,"\u6211\u4eec\u524d\u8fb9\u8bf4\u8fc7\uff0c\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u7d22\u5f15\u6765\u8bf4\uff0c\u53ea\u8981\u7d22\u5f15\u5217\u548c\u5e38\u6570\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"="),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"<=>"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"IN"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"NOT IN"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"IS NULL"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"IS NOT NULL"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},">"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"<"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},">="),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"<="),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"BETWEEN"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"!="),"\uff08\u4e0d\u7b49\u4e8e\u4e5f\u53ef\u4ee5\u5199\u6210",(0,i.kt)("inlineCode",{parentName:"p"},"<>"),"\uff09\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"p"},"LIKE"),"\u64cd\u4f5c\u7b26\u8fde\u63a5\u8d77\u6765\uff0c\u5c31\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a\u6240\u8c13\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u8303\u56f4\u533a\u95f4"),"\uff08",(0,i.kt)("inlineCode",{parentName:"p"},"LIKE"),"\u5339\u914d\u5b57\u7b26\u4e32\u524d\u7f00\u4e5f\u884c\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e9b\u641c\u7d22\u6761\u4ef6\u90fd\u53ef\u80fd\u4f7f\u7528\u5230\u7d22\u5f15\uff0c\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u628a\u4e00\u4e2a\u67e5\u8be2\u4e2d\u53ef\u80fd\u4f7f\u7528\u5230\u7684\u7d22\u5f15\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"possible keys"),"\u3002"),(0,i.kt)("p",null,"\u6211\u4eec\u5206\u6790\u4e00\u4e0b\u4e0a\u8fb9\u67e5\u8be2\u4e2d\u6d89\u53ca\u5230\u7684\u51e0\u4e2a\u641c\u7d22\u6761\u4ef6\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"key1 IN ('a', 'b', 'c')"),"\uff0c\u8fd9\u4e2a\u641c\u7d22\u6761\u4ef6\u53ef\u4ee5\u4f7f\u7528\u4e8c\u7ea7\u7d22\u5f15",(0,i.kt)("inlineCode",{parentName:"li"},"idx_key1"),"\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"key2 > 10 AND key2 < 1000"),"\uff0c\u8fd9\u4e2a\u641c\u7d22\u6761\u4ef6\u53ef\u4ee5\u4f7f\u7528\u4e8c\u7ea7\u7d22\u5f15",(0,i.kt)("inlineCode",{parentName:"li"},"idx_key2"),"\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"key3 > key2"),"\uff0c\u8fd9\u4e2a\u641c\u7d22\u6761\u4ef6\u7684\u7d22\u5f15\u5217\u7531\u4e8e\u6ca1\u6709\u548c\u5e38\u6570\u6bd4\u8f83\uff0c\u6240\u4ee5\u5e76\u4e0d\u80fd\u4f7f\u7528\u5230\u7d22\u5f15\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"key_part1 LIKE '%hello%'"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"key_part1"),"\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"li"},"LIKE"),"\u64cd\u4f5c\u7b26\u548c\u4ee5\u901a\u914d\u7b26\u5f00\u5934\u7684\u5b57\u7b26\u4e32\u505a\u6bd4\u8f83\uff0c\u4e0d\u53ef\u4ee5\u9002\u7528\u7d22\u5f15\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"common_field = '123'"),"\uff0c\u7531\u4e8e\u8be5\u5217\u4e0a\u538b\u6839\u513f\u6ca1\u6709\u7d22\u5f15\uff0c\u6240\u4ee5\u4e0d\u4f1a\u7528\u5230\u7d22\u5f15\u3002")),(0,i.kt)("p",null,"\u7efc\u4e0a\u6240\u8ff0\uff0c\u4e0a\u8fb9\u7684\u67e5\u8be2\u8bed\u53e5\u53ef\u80fd\u7528\u5230\u7684\u7d22\u5f15\uff0c\u4e5f\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"possible keys"),"\u53ea\u6709",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u3002"),(0,i.kt)("h4",{id:"2-\u8ba1\u7b97\u5168\u8868\u626b\u63cf\u7684\u4ee3\u4ef7"},"2","."," \u8ba1\u7b97\u5168\u8868\u626b\u63cf\u7684\u4ee3\u4ef7"),(0,i.kt)("p",null,"\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\uff0c\u5168\u8868\u626b\u63cf\u7684\u610f\u601d\u5c31\u662f\u628a\u805a\u7c07\u7d22\u5f15\u4e2d\u7684\u8bb0\u5f55\u90fd\u4f9d\u6b21\u548c\u7ed9\u5b9a\u7684\u641c\u7d22\u6761\u4ef6\u505a\u4e00\u4e0b\u6bd4\u8f83\uff0c\u628a\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u8bb0\u5f55\u52a0\u5165\u5230\u7ed3\u679c\u96c6\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u805a\u7c07\u7d22\u5f15\u5bf9\u5e94\u7684\u9875\u9762\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u68c0\u6d4b\u8bb0\u5f55\u662f\u5426\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u3002\u7531\u4e8e\u67e5\u8be2\u6210\u672c=",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c+",(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\uff0c\u6240\u4ee5\u8ba1\u7b97\u5168\u8868\u626b\u63cf\u7684\u4ee3\u4ef7\u9700\u8981\u4e24\u4e2a\u4fe1\u606f\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u805a\u7c07\u7d22\u5f15\u5360\u7528\u7684\u9875\u9762\u6570"),(0,i.kt)("li",{parentName:"ul"},"\u8be5\u8868\u4e2d\u7684\u8bb0\u5f55\u6570")),(0,i.kt)("p",null,"\u8fd9\u4e24\u4e2a\u4fe1\u606f\u4ece\u54ea\u6765\u5462\uff1f\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u4e3a\u6bcf\u4e2a\u8868\u7ef4\u62a4\u4e86\u4e00\u7cfb\u5217\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u7edf\u8ba1\u4fe1\u606f"),"\uff0c\u5173\u4e8e\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u662f\u5982\u4f55\u6536\u96c6\u8d77\u6765\u7684\u6211\u4eec\u653e\u5728\u672c\u7ae0\u540e\u8fb9\u8be6\u7ec6\u5520\u53e8\uff0c\u73b0\u5728\u770b\u770b\u600e\u4e48\u67e5\u770b\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u54c8\u3002\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"SHOW TABLE STATUS"),"\u8bed\u53e5\u6765\u67e5\u770b\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5982\u679c\u8981\u770b\u6307\u5b9a\u7684\u67d0\u4e2a\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u5728\u8be5\u8bed\u53e5\u540e\u52a0\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"LIKE"),"\u8bed\u53e5\u5c31\u597d\u4e86\uff0c\u6bd4\u65b9\u8bf4\u6211\u4eec\u8981\u67e5\u770b",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u8fd9\u4e2a\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mysql> USE xiaohaizi;\nDatabase changed\n\nmysql> SHOW TABLE STATUS LIKE 'single_table'\\G\n*************************** 1. row ***************************\n           Name: single_table\n         Engine: InnoDB\n        Version: 10\n     Row_format: Dynamic\n           Rows: 9693\n Avg_row_length: 163\n    Data_length: 1589248\nMax_data_length: 0\n   Index_length: 2752512\n      Data_free: 4194304\n Auto_increment: 10001\n    Create_time: 2018-12-10 13:37:23\n    Update_time: 2018-12-10 13:38:03\n     Check_time: NULL\n      Collation: utf8_general_ci\n       Checksum: NULL\n Create_options:\n        Comment:\n1 row in set (0.01 sec)\n\n")),(0,i.kt)("p",null,"\u867d\u7136\u51fa\u73b0\u4e86\u5f88\u591a\u7edf\u8ba1\u9009\u9879\uff0c\u4f46\u6211\u4eec\u76ee\u524d\u53ea\u5173\u5fc3\u4e24\u4e2a\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Rows")),(0,i.kt)("p",{parentName:"li"},"\u672c\u9009\u9879\u8868\u793a\u8868\u4e2d\u7684\u8bb0\u5f55\u6761\u6570\u3002\u5bf9\u4e8e\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"MyISAM"),"\u5b58\u50a8\u5f15\u64ce\u7684\u8868\u6765\u8bf4\uff0c\u8be5\u503c\u662f\u51c6\u786e\u7684\uff0c\u5bf9\u4e8e\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u7684\u8868\u6765\u8bf4\uff0c\u8be5\u503c\u662f\u4e00\u4e2a\u4f30\u8ba1\u503c\u3002\u4ece\u67e5\u8be2\u7ed3\u679c\u6211\u4eec\u4e5f\u53ef\u4ee5\u770b\u51fa\u6765\uff0c\u7531\u4e8e\u6211\u4eec\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u8868\u662f\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u7684\uff0c\u6240\u4ee5\u867d\u7136\u5b9e\u9645\u4e0a\u8868\u4e2d\u670910000\u6761\u8bb0\u5f55\uff0c\u4f46\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"SHOW TABLE STATUS"),"\u663e\u793a\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Rows"),"\u503c\u53ea\u67099693\u6761\u8bb0\u5f55\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Data_length")),(0,i.kt)("p",{parentName:"li"},"\u672c\u9009\u9879\u8868\u793a\u8868\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\u5b57\u8282\u6570\u3002\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"MyISAM"),"\u5b58\u50a8\u5f15\u64ce\u7684\u8868\u6765\u8bf4\uff0c\u8be5\u503c\u5c31\u662f\u6570\u636e\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5bf9\u4e8e\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u7684\u8868\u6765\u8bf4\uff0c\u8be5\u503c\u5c31\u76f8\u5f53\u4e8e\u805a\u7c07\u7d22\u5f15\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\u5927\u5c0f\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ef\u4ee5\u8fd9\u6837\u8ba1\u7b97\u8be5\u503c\u7684\u5927\u5c0f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"Data_length = \u805a\u7c07\u7d22\u5f15\u7684\u9875\u9762\u6570\u91cf x \u6bcf\u4e2a\u9875\u9762\u7684\u5927\u5c0f\n\n")),(0,i.kt)("p",{parentName:"li"},"\u6211\u4eec\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u4f7f\u7528\u9ed8\u8ba4",(0,i.kt)("inlineCode",{parentName:"p"},"16KB"),"\u7684\u9875\u9762\u5927\u5c0f\uff0c\u800c\u4e0a\u8fb9\u67e5\u8be2\u7ed3\u679c\u663e\u793a",(0,i.kt)("inlineCode",{parentName:"p"},"Data_length"),"\u7684\u503c\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"1589248"),"\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u53cd\u5411\u6765\u63a8\u5bfc\u51fa",(0,i.kt)("inlineCode",{parentName:"p"},"\u805a\u7c07\u7d22\u5f15\u7684\u9875\u9762\u6570\u91cf"),"\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"\u805a\u7c07\u7d22\u5f15\u7684\u9875\u9762\u6570\u91cf = 1589248 \xf7 16 \xf7 1024 = 97\n\n")))),(0,i.kt)("p",null,"\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u5f97\u5230\u4e86\u805a\u7c07\u7d22\u5f15\u5360\u7528\u7684\u9875\u9762\u6570\u91cf\u4ee5\u53ca\u8be5\u8868\u8bb0\u5f55\u6570\u7684\u4f30\u8ba1\u503c\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u8ba1\u7b97\u5168\u8868\u626b\u63cf\u6210\u672c\u4e86\uff0c\u4f46\u662f\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u5728\u771f\u5b9e\u8ba1\u7b97\u6210\u672c\u65f6\u4f1a\u8fdb\u884c\u4e00\u4e9b",(0,i.kt)("inlineCode",{parentName:"p"},"\u5fae\u8c03"),"\uff0c\u8fd9\u4e9b\u5fae\u8c03\u7684\u503c\u662f\u76f4\u63a5\u786c\u7f16\u7801\u5230\u4ee3\u7801\u91cc\u7684\uff0c\u7531\u4e8e\u6ca1\u6709\u6ce8\u91ca\uff0c\u6211\u4e5f\u4e0d\u77e5\u9053\u8fd9\u4e9b\u5fae\u8c03\u503c\u662f\u4e2a\u5565\u5b50\u610f\u601d\uff0c\u4f46\u662f\u7531\u4e8e\u8fd9\u4e9b\u5fae\u8c03\u7684\u503c\u5341\u5206\u7684\u5c0f\uff0c\u5e76\u4e0d\u5f71\u54cd\u6211\u4eec\u5206\u6790\uff0c\u6240\u4ee5\u6211\u4eec\u4e5f\u6ca1\u6709\u5fc5\u8981\u5728\u8fd9\u4e9b\u5fae\u8c03\u503c\u4e0a\u7ea0\u7ed3\u4e86\u3002\u73b0\u5728\u53ef\u4ee5\u770b\u4e00\u4e0b\u5168\u8868\u626b\u63cf\u6210\u672c\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"97 x 1.0 + 1.1 = 98.1\n\n")),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"97"),"\u6307\u7684\u662f\u805a\u7c07\u7d22\u5f15\u5360\u7528\u7684\u9875\u9762\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"1.0"),"\u6307\u7684\u662f\u52a0\u8f7d\u4e00\u4e2a\u9875\u9762\u7684\u6210\u672c\u5e38\u6570\uff0c\u540e\u8fb9\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"1.1"),"\u662f\u4e00\u4e2a\u5fae\u8c03\u503c\uff0c\u6211\u4eec\u4e0d\u7528\u5728\u610f\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"9693 x 0.2 + 1.0 = 1939.6\n\n")),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"9693"),"\u6307\u7684\u662f\u7edf\u8ba1\u6570\u636e\u4e2d\u8868\u7684\u8bb0\u5f55\u6570\uff0c\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\u662f\u4e00\u4e2a\u4f30\u8ba1\u503c\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"0.2"),"\u6307\u7684\u662f\u8bbf\u95ee\u4e00\u6761\u8bb0\u5f55\u6240\u9700\u7684\u6210\u672c\u5e38\u6570\uff0c\u540e\u8fb9\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"1.0"),"\u662f\u4e00\u4e2a\u5fae\u8c03\u503c\uff0c\u6211\u4eec\u4e0d\u7528\u5728\u610f\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u603b\u6210\u672c\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"98.1 + 1939.6 = 2037.7\n\n")))),(0,i.kt)("p",null,"\u7efc\u4e0a\u6240\u8ff0\uff0c\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u7684\u5168\u8868\u626b\u63cf\u6240\u9700\u7684\u603b\u6210\u672c\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"2037.7"),"\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a \u6211\u4eec\u524d\u8fb9\u8bf4\u8fc7\u8868\u4e2d\u7684\u8bb0\u5f55\u5176\u5b9e\u90fd\u5b58\u50a8\u5728\u805a\u7c07\u7d22\u5f15\u5bf9\u5e94B+\u6811\u7684\u53f6\u5b50\u8282\u70b9\u4e2d\uff0c\u6240\u4ee5\u53ea\u8981\u6211\u4eec\u901a\u8fc7\u6839\u8282\u70b9\u83b7\u5f97\u4e86\u6700\u5de6\u8fb9\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u5c31\u53ef\u4ee5\u6cbf\u7740\u53f6\u5b50\u8282\u70b9\u7ec4\u6210\u7684\u53cc\u5411\u94fe\u8868\u628a\u6240\u6709\u8bb0\u5f55\u90fd\u67e5\u770b\u4e00\u904d\u3002\u4e5f\u5c31\u662f\u8bf4\u5168\u8868\u626b\u63cf\u8fd9\u4e2a\u8fc7\u7a0b\u5176\u5b9e\u6709\u7684B+\u6811\u5185\u8282\u70b9\u662f\u4e0d\u9700\u8981\u8bbf\u95ee\u7684\uff0c\u4f46\u662f\u8bbe\u8ba1MySQL\u7684\u5927\u53d4\u4eec\u5728\u8ba1\u7b97\u5168\u8868\u626b\u63cf\u6210\u672c\u65f6\u76f4\u63a5\u4f7f\u7528\u805a\u7c07\u7d22\u5f15\u5360\u7528\u7684\u9875\u9762\u6570\u4f5c\u4e3a\u8ba1\u7b97I/O\u6210\u672c\u7684\u4f9d\u636e\uff0c\u662f\u4e0d\u533a\u5206\u5185\u8282\u70b9\u548c\u53f6\u5b50\u8282\u70b9\u7684\uff0c\u6709\u70b9\u513f\u7b80\u5355\u66b4\u529b\uff0c\u5927\u5bb6\u6ce8\u610f\u4e00\u4e0b\u5c31\u597d\u4e86\u3002")),(0,i.kt)("h4",{id:"3-\u8ba1\u7b97\u4f7f\u7528\u4e0d\u540c\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u7684\u4ee3\u4ef7"},"3","."," \u8ba1\u7b97\u4f7f\u7528\u4e0d\u540c\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u7684\u4ee3\u4ef7"),(0,i.kt)("p",null,"\u4ece\u7b2c1\u6b65\u5206\u6790\u6211\u4eec\u5f97\u5230\uff0c\u4e0a\u8ff0\u67e5\u8be2\u53ef\u80fd\u4f7f\u7528\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u8fd9\u4e24\u4e2a\u7d22\u5f15\uff0c\u6211\u4eec\u9700\u8981\u5206\u522b\u5206\u6790\u5355\u72ec\u4f7f\u7528\u8fd9\u4e9b\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\uff0c\u6700\u540e\u8fd8\u8981\u5206\u6790\u662f\u5426\u53ef\u80fd\u4f7f\u7528\u5230\u7d22\u5f15\u5408\u5e76\u3002\u8fd9\u91cc\u9700\u8981\u63d0\u4e00\u70b9\u7684\u662f\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u67e5\u8be2\u4f18\u5316\u5668\u5148\u5206\u6790\u4f7f\u7528\u552f\u4e00\u4e8c\u7ea7\u7d22\u5f15\u7684\u6210\u672c\uff0c\u518d\u5206\u6790\u4f7f\u7528\u666e\u901a\u7d22\u5f15\u7684\u6210\u672c\uff0c\u6240\u4ee5\u6211\u4eec\u4e5f\u5148\u5206\u6790",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u6210\u672c\uff0c\u7136\u540e\u518d\u770b\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u7684\u6210\u672c\u3002"),(0,i.kt)("h5",{id:"\u4f7f\u7528idx_key2\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790"},"\u4f7f\u7528idx","_","key2\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u5bf9\u5e94\u7684\u641c\u7d22\u6761\u4ef6\u662f\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"key2 > 10 AND key2 < 1000"),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u5bf9\u5e94\u7684\u8303\u56f4\u533a\u95f4\u5c31\u662f\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"(10, 1000)"),"\uff0c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u641c\u7d22\u7684\u793a\u610f\u56fe\u5c31\u662f\u8fd9\u6837\u5b50\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-gold-cdn.xitu.io/2019/3/20/16998b505d671d4e?w=846&h=643&f=png&s=127295",alt:"image_1d6cb8nolj1714dimrf1iu64l99.png-124.3kB"})),(0,i.kt)("p",null,"\u5bf9\u4e8e\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"\u4e8c\u7ea7\u7d22\u5f15 + \u56de\u8868"),"\u65b9\u5f0f\u7684\u67e5\u8be2\uff0c\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u8ba1\u7b97\u8fd9\u79cd\u67e5\u8be2\u7684\u6210\u672c\u4f9d\u8d56\u4e24\u4e2a\u65b9\u9762\u7684\u6570\u636e\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u8303\u56f4\u533a\u95f4\u6570\u91cf"),(0,i.kt)("p",{parentName:"li"},"\u4e0d\u8bba\u67d0\u4e2a\u8303\u56f4\u533a\u95f4\u7684\u4e8c\u7ea7\u7d22\u5f15\u5230\u5e95\u5360\u7528\u4e86\u591a\u5c11\u9875\u9762\uff0c\u67e5\u8be2\u4f18\u5316\u5668\u7c97\u66b4\u7684\u8ba4\u4e3a\u8bfb\u53d6\u7d22\u5f15\u7684\u4e00\u4e2a\u8303\u56f4\u533a\u95f4\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\u548c\u8bfb\u53d6\u4e00\u4e2a\u9875\u9762\u662f\u76f8\u540c\u7684\u3002\u672c\u4f8b\u4e2d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u8303\u56f4\u533a\u95f4\u53ea\u6709\u4e00\u4e2a\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"(10, 1000)"),"\uff0c\u6240\u4ee5\u76f8\u5f53\u4e8e\u8bbf\u95ee\u8fd9\u4e2a\u8303\u56f4\u533a\u95f4\u7684\u4e8c\u7ea7\u7d22\u5f15\u4ed8\u51fa\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"1 x 1.0 = 1.0\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u9700\u8981\u56de\u8868\u7684\u8bb0\u5f55\u6570"),(0,i.kt)("p",{parentName:"li"},"\u4f18\u5316\u5668\u9700\u8981\u8ba1\u7b97\u4e8c\u7ea7\u7d22\u5f15\u7684\u67d0\u4e2a\u8303\u56f4\u533a\u95f4\u5230\u5e95\u5305\u542b\u591a\u5c11\u6761\u8bb0\u5f55\uff0c\u5bf9\u4e8e\u672c\u4f8b\u6765\u8bf4\u5c31\u662f\u8981\u8ba1\u7b97",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"(10, 1000)"),"\u8fd9\u4e2a\u8303\u56f4\u533a\u95f4\u4e2d\u5305\u542b\u591a\u5c11\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\uff0c\u8ba1\u7b97\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6b65\u9aa41\uff1a\u5148\u6839\u636e",(0,i.kt)("inlineCode",{parentName:"p"},"key2 > 10"),"\u8fd9\u4e2a\u6761\u4ef6\u8bbf\u95ee\u4e00\u4e0b",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u7d22\u5f15\uff0c\u627e\u5230\u6ee1\u8db3",(0,i.kt)("inlineCode",{parentName:"p"},"key2 > 10"),"\u8fd9\u4e2a\u6761\u4ef6\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u6211\u4eec\u628a\u8fd9\u6761\u8bb0\u5f55\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u3002\u6211\u4eec\u524d\u5934\u8bf4\u8fc7\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6570\u6811\u4e2d\u5b9a\u4f4d\u4e00\u6761\u8bb0\u5f55\u7684\u8fc7\u7a0b\u662f\u8d3c\u5feb\u7684\uff0c\u662f\u5e38\u6570\u7ea7\u522b\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8fc7\u7a0b\u7684\u6027\u80fd\u6d88\u8017\u662f\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\u7684\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6b65\u9aa42\uff1a\u7136\u540e\u518d\u6839\u636e",(0,i.kt)("inlineCode",{parentName:"p"},"key2 < 1000"),"\u8fd9\u4e2a\u6761\u4ef6\u7ee7\u7eed\u4ece",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u7d22\u5f15\u4e2d\u627e\u51fa\u7b2c\u4e00\u6761\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\u7684\u8bb0\u5f55\uff0c\u6211\u4eec\u628a\u8fd9\u6761\u8bb0\u5f55\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u7684\u6027\u80fd\u6d88\u8017\u4e5f\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\u7684\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6b65\u9aa43\uff1a\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\u76f8\u9694\u4e0d\u592a\u8fdc\uff08\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL 5.7.21"),"\u8fd9\u4e2a\u7248\u672c\u91cc\uff0c\u53ea\u8981\u76f8\u9694\u4e0d\u5927\u4e8e10\u4e2a\u9875\u9762\u5373\u53ef\uff09\uff0c\u90a3\u5c31\u53ef\u4ee5\u7cbe\u786e\u7edf\u8ba1\u51fa\u6ee1\u8db3",(0,i.kt)("inlineCode",{parentName:"p"},"key2 > 10 AND key2 < 1000"),"\u6761\u4ef6\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\u3002\u5426\u5219\u53ea\u6cbf\u7740",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u5411\u53f3\u8bfb10\u4e2a\u9875\u9762\uff0c\u8ba1\u7b97\u5e73\u5747\u6bcf\u4e2a\u9875\u9762\u4e2d\u5305\u542b\u591a\u5c11\u8bb0\u5f55\uff0c\u7136\u540e\u7528\u8fd9\u4e2a\u5e73\u5747\u503c\u4e58\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\u4e4b\u95f4\u7684\u9875\u9762\u6570\u91cf\u5c31\u53ef\u4ee5\u4e86\u3002\u90a3\u4e48\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u600e\u4e48\u4f30\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\u4e4b\u95f4\u6709\u591a\u5c11\u4e2a\u9875\u9762\u5462\uff1f\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u8fd8\u5f97\u56de\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u7d22\u5f15\u7684\u7ed3\u6784\u4e2d\u6765\uff1a"),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://user-gold-cdn.xitu.io/2019/3/20/16998b505d7a278a?w=994&h=555&f=png&s=87303",alt:"image_1cubndfil1i02ddfas1j3brq9m.png-85.3kB"})),(0,i.kt)("p",{parentName:"li"},"\u5982\u56fe\uff0c\u6211\u4eec\u5047\u8bbe",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875b"),"\u4e2d\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875c"),"\u4e2d\uff0c\u90a3\u4e48\u6211\u4eec\u60f3\u8ba1\u7b97",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\u4e4b\u95f4\u7684\u9875\u9762\u6570\u91cf\u5c31\u76f8\u5f53\u4e8e\u8ba1\u7b97",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875b"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875c"),"\u4e4b\u95f4\u6709\u591a\u5c11\u9875\u9762\uff0c\u800c\u6bcf\u4e00\u6761",(0,i.kt)("inlineCode",{parentName:"p"},"\u76ee\u5f55\u9879\u8bb0\u5f55"),"\u90fd\u5bf9\u5e94\u4e00\u4e2a\u6570\u636e\u9875\uff0c\u6240\u4ee5\u8ba1\u7b97",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875b"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875c"),"\u4e4b\u95f4\u6709\u591a\u5c11\u9875\u9762\u5c31\u76f8\u5f53\u4e8e\u8ba1\u7b97\u5b83\u4eec\u7236\u8282\u70b9\uff08\u4e5f\u5c31\u662f\u9875a\uff09\u4e2d\u5bf9\u5e94\u7684\u76ee\u5f55\u9879\u8bb0\u5f55\u4e4b\u95f4\u9694\u7740\u51e0\u6761\u8bb0\u5f55\u3002\u5728\u4e00\u4e2a\u9875\u9762\u4e2d\u7edf\u8ba1\u4e24\u6761\u8bb0\u5f55\u4e4b\u95f4\u6709\u51e0\u6761\u8bb0\u5f55\u7684\u6210\u672c\u5c31\u8d3c\u5c0f\u4e86\u3002"),(0,i.kt)("p",{parentName:"li"},"\u4e0d\u8fc7\u8fd8\u6709\u95ee\u9898\uff0c\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875b"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875c"),"\u4e4b\u95f4\u7684\u9875\u9762\u5b9e\u5728\u592a\u591a\uff0c\u4ee5\u81f3\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875b"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875c"),"\u5bf9\u5e94\u7684\u76ee\u5f55\u9879\u8bb0\u5f55\u90fd\u4e0d\u5728\u4e00\u4e2a\u9875\u9762\u4e2d\u8be5\u548b\u529e\uff1f\u7ee7\u7eed\u9012\u5f52\u554a\uff0c\u4e5f\u5c31\u662f\u518d\u7edf\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875b"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875c"),"\u5bf9\u5e94\u7684\u76ee\u5f55\u9879\u8bb0\u5f55\u6240\u5728\u9875\u4e4b\u95f4\u6709\u591a\u5c11\u4e2a\u9875\u9762\u3002\u4e4b\u524d\u6211\u4eec\u8bf4\u8fc7\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u67094\u5c42\u9ad8\u5df2\u7ecf\u5f88\u4e86\u4e0d\u5f97\u4e86\uff0c\u6240\u4ee5\u8fd9\u4e2a\u7edf\u8ba1\u8fc7\u7a0b\u4e5f\u4e0d\u662f\u5f88\u8017\u8d39\u6027\u80fd\u3002"))),(0,i.kt)("p",{parentName:"li"},"\u77e5\u9053\u4e86\u5982\u4f55\u7edf\u8ba1\u4e8c\u7ea7\u7d22\u5f15\u67d0\u4e2a\u8303\u56f4\u533a\u95f4\u7684\u8bb0\u5f55\u6570\u4e4b\u540e\uff0c\u5c31\u9700\u8981\u56de\u5230\u73b0\u5b9e\u95ee\u9898\u4e2d\u6765\uff0c\u6839\u636e\u4e0a\u8ff0\u7b97\u6cd5\u6d4b\u5f97",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u5728\u533a\u95f4",(0,i.kt)("inlineCode",{parentName:"p"},"(10, 1000)"),"\u4e4b\u95f4\u5927\u7ea6\u6709",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u6761\u8bb0\u5f55\u3002\u8bfb\u53d6\u8fd9",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u6761\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u9700\u8981\u4ed8\u51fa\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"95 x 0.2 + 0.01 = 19.01\n\n")),(0,i.kt)("p",{parentName:"li"},"\u5176\u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u662f\u9700\u8981\u8bfb\u53d6\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"0.2"),"\u662f\u8bfb\u53d6\u4e00\u6761\u8bb0\u5f55\u6210\u672c\u5e38\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"0.01"),"\u662f\u5fae\u8c03\u3002"),(0,i.kt)("p",{parentName:"li"},"\u5728\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u83b7\u53d6\u5230\u8bb0\u5f55\u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u5e72\u4e24\u4ef6\u4e8b\u513f\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6839\u636e\u8fd9\u4e9b\u8bb0\u5f55\u91cc\u7684\u4e3b\u952e\u503c\u5230\u805a\u7c07\u7d22\u5f15\u4e2d\u505a\u56de\u8868\u64cd\u4f5c"),(0,i.kt)("p",{parentName:"li"},"\u8fd9\u91cc\u9700\u8981\u5927\u5bb6\u4f7f\u52b2\u513f\u7741\u5927\u81ea\u5df1\u6ef4\u6e9c\u6e9c\u7684\u5927\u773c\u775b\u4ed4\u7ec6\u77a7\uff0c\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u8bc4\u4f30\u56de\u8868\u64cd\u4f5c\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\u4f9d\u65e7\u5f88\u8c6a\u653e\uff0c\u4ed6\u4eec\u8ba4\u4e3a\u6bcf\u6b21\u56de\u8868\u64cd\u4f5c\u90fd\u76f8\u5f53\u4e8e\u8bbf\u95ee\u4e00\u4e2a\u9875\u9762\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e8c\u7ea7\u7d22\u5f15\u8303\u56f4\u533a\u95f4\u6709\u591a\u5c11\u8bb0\u5f55\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u591a\u5c11\u6b21\u56de\u8868\u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u9700\u8981\u8fdb\u884c\u591a\u5c11\u6b21\u9875\u9762",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u3002\u6211\u4eec\u4e0a\u8fb9\u7edf\u8ba1\u4e86\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u4e8c\u7ea7\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u65f6\uff0c\u9884\u8ba1\u6709",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u6761\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u9700\u8981\u8fdb\u884c\u56de\u8868\u64cd\u4f5c\uff0c\u6240\u4ee5\u56de\u8868\u64cd\u4f5c\u5e26\u6765\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"95 x 1.0 = 95.0\n\n")),(0,i.kt)("p",{parentName:"li"},"\u5176\u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u662f\u9884\u8ba1\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"1.0"),"\u662f\u4e00\u4e2a\u9875\u9762\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\u5e38\u6570\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u56de\u8868\u64cd\u4f5c\u540e\u5f97\u5230\u7684\u5b8c\u6574\u7528\u6237\u8bb0\u5f55\uff0c\u7136\u540e\u518d\u68c0\u6d4b\u5176\u4ed6\u641c\u7d22\u6761\u4ef6\u662f\u5426\u6210\u7acb"),(0,i.kt)("p",{parentName:"li"},"\u56de\u8868\u64cd\u4f5c\u7684\u672c\u8d28\u5c31\u662f\u901a\u8fc7\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u7684\u4e3b\u952e\u503c\u5230\u805a\u7c07\u7d22\u5f15\u4e2d\u627e\u5230\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\uff0c\u7136\u540e\u518d\u68c0\u6d4b\u9664",(0,i.kt)("inlineCode",{parentName:"p"},"key2 > 10 AND key2 < 1000"),"\u8fd9\u4e2a\u641c\u7d22\u6761\u4ef6\u4ee5\u5916\u7684\u641c\u7d22\u6761\u4ef6\u662f\u5426\u6210\u7acb\u3002\u56e0\u4e3a\u6211\u4eec\u901a\u8fc7\u8303\u56f4\u533a\u95f4\u83b7\u53d6\u5230\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u5171",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u6761\uff0c\u4e5f\u5c31\u5bf9\u5e94\u7740\u805a\u7c07\u7d22\u5f15\u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u6761\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\uff0c\u8bfb\u53d6\u5e76\u68c0\u6d4b\u8fd9\u4e9b\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\u662f\u5426\u7b26\u5408\u5176\u4f59\u7684\u641c\u7d22\u6761\u4ef6\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\u5982\u4e0b\uff1a"),(0,i.kt)("p",{parentName:"li"},"\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u53ea\u8ba1\u7b97\u8fd9\u4e2a\u67e5\u627e\u8fc7\u7a0b\u6240\u9700\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u4e0a\u4e00\u6b65\u9aa4\u4e2d\u5f97\u5230\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"95.0"),"\uff0c\u5728\u5185\u5b58\u4e2d\u7684\u5b9a\u4f4d\u5b8c\u6574\u7528\u6237\u8bb0\u5f55\u7684\u8fc7\u7a0b\u7684\u6210\u672c\u662f\u5ffd\u7565\u4e0d\u8ba1\u7684\u3002\u5728\u5b9a\u4f4d\u5230\u8fd9\u4e9b\u5b8c\u6574\u7684\u7528\u6237\u8bb0\u5f55\u540e\uff0c\u9700\u8981\u68c0\u6d4b\u9664",(0,i.kt)("inlineCode",{parentName:"p"},"key2 > 10 AND key2 < 1000"),"\u8fd9\u4e2a\u641c\u7d22\u6761\u4ef6\u4ee5\u5916\u7684\u641c\u7d22\u6761\u4ef6\u662f\u5426\u6210\u7acb\uff0c\u8fd9\u4e2a\u6bd4\u8f83\u8fc7\u7a0b\u82b1\u8d39\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"95 x 0.2 = 19.0\n\n")),(0,i.kt)("p",{parentName:"li"},"\u5176\u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u662f\u5f85\u68c0\u6d4b\u8bb0\u5f55\u7684\u6761\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"0.2"),"\u662f\u68c0\u6d4b\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u7b26\u5408\u7ed9\u5b9a\u7684\u641c\u7d22\u6761\u4ef6\u7684\u6210\u672c\u5e38\u6570\u3002"))))),(0,i.kt)("p",null,"\u6240\u4ee5\u672c\u4f8b\u4e2d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5c31\u5982\u4e0b\u6240\u793a\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"1.0 + 95 x 1.0 = 96.0 (\u8303\u56f4\u533a\u95f4\u7684\u6570\u91cf + \u9884\u4f30\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6761\u6570)\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"95 x 0.2 + 0.01 + 95 x 0.2 = 38.01 \uff08\u8bfb\u53d6\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u7684\u6210\u672c + \u8bfb\u53d6\u5e76\u68c0\u6d4b\u56de\u8868\u540e\u805a\u7c07\u7d22\u5f15\u8bb0\u5f55\u7684\u6210\u672c\uff09\n\n")))),(0,i.kt)("p",null,"\u7efc\u4e0a\u6240\u8ff0\uff0c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u6267\u884c\u67e5\u8be2\u7684\u603b\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"96.0 + 38.01 = 134.01\n\n")),(0,i.kt)("h5",{id:"\u4f7f\u7528idx_key1\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790"},"\u4f7f\u7528idx","_","key1\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5206\u6790"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u5bf9\u5e94\u7684\u641c\u7d22\u6761\u4ef6\u662f\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"key1 IN ('a', 'b', 'c')"),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u76f8\u5f53\u4e8e3\u4e2a\u5355\u70b9\u533a\u95f4\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"['a', 'a']")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"['b', 'b']")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"['c', 'c']"))),(0,i.kt)("p",null,"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u641c\u7d22\u7684\u793a\u610f\u56fe\u5c31\u662f\u8fd9\u6837\u5b50\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-gold-cdn.xitu.io/2019/3/20/16998b505eab86e6?w=818&h=637&f=png&s=127109",alt:"image_1cubvsars1i0rvdc11b3118th9830.png-124.1kB"})),(0,i.kt)("p",null,"\u4e0e\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u60c5\u51b5\u7c7b\u4f3c\uff0c\u6211\u4eec\u4e5f\u9700\u8981\u8ba1\u7b97\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u65f6\u9700\u8981\u8bbf\u95ee\u7684\u8303\u56f4\u533a\u95f4\u6570\u91cf\u4ee5\u53ca\u9700\u8981\u56de\u8868\u7684\u8bb0\u5f55\u6570\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u8303\u56f4\u533a\u95f4\u6570\u91cf"),(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u6267\u884c\u67e5\u8be2\u65f6\u5f88\u663e\u7136\u67093\u4e2a\u5355\u70b9\u533a\u95f4\uff0c\u6240\u4ee5\u8bbf\u95ee\u8fd93\u4e2a\u8303\u56f4\u533a\u95f4\u7684\u4e8c\u7ea7\u7d22\u5f15\u4ed8\u51fa\u7684I/O\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"3 x 1.0 = 3.0\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u9700\u8981\u56de\u8868\u7684\u8bb0\u5f55\u6570"),(0,i.kt)("p",{parentName:"li"},"\u7531\u4e8e\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u65f6\u67093\u4e2a\u5355\u70b9\u533a\u95f4\uff0c\u6240\u4ee5\u6bcf\u4e2a\u5355\u70b9\u533a\u95f4\u90fd\u9700\u8981\u67e5\u627e\u4e00\u904d\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u627e\u5355\u70b9\u533a\u95f4",(0,i.kt)("inlineCode",{parentName:"p"},"['a', 'a']"),"\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570"),(0,i.kt)("p",{parentName:"li"},"\u8ba1\u7b97\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570\u548c\u8ba1\u7b97\u8fde\u7eed\u8303\u56f4\u533a\u95f4\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f\u5148\u8ba1\u7b97",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\uff0c\u7136\u540e\u518d\u8ba1\u7b97\u5b83\u4eec\u4e4b\u95f4\u7684\u8bb0\u5f55\u6570\uff0c\u5177\u4f53\u7b97\u6cd5\u4e0a\u8fb9\u90fd\u5520\u53e8\u8fc7\u4e86\uff0c\u5c31\u4e0d\u8d58\u8ff0\u4e86\u3002\u6700\u540e\u8ba1\u7b97\u5f97\u5230\u5355\u70b9\u533a\u95f4",(0,i.kt)("inlineCode",{parentName:"p"},"['a', 'a']"),"\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570\u662f\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"35"),"\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u627e\u5355\u70b9\u533a\u95f4",(0,i.kt)("inlineCode",{parentName:"p"},"['b', 'b']"),"\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570"),(0,i.kt)("p",{parentName:"li"},"\u4e0e\u4e0a\u540c\u7406\uff0c\u8ba1\u7b97\u5f97\u5230\u672c\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u8bb0\u5f55\u6570\u662f\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"44"),"\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u627e\u5355\u70b9\u533a\u95f4",(0,i.kt)("inlineCode",{parentName:"p"},"['c', 'c']"),"\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6570"),(0,i.kt)("p",{parentName:"li"},"\u4e0e\u4e0a\u540c\u7406\uff0c\u8ba1\u7b97\u5f97\u5230\u672c\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u8bb0\u5f55\u6570\u662f\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"39"),"\u3002"))),(0,i.kt)("p",{parentName:"li"},"\u6240\u4ee5\uff0c\u8fd9\u4e09\u4e2a\u5355\u70b9\u533a\u95f4\u603b\u5171\u9700\u8981\u56de\u8868\u7684\u8bb0\u5f55\u6570\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"35 + 44 + 39 = 118\n\n")),(0,i.kt)("p",{parentName:"li"},"\u8bfb\u53d6\u8fd9\u4e9b\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"118 x 0.2 + 0.01 = 23.61\n\n")),(0,i.kt)("p",{parentName:"li"},"\u5f97\u5230\u603b\u5171\u9700\u8981\u56de\u8868\u7684\u8bb0\u5f55\u6570\u4e4b\u540e\uff0c\u5c31\u8981\u8003\u8651\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6839\u636e\u8fd9\u4e9b\u8bb0\u5f55\u91cc\u7684\u4e3b\u952e\u503c\u5230\u805a\u7c07\u7d22\u5f15\u4e2d\u505a\u56de\u8868\u64cd\u4f5c"),(0,i.kt)("p",{parentName:"li"},"\u6240\u9700\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"118 x 1.0 = 118.0\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u56de\u8868\u64cd\u4f5c\u540e\u5f97\u5230\u7684\u5b8c\u6574\u7528\u6237\u8bb0\u5f55\uff0c\u7136\u540e\u518d\u6bd4\u8f83\u5176\u4ed6\u641c\u7d22\u6761\u4ef6\u662f\u5426\u6210\u7acb"),(0,i.kt)("p",{parentName:"li"},"\u6b64\u6b65\u9aa4\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"118 x 0.2 = 23.6\n\n")))))),(0,i.kt)("p",null,"\u6240\u4ee5\u672c\u4f8b\u4e2d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5c31\u5982\u4e0b\u6240\u793a\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"3.0 + 118 x 1.0 = 121.0 (\u8303\u56f4\u533a\u95f4\u7684\u6570\u91cf + \u9884\u4f30\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u6761\u6570)\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"CPU"),"\u6210\u672c\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"118 x 0.2 + 0.01 + 118 x 0.2 = 47.21 \uff08\u8bfb\u53d6\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u7684\u6210\u672c + \u8bfb\u53d6\u5e76\u68c0\u6d4b\u56de\u8868\u540e\u805a\u7c07\u7d22\u5f15\u8bb0\u5f55\u7684\u6210\u672c\uff09\n\n")))),(0,i.kt)("p",null,"\u7efc\u4e0a\u6240\u8ff0\uff0c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u6267\u884c\u67e5\u8be2\u7684\u603b\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"121.0 + 47.21 = 168.21\n\n")),(0,i.kt)("h5",{id:"\u662f\u5426\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u5408\u5e76index-merge"},"\u662f\u5426\u6709\u53ef\u80fd\u4f7f\u7528\u7d22\u5f15\u5408\u5e76\uff08Index Merge\uff09"),(0,i.kt)("p",null,"\u672c\u4f8b\u4e2d\u6709\u5173",(0,i.kt)("inlineCode",{parentName:"p"},"key1"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"key2"),"\u7684\u641c\u7d22\u6761\u4ef6\u662f\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"AND"),"\u8fde\u63a5\u8d77\u6765\u7684\uff0c\u800c\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u90fd\u662f\u8303\u56f4\u67e5\u8be2\uff0c\u4e5f\u5c31\u662f\u8bf4\u67e5\u627e\u5230\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u5e76\u4e0d\u662f\u6309\u7167\u4e3b\u952e\u503c\u8fdb\u884c\u6392\u5e8f\u7684\uff0c\u5e76\u4e0d\u6ee1\u8db3\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"Intersection"),"\u7d22\u5f15\u5408\u5e76\u7684\u6761\u4ef6\uff0c\u6240\u4ee5\u5e76\u4e0d\u4f1a\u4f7f\u7528\u7d22\u5f15\u5408\u5e76\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a MySQL\u67e5\u8be2\u4f18\u5316\u5668\u8ba1\u7b97\u7d22\u5f15\u5408\u5e76\u6210\u672c\u7684\u7b97\u6cd5\u4e5f\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u4e5f\u5c31\u4e0d\u5c55\u5f00\u5520\u53e8\u4e86\u3002")),(0,i.kt)("h4",{id:"4-\u5bf9\u6bd4\u5404\u79cd\u6267\u884c\u65b9\u6848\u7684\u4ee3\u4ef7\u627e\u51fa\u6210\u672c\u6700\u4f4e\u7684\u90a3\u4e00\u4e2a"},"4","."," \u5bf9\u6bd4\u5404\u79cd\u6267\u884c\u65b9\u6848\u7684\u4ee3\u4ef7\uff0c\u627e\u51fa\u6210\u672c\u6700\u4f4e\u7684\u90a3\u4e00\u4e2a"),(0,i.kt)("p",null,"\u4e0b\u8fb9\u628a\u6267\u884c\u672c\u4f8b\u4e2d\u7684\u67e5\u8be2\u7684\u5404\u79cd\u53ef\u6267\u884c\u65b9\u6848\u4ee5\u53ca\u5b83\u4eec\u5bf9\u5e94\u7684\u6210\u672c\u5217\u51fa\u6765\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5168\u8868\u626b\u63cf\u7684\u6210\u672c\uff1a",(0,i.kt)("inlineCode",{parentName:"li"},"2037.7")),(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"li"},"idx_key2"),"\u7684\u6210\u672c\uff1a",(0,i.kt)("inlineCode",{parentName:"li"},"134.01")),(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"li"},"idx_key1"),"\u7684\u6210\u672c\uff1a",(0,i.kt)("inlineCode",{parentName:"li"},"168.21"))),(0,i.kt)("p",null,"\u5f88\u663e\u7136\uff0c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u6210\u672c\u6700\u4f4e\uff0c\u6240\u4ee5\u5f53\u7136\u9009\u62e9",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u6765\u6267\u884c\u67e5\u8be2\u55bd\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a \u8003\u8651\u5230\u5927\u5bb6\u7684\u9605\u8bfb\u4f53\u9a8c\uff0c\u4e3a\u4e86\u6700\u5927\u9650\u5ea6\u7684\u51cf\u5c11\u5927\u5bb6\u5728\u7406\u89e3\u4f18\u5316\u5668\u5de5\u4f5c\u539f\u7406\u7684\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u61f5\u903c\u60c5\u51b5\uff0c\u8fd9\u91cc\u5bf9\u4f18\u5316\u5668\u5728\u5355\u8868\u67e5\u8be2\u4e2d\u5bf9\u6bd4\u5404\u79cd\u6267\u884c\u65b9\u6848\u7684\u4ee3\u4ef7\u7684\u65b9\u5f0f\u7a0d\u7a0d\u7684\u505a\u4e86\u7b80\u5316\uff0c\u4e0d\u8fc7\u6bd5\u7adf\u5927\u90e8\u5206\u540c\u5b66\u4e0d\u9700\u8981\u53bb\u770bMySQL\u7684\u6e90\u7801\uff0c\u628a\u5927\u81f4\u7684\u7cbe\u795e\u4f20\u9012\u6b63\u786e\u5c31\u597d\u4e86\u54c8\u3002")),(0,i.kt)("h3",{id:"\u57fa\u4e8e\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\u7684\u6210\u672c\u8ba1\u7b97"},"\u57fa\u4e8e\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\u7684\u6210\u672c\u8ba1\u7b97"),(0,i.kt)("p",null,"\u6709\u65f6\u5019\u4f7f\u7528\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u65f6\u4f1a\u6709\u8bb8\u591a\u5355\u70b9\u533a\u95f4\uff0c\u6bd4\u5982\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"IN"),"\u8bed\u53e5\u5c31\u5f88\u5bb9\u6613\u4ea7\u751f\u975e\u5e38\u591a\u7684\u5355\u70b9\u533a\u95f4\uff0c\u6bd4\u5982\u4e0b\u8fb9\u8fd9\u4e2a\u67e5\u8be2\uff08\u4e0b\u8fb9\u67e5\u8be2\u8bed\u53e5\u4e2d\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"..."),"\u8868\u793a\u8fd8\u6709\u5f88\u591a\u53c2\u6570\uff09\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table WHERE key1 IN ('aa1', 'aa2', 'aa3', ... , 'zzz');\n\n")),(0,i.kt)("p",null,"\u5f88\u663e\u7136\uff0c\u8fd9\u4e2a\u67e5\u8be2\u53ef\u80fd\u4f7f\u7528\u5230\u7684\u7d22\u5f15\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\uff0c\u7531\u4e8e\u8fd9\u4e2a\u7d22\u5f15\u5e76\u4e0d\u662f\u552f\u4e00\u4e8c\u7ea7\u7d22\u5f15\uff0c\u6240\u4ee5\u5e76\u4e0d\u80fd\u786e\u5b9a\u4e00\u4e2a\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u4e8c\u7ea7\u7d22\u5f15\u8bb0\u5f55\u7684\u6761\u6570\u6709\u591a\u5c11\uff0c\u9700\u8981\u6211\u4eec\u53bb\u8ba1\u7b97\u3002\u8ba1\u7b97\u65b9\u5f0f\u6211\u4eec\u4e0a\u8fb9\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u5c31\u662f\u5148\u83b7\u53d6\u7d22\u5f15\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u5de6\u8bb0\u5f55"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u533a\u95f4\u6700\u53f3\u8bb0\u5f55"),"\uff0c\u7136\u540e\u518d\u8ba1\u7b97\u8fd9\u4e24\u6761\u8bb0\u5f55\u4e4b\u95f4\u6709\u591a\u5c11\u8bb0\u5f55\uff08\u8bb0\u5f55\u6761\u6570\u5c11\u7684\u65f6\u5019\u53ef\u4ee5\u505a\u5230\u7cbe\u786e\u8ba1\u7b97\uff0c\u591a\u7684\u65f6\u5019\u53ea\u80fd\u4f30\u7b97\uff09\u3002\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u628a\u8fd9\u79cd\u901a\u8fc7\u76f4\u63a5\u8bbf\u95ee\u7d22\u5f15\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u6765\u8ba1\u7b97\u67d0\u4e2a\u8303\u56f4\u533a\u95f4\u5bf9\u5e94\u7684\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\u7684\u65b9\u5f0f\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"index dive"),"\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a dive\u76f4\u8bd1\u4e3a\u4e2d\u6587\u7684\u610f\u601d\u662f\u8df3\u6c34\u3001\u4fef\u51b2\u7684\u610f\u601d\uff0c\u539f\u8c05\u6211\u7684\u82f1\u6587\u6c34\u5e73\u6349\u6025\uff0c\u6211\u5b9e\u5728\u4e0d\u77e5\u9053\u600e\u4e48\u7ffb\u8bd1 index dive\uff0c\u7d22\u5f15\u8df3\u6c34\uff1f\u7d22\u5f15\u4fef\u51b2\uff1f\u597d\u50cf\u90fd\u4e0d\u592a\u5408\u9002\uff0c\u6240\u4ee5\u538b\u6839\u513f\u5c31\u4e0d\u7ffb\u8bd1\u4e86\u3002\u4e0d\u8fc7\u5927\u5bb6\u8981\u610f\u4f1aindex dive\u5c31\u662f\u76f4\u63a5\u5229\u7528\u7d22\u5f15\u5bf9\u5e94\u7684B+\u6811\u6765\u8ba1\u7b97\u67d0\u4e2a\u8303\u56f4\u533a\u95f4\u5bf9\u5e94\u7684\u8bb0\u5f55\u6761\u6570\u3002")),(0,i.kt)("p",null,"\u6709\u96f6\u661f\u51e0\u4e2a\u5355\u70b9\u533a\u95f4\u7684\u8bdd\uff0c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"index dive"),"\u7684\u65b9\u5f0f\u53bb\u8ba1\u7b97\u8fd9\u4e9b\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u8bb0\u5f55\u6570\u4e5f\u4e0d\u662f\u4ec0\u4e48\u95ee\u9898\uff0c\u53ef\u662f\u4f60\u67b6\u4e0d\u4f4f\u6709\u7684\u5b69\u5b50\u618b\u8db3\u4e86\u52b2\u5f80",(0,i.kt)("inlineCode",{parentName:"p"},"IN"),"\u8bed\u53e5\u91cc\u585e\u4e1c\u897f\u5440\uff0c\u6211\u5c31\u89c1\u8fc7\u6709\u7684\u540c\u5b66\u5199\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"IN"),"\u8bed\u53e5\u91cc\u670920000\u4e2a\u53c2\u6570\u7684\ud83e\udd23\ud83e\udd23\uff0c\u8fd9\u5c31\u610f\u5473\u7740",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u67e5\u8be2\u4f18\u5316\u5668\u4e3a\u4e86\u8ba1\u7b97\u8fd9\u4e9b\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\uff0c\u8981\u8fdb\u884c20000\u6b21",(0,i.kt)("inlineCode",{parentName:"p"},"index dive"),"\u64cd\u4f5c\uff0c\u8fd9\u6027\u80fd\u635f\u8017\u53ef\u5c31\u5927\u4e86\uff0c\u641e\u4e0d\u597d\u8ba1\u7b97\u8fd9\u4e9b\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\u7684\u6210\u672c\u6bd4\u76f4\u63a5\u5168\u8868\u626b\u63cf\u7684\u6210\u672c\u90fd\u5927\u4e86\u3002\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u4eec\u591a\u806a\u660e\u554a\uff0c\u4ed6\u4eec\u5f53\u7136\u8003\u8651\u5230\u4e86\u8fd9\u79cd\u60c5\u51b5\uff0c\u6240\u4ee5\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7cfb\u7edf\u53d8\u91cf",(0,i.kt)("inlineCode",{parentName:"p"},"eq_range_index_dive_limit"),"\uff0c\u6211\u4eec\u770b\u4e00\u4e0b\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL 5.7.21"),"\u4e2d\u8fd9\u4e2a\u7cfb\u7edf\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mysql> SHOW VARIABLES LIKE '%dive%';\n+---------------------------+-------+\n| Variable_name             | Value |\n+---------------------------+-------+\n| eq_range_index_dive_limit | 200   |\n+---------------------------+-------+\n1 row in set (0.08 sec)\n\n")),(0,i.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u6211\u4eec\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"IN"),"\u8bed\u53e5\u4e2d\u7684\u53c2\u6570\u4e2a\u6570\u5c0f\u4e8e200\u4e2a\u7684\u8bdd\uff0c\u5c06\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"index dive"),"\u7684\u65b9\u5f0f\u8ba1\u7b97\u5404\u4e2a\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u8bb0\u5f55\u6761\u6570\uff0c\u5982\u679c\u5927\u4e8e\u6216\u7b49\u4e8e200\u4e2a\u7684\u8bdd\uff0c\u53ef\u5c31\u4e0d\u80fd\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"index dive"),"\u4e86\uff0c\u8981\u4f7f\u7528\u6240\u8c13\u7684\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\u6765\u8fdb\u884c\u4f30\u7b97\u3002\u600e\u4e48\u4e2a\u4f30\u7b97\u6cd5\uff1f\u7ee7\u7eed\u5f80\u4e0b\u770b\u3002"),(0,i.kt)("p",null,"\u50cf\u4f1a\u4e3a\u6bcf\u4e2a\u8868\u7ef4\u62a4\u4e00\u4efd\u7edf\u8ba1\u6570\u636e\u4e00\u6837\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u4e5f\u4f1a\u4e3a\u8868\u4e2d\u7684\u6bcf\u4e00\u4e2a\u7d22\u5f15\u7ef4\u62a4\u4e00\u4efd\u7edf\u8ba1\u6570\u636e\uff0c\u67e5\u770b\u67d0\u4e2a\u8868\u4e2d\u7d22\u5f15\u7684\u7edf\u8ba1\u6570\u636e\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"SHOW INDEX FROM \u8868\u540d"),"\u7684\u8bed\u6cd5\uff0c\u6bd4\u5982\u6211\u4eec\u67e5\u770b\u4e00\u4e0b",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u7684\u5404\u4e2a\u7d22\u5f15\u7684\u7edf\u8ba1\u6570\u636e\u53ef\u4ee5\u8fd9\u4e48\u5199\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mysql> SHOW INDEX FROM single_table;\n+--------------+------------+--------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| Table        | Non_unique | Key_name     | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |\n+--------------+------------+--------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| single_table |          0 | PRIMARY      |            1 | id          | A         |       9693  |     NULL | NULL   |      | BTREE      |         |               |\n| single_table |          0 | idx_key2     |            1 | key2        | A         |       9693  |     NULL | NULL   | YES  | BTREE      |         |               |\n| single_table |          1 | idx_key1     |            1 | key1        | A         |        968 |     NULL | NULL   | YES  | BTREE      |         |               |\n| single_table |          1 | idx_key3     |            1 | key3        | A         |        799 |     NULL | NULL   | YES  | BTREE      |         |               |\n| single_table |          1 | idx_key_part |            1 | key_part1   | A         |        9673 |     NULL | NULL   | YES  | BTREE      |         |               |\n| single_table |          1 | idx_key_part |            2 | key_part2   | A         |        9999 |     NULL | NULL   | YES  | BTREE      |         |               |\n| single_table |          1 | idx_key_part |            3 | key_part3   | A         |       10000 |     NULL | NULL   | YES  | BTREE      |         |               |\n+--------------+------------+--------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n7 rows in set (0.01 sec)\n\n")),(0,i.kt)("p",null,"\u54c7\u5514\uff0c\u7adf\u7136\u6709\u8fd9\u4e48\u591a\u5c5e\u6027\uff0c\u4e0d\u8fc7\u597d\u5728\u8fd9\u4e9b\u5c5e\u6027\u90fd\u4e0d\u96be\u7406\u89e3\uff0c\u6211\u4eec\u5c31\u90fd\u4ecb\u7ecd\u4e00\u904d\u5427\uff1a"),(0,i.kt)("p",null,"\u5c5e\u6027\u540d"),(0,i.kt)("p",null,"\u63cf\u8ff0"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Table")),(0,i.kt)("p",null,"\u7d22\u5f15\u6240\u5c5e\u8868\u7684\u540d\u79f0\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Non_unique")),(0,i.kt)("p",null,"\u7d22\u5f15\u5217\u7684\u503c\u662f\u5426\u662f\u552f\u4e00\u7684\uff0c\u805a\u7c07\u7d22\u5f15\u548c\u552f\u4e00\u4e8c\u7ea7\u7d22\u5f15\u7684\u8be5\u5217\u503c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"0"),"\uff0c\u666e\u901a\u4e8c\u7ea7\u7d22\u5f15\u8be5\u5217\u503c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"1"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Key_name")),(0,i.kt)("p",null,"\u7d22\u5f15\u7684\u540d\u79f0\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Seq_in_index")),(0,i.kt)("p",null,"\u7d22\u5f15\u5217\u5728\u7d22\u5f15\u4e2d\u7684\u4f4d\u7f6e\uff0c\u4ece1\u5f00\u59cb\u8ba1\u6570\u3002\u6bd4\u5982\u5bf9\u4e8e\u8054\u5408\u7d22\u5f15",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key_part"),"\uff0c\u6765\u8bf4\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"key_part1"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"key_part2"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"key_part3"),"\u5bf9\u5e94\u7684\u4f4d\u7f6e\u5206\u522b\u662f1\u30012\u30013\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Column_name")),(0,i.kt)("p",null,"\u7d22\u5f15\u5217\u7684\u540d\u79f0\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Collation")),(0,i.kt)("p",null,"\u7d22\u5f15\u5217\u4e2d\u7684\u503c\u662f\u6309\u7167\u4f55\u79cd\u6392\u5e8f\u65b9\u5f0f\u5b58\u653e\u7684\uff0c\u503c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"A"),"\u65f6\u4ee3\u8868\u5347\u5e8f\u5b58\u653e\uff0c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"NULL"),"\u65f6\u4ee3\u8868\u964d\u5e8f\u5b58\u653e\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality")),(0,i.kt)("p",null,"\u7d22\u5f15\u5217\u4e2d\u4e0d\u91cd\u590d\u503c\u7684\u6570\u91cf\u3002\u540e\u8fb9\u6211\u4eec\u4f1a\u91cd\u70b9\u770b\u8fd9\u4e2a\u5c5e\u6027\u7684\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Sub_part")),(0,i.kt)("p",null,"\u5bf9\u4e8e\u5b58\u50a8\u5b57\u7b26\u4e32\u6216\u8005\u5b57\u8282\u4e32\u7684\u5217\u6765\u8bf4\uff0c\u6709\u65f6\u5019\u6211\u4eec\u53ea\u60f3\u5bf9\u8fd9\u4e9b\u4e32\u7684\u524d",(0,i.kt)("inlineCode",{parentName:"p"},"n"),"\u4e2a\u5b57\u7b26\u6216\u5b57\u8282\u5efa\u7acb\u7d22\u5f15\uff0c\u8fd9\u4e2a\u5c5e\u6027\u8868\u793a\u7684\u5c31\u662f\u90a3\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"n"),"\u503c\u3002\u5982\u679c\u5bf9\u5b8c\u6574\u7684\u5217\u5efa\u7acb\u7d22\u5f15\u7684\u8bdd\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"NULL"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Packed")),(0,i.kt)("p",null,"\u7d22\u5f15\u5217\u5982\u4f55\u88ab\u538b\u7f29\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"NULL"),"\u503c\u8868\u793a\u672a\u88ab\u538b\u7f29\u3002\u8fd9\u4e2a\u5c5e\u6027\u6211\u4eec\u6682\u65f6\u4e0d\u4e86\u89e3\uff0c\u53ef\u4ee5\u5148\u5ffd\u7565\u6389\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Null")),(0,i.kt)("p",null,"\u8be5\u7d22\u5f15\u5217\u662f\u5426\u5141\u8bb8\u5b58\u50a8",(0,i.kt)("inlineCode",{parentName:"p"},"NULL"),"\u503c\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Index_type")),(0,i.kt)("p",null,"\u4f7f\u7528\u7d22\u5f15\u7684\u7c7b\u578b\uff0c\u6211\u4eec\u6700\u5e38\u89c1\u7684\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"BTREE"),"\uff0c\u5176\u5b9e\u4e5f\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"B+"),"\u6811\u7d22\u5f15\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Comment")),(0,i.kt)("p",null,"\u7d22\u5f15\u5217\u6ce8\u91ca\u4fe1\u606f\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Index_comment")),(0,i.kt)("p",null,"\u7d22\u5f15\u6ce8\u91ca\u4fe1\u606f\u3002"),(0,i.kt)("p",null,"\u4e0a\u8ff0\u5c5e\u6027\u9664\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"Packed"),"\u5927\u5bb6\u53ef\u80fd\u770b\u4e0d\u61c2\u4ee5\u5916\uff0c\u5e94\u8be5\u6ca1\u6709\u5565\u770b\u4e0d\u61c2\u7684\u4e86\uff0c\u5982\u679c\u6709\u7684\u8bdd\u80af\u5b9a\u662f\u5927\u5bb6\u770b\u524d\u8fb9\u6587\u7ae0\u7684\u65f6\u5019\u8df3\u8fc7\u4e86\u5565\u4e1c\u897f\u3002\u5176\u5b9e\u6211\u4eec\u73b0\u5728\u6700\u5728\u610f\u7684\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality"),"\u5c5e\u6027\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality"),"\u76f4\u8bd1\u8fc7\u6765\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"\u57fa\u6570"),"\u7684\u610f\u601d\uff0c\u8868\u793a\u7d22\u5f15\u5217\u4e2d\u4e0d\u91cd\u590d\u503c\u7684\u4e2a\u6570\u3002\u6bd4\u5982\u5bf9\u4e8e\u4e00\u4e2a\u4e00\u4e07\u884c\u8bb0\u5f55\u7684\u8868\u6765\u8bf4\uff0c\u67d0\u4e2a\u7d22\u5f15\u5217\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality"),"\u5c5e\u6027\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"10000"),"\uff0c\u90a3\u610f\u5473\u7740\u8be5\u5217\u4e2d\u6ca1\u6709\u91cd\u590d\u7684\u503c\uff0c\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality"),"\u5c5e\u6027\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"1"),"\u7684\u8bdd\uff0c\u5c31\u610f\u5473\u7740\u8be5\u5217\u7684\u503c\u5168\u90e8\u662f\u91cd\u590d\u7684\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5bf9\u4e8eInnoDB\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\uff0c\u4f7f\u7528SHOW INDEX\u8bed\u53e5\u5c55\u793a\u51fa\u6765\u7684\u67d0\u4e2a\u7d22\u5f15\u5217\u7684Cardinality\u5c5e\u6027\u662f\u4e00\u4e2a\u4f30\u8ba1\u503c\uff0c\u5e76\u4e0d\u662f\u7cbe\u786e\u7684\u3002\u5173\u4e8e\u8fd9\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality"),"\u5c5e\u6027\u7684\u503c\u662f\u5982\u4f55\u88ab\u8ba1\u7b97\u51fa\u6765\u7684\u6211\u4eec\u540e\u8fb9\u518d\u8bf4\uff0c\u5148\u770b\u770b\u5b83\u6709\u4ec0\u4e48\u7528\u9014\u3002"),(0,i.kt)("p",null,"\u524d\u8fb9\u8bf4\u9053\uff0c\u5f53",(0,i.kt)("inlineCode",{parentName:"p"},"IN"),"\u8bed\u53e5\u4e2d\u7684\u53c2\u6570\u4e2a\u6570\u5927\u4e8e\u6216\u7b49\u4e8e\u7cfb\u7edf\u53d8\u91cf",(0,i.kt)("inlineCode",{parentName:"p"},"eq_range_index_dive_limit"),"\u7684\u503c\u7684\u8bdd\uff0c\u5c31\u4e0d\u4f1a\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"index dive"),"\u7684\u65b9\u5f0f\u8ba1\u7b97\u5404\u4e2a\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\uff0c\u800c\u662f\u4f7f\u7528\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\uff0c\u8fd9\u91cc\u6240\u6307\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u7d22\u5f15\u7edf\u8ba1\u6570\u636e"),"\u6307\u7684\u662f\u8fd9\u4e24\u4e2a\u503c\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"SHOW TABLE STATUS"),"\u5c55\u793a\u51fa\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Rows"),"\u503c\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u8868\u4e2d\u6709\u591a\u5c11\u6761\u8bb0\u5f55\u3002"),(0,i.kt)("p",{parentName:"li"},"\u8fd9\u4e2a\u7edf\u8ba1\u6570\u636e\u6211\u4eec\u5728\u524d\u8fb9\u5520\u53e8\u5168\u8868\u626b\u63cf\u6210\u672c\u7684\u65f6\u5019\u8bf4\u8fc7\u5f88\u591a\u904d\u4e86\uff0c\u5c31\u4e0d\u8d58\u8ff0\u4e86\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"SHOW INDEX"),"\u8bed\u53e5\u5c55\u793a\u51fa\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality"),"\u5c5e\u6027\u3002"),(0,i.kt)("p",{parentName:"li"},"\u7ed3\u5408\u4e0a\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"Rows"),"\u7edf\u8ba1\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u9488\u5bf9\u7d22\u5f15\u5217\uff0c\u8ba1\u7b97\u51fa\u5e73\u5747\u4e00\u4e2a\u503c\u91cd\u590d\u591a\u5c11\u6b21\u3002"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"\u4e00\u4e2a\u503c\u7684\u91cd\u590d\u6b21\u6570 \u2248 Rows \xf7 Cardinality\n\n")))),(0,i.kt)("p",null,"\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u8868\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u7d22\u5f15\u4e3a\u4f8b\uff0c\u5b83\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Rows"),"\u503c\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"9693"),"\uff0c\u5b83\u5bf9\u5e94\u7d22\u5f15\u5217",(0,i.kt)("inlineCode",{parentName:"p"},"key1"),"\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Cardinality"),"\u503c\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"968"),"\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97",(0,i.kt)("inlineCode",{parentName:"p"},"key1"),"\u5217\u5e73\u5747\u5355\u4e2a\u503c\u7684\u91cd\u590d\u6b21\u6570\u5c31\u662f\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"9693 \xf7 968 \u2248 10\uff08\u6761\uff09\n\n")),(0,i.kt)("p",null,"\u6b64\u65f6\u518d\u770b\u4e0a\u8fb9\u90a3\u6761\u67e5\u8be2\u8bed\u53e5\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table WHERE key1 IN ('aa1', 'aa2', 'aa3', ... , 'zzz');\n\n")),(0,i.kt)("p",null,"\u5047\u8bbe",(0,i.kt)("inlineCode",{parentName:"p"},"IN"),"\u8bed\u53e5\u4e2d\u670920000\u4e2a\u53c2\u6570\u7684\u8bdd\uff0c\u5c31\u76f4\u63a5\u4f7f\u7528\u7edf\u8ba1\u6570\u636e\u6765\u4f30\u7b97\u8fd9\u4e9b\u53c2\u6570\u9700\u8981\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u8bb0\u5f55\u6761\u6570\u4e86\uff0c\u6bcf\u4e2a\u53c2\u6570\u5927\u7ea6\u5bf9\u5e94",(0,i.kt)("inlineCode",{parentName:"p"},"10"),"\u6761\u8bb0\u5f55\uff0c\u6240\u4ee5\u603b\u5171\u9700\u8981\u56de\u8868\u7684\u8bb0\u5f55\u6570\u5c31\u662f\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"20000 x 10 = 200000\n\n")),(0,i.kt)("p",null,"\u4f7f\u7528\u7edf\u8ba1\u6570\u636e\u6765\u8ba1\u7b97\u5355\u70b9\u533a\u95f4\u5bf9\u5e94\u7684\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\u53ef\u6bd4",(0,i.kt)("inlineCode",{parentName:"p"},"index dive"),"\u7684\u65b9\u5f0f\u7b80\u5355\u591a\u4e86\uff0c\u4f46\u662f\u5b83\u7684\u81f4\u547d\u5f31\u70b9\u5c31\u662f\uff1a\u4e0d\u7cbe\u786e\uff01\u3002\u4f7f\u7528\u7edf\u8ba1\u6570\u636e\u7b97\u51fa\u6765\u7684\u67e5\u8be2\u6210\u672c\u4e0e\u5b9e\u9645\u6240\u9700\u7684\u6210\u672c\u53ef\u80fd\u76f8\u5dee\u975e\u5e38\u5927\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a \u5927\u5bb6\u9700\u8981\u6ce8\u610f\u4e00\u4e0b\uff0c\u5728MySQL 5.7.3\u4ee5\u53ca\u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0ceq","_","range","_","index","_","dive","_","limit\u7684\u9ed8\u8ba4\u503c\u4e3a10\uff0c\u4e4b\u540e\u7684\u7248\u672c\u9ed8\u8ba4\u503c\u4e3a200\u3002\u6240\u4ee5\u5982\u679c\u5927\u5bb6\u91c7\u7528\u7684\u662f5.7.3\u4ee5\u53ca\u4e4b\u524d\u7684\u7248\u672c\u7684\u8bdd\uff0c\u5f88\u5bb9\u6613\u91c7\u7528\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\u800c\u4e0d\u662findex dive\u7684\u65b9\u5f0f\u6765\u8ba1\u7b97\u67e5\u8be2\u6210\u672c\u3002\u5f53\u4f60\u7684\u67e5\u8be2\u4e2d\u4f7f\u7528\u5230\u4e86IN\u67e5\u8be2\uff0c\u4f46\u662f\u5374\u5b9e\u9645\u6ca1\u6709\u7528\u5230\u7d22\u5f15\uff0c\u5c31\u5e94\u8be5\u8003\u8651\u4e00\u4e0b\u662f\u4e0d\u662f\u7531\u4e8e eq","_","range","_","index","_","dive","_","limit \u503c\u592a\u5c0f\u5bfc\u81f4\u7684\u3002")),(0,i.kt)("h2",{id:"\u8fde\u63a5\u67e5\u8be2\u7684\u6210\u672c"},"\u8fde\u63a5\u67e5\u8be2\u7684\u6210\u672c"),(0,i.kt)("h3",{id:"\u51c6\u5907\u5de5\u4f5c-1"},"\u51c6\u5907\u5de5\u4f5c"),(0,i.kt)("p",null,"\u8fde\u63a5\u67e5\u8be2\u81f3\u5c11\u662f\u8981\u6709\u4e24\u4e2a\u8868\u7684\uff0c\u53ea\u6709\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u8868\u662f\u4e0d\u591f\u7684\uff0c\u6240\u4ee5\u4e3a\u4e86\u6545\u4e8b\u7684\u987a\u5229\u53d1\u5c55\uff0c\u6211\u4eec\u76f4\u63a5\u6784\u9020\u4e00\u4e2a\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u8868\u4e00\u6a21\u4e00\u6837\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"single_table2"),"\u8868\u3002\u4e3a\u4e86\u7b80\u4fbf\u8d77\u89c1\uff0c\u6211\u4eec\u628a",(0,i.kt)("inlineCode",{parentName:"p"},"single_table"),"\u8868\u79f0\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u8868\uff0c\u628a",(0,i.kt)("inlineCode",{parentName:"p"},"single_table2"),"\u8868\u79f0\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"s2"),"\u8868\u3002"),(0,i.kt)("h3",{id:"condition-filtering\u4ecb\u7ecd"},"Condition filtering\u4ecb\u7ecd"),(0,i.kt)("p",null,"\u6211\u4eec\u524d\u8fb9\u8bf4\u8fc7\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u4e2d\u8fde\u63a5\u67e5\u8be2\u91c7\u7528\u7684\u662f\u5d4c\u5957\u5faa\u73af\u8fde\u63a5\u7b97\u6cd5\uff0c\u9a71\u52a8\u8868\u4f1a\u88ab\u8bbf\u95ee\u4e00\u6b21\uff0c\u88ab\u9a71\u52a8\u8868\u53ef\u80fd\u4f1a\u88ab\u8bbf\u95ee\u591a\u6b21\uff0c\u6240\u4ee5\u5bf9\u4e8e\u4e24\u8868\u8fde\u63a5\u67e5\u8be2\u6765\u8bf4\uff0c\u5b83\u7684\u67e5\u8be2\u6210\u672c\u7531\u4e0b\u8fb9\u4e24\u4e2a\u90e8\u5206\u6784\u6210\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5355\u6b21\u67e5\u8be2\u9a71\u52a8\u8868\u7684\u6210\u672c"),(0,i.kt)("li",{parentName:"ul"},"\u591a\u6b21\u67e5\u8be2\u88ab\u9a71\u52a8\u8868\u7684\u6210\u672c\uff08\u5177\u4f53\u67e5\u8be2\u591a\u5c11\u6b21\u53d6\u51b3\u4e8e\u5bf9\u9a71\u52a8\u8868\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u4e2d\u6709\u591a\u5c11\u6761\u8bb0\u5f55\uff09")),(0,i.kt)("p",null,"\u6211\u4eec\u628a\u5bf9\u9a71\u52a8\u8868\u8fdb\u884c\u67e5\u8be2\u540e\u5f97\u5230\u7684\u8bb0\u5f55\u6761\u6570\u79f0\u4e4b\u4e3a\u9a71\u52a8\u8868\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u6247\u51fa"),"\uff08\u82f1\u6587\u540d\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"fanout"),"\uff09\u3002\u5f88\u663e\u7136\u9a71\u52a8\u8868\u7684\u6247\u51fa\u503c\u8d8a\u5c0f\uff0c\u5bf9\u88ab\u9a71\u52a8\u8868\u7684\u67e5\u8be2\u6b21\u6570\u4e5f\u5c31\u8d8a\u5c11\uff0c\u8fde\u63a5\u67e5\u8be2\u7684\u603b\u6210\u672c\u4e5f\u5c31\u8d8a\u4f4e\u3002\u5f53\u67e5\u8be2\u4f18\u5316\u5668\u60f3\u8ba1\u7b97\u6574\u4e2a\u8fde\u63a5\u67e5\u8be2\u6240\u4f7f\u7528\u7684\u6210\u672c\u65f6\uff0c\u5c31\u9700\u8981\u8ba1\u7b97\u51fa\u9a71\u52a8\u8868\u7684\u6247\u51fa\u503c\uff0c\u6709\u7684\u65f6\u5019\u6247\u51fa\u503c\u7684\u8ba1\u7b97\u662f\u5f88\u5bb9\u6613\u7684\uff0c\u6bd4\u5982\u4e0b\u8fb9\u8fd9\u4e24\u4e2a\u67e5\u8be2\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u8be2\u4e00\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table AS s1 INNER JOIN single_table2 AS s2;\n\n")),(0,i.kt)("p",{parentName:"li"},"\u5047\u8bbe\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u8868\u4f5c\u4e3a\u9a71\u52a8\u8868\uff0c\u5f88\u663e\u7136\u5bf9\u9a71\u52a8\u8868\u7684\u5355\u8868\u67e5\u8be2\u53ea\u80fd\u4f7f\u7528\u5168\u8868\u626b\u63cf\u7684\u65b9\u5f0f\u6267\u884c\uff0c\u9a71\u52a8\u8868\u7684\u6247\u51fa\u503c\u4e5f\u5f88\u660e\u786e\uff0c\u90a3\u5c31\u662f\u9a71\u52a8\u8868\u4e2d\u6709\u591a\u5c11\u8bb0\u5f55\uff0c\u6247\u51fa\u503c\u5c31\u662f\u591a\u5c11\u3002\u6211\u4eec\u524d\u8fb9\u8bf4\u8fc7\uff0c\u7edf\u8ba1\u6570\u636e\u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u8868\u7684\u8bb0\u5f55\u884c\u6570\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"9693"),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f18\u5316\u5668\u5c31\u76f4\u63a5\u4f1a\u628a",(0,i.kt)("inlineCode",{parentName:"p"},"9693"),"\u5f53\u4f5c\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u8868\u7684\u6247\u51fa\u503c\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u8be2\u4e8c\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table AS s1 INNER JOIN single_table2 AS s2 \nWHERE s1.key2 >10 AND s1.key2 < 1000;\n\n")),(0,i.kt)("p",{parentName:"li"},"\u4ecd\u7136\u5047\u8bbe",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u8868\u662f\u9a71\u52a8\u8868\u7684\u8bdd\uff0c\u5f88\u663e\u7136\u5bf9\u9a71\u52a8\u8868\u7684\u5355\u8868\u67e5\u8be2\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u3002\u6b64\u65f6",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u8303\u56f4\u533a\u95f4",(0,i.kt)("inlineCode",{parentName:"p"},"(10, 1000)"),"\u4e2d\u6709\u591a\u5c11\u6761\u8bb0\u5f55\uff0c\u90a3\u4e48\u6247\u51fa\u503c\u5c31\u662f\u591a\u5c11\u3002\u6211\u4eec\u524d\u8fb9\u8ba1\u7b97\u8fc7\uff0c\u6ee1\u8db3",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u8303\u56f4\u533a\u95f4",(0,i.kt)("inlineCode",{parentName:"p"},"(10, 1000)"),"\u7684\u8bb0\u5f55\u6570\u662f95\u6761\uff0c\u4e5f\u5c31\u662f\u8bf4\u672c\u67e5\u8be2\u4e2d\u4f18\u5316\u5668\u4f1a\u628a",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u5f53\u4f5c\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u7684\u6247\u51fa\u503c\u3002"))),(0,i.kt)("p",null,"\u4e8b\u60c5\u5f53\u7136\u4e0d\u4f1a\u603b\u662f\u4e00\u5e06\u98ce\u987a\u7684\uff0c\u8981\u4e0d\u7136\u5267\u60c5\u5c31\u592a\u5e73\u6de1\u4e86\u3002\u6709\u7684\u65f6\u5019\u6247\u51fa\u503c\u7684\u8ba1\u7b97\u5c31\u53d8\u5f97\u5f88\u68d8\u624b\uff0c\u6bd4\u65b9\u8bf4\u4e0b\u8fb9\u51e0\u4e2a\u67e5\u8be2\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u8be2\u4e09\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table AS s1 INNER JOIN single_table2 AS s2 \n    WHERE s1.common_field > 'xyz';\n\n")),(0,i.kt)("p",{parentName:"li"},"\u672c\u67e5\u8be2\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u67e5\u8be2\u4e00"),"\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u5bf9\u4e8e\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u591a\u4e86\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"common_field > 'xyz'"),"\u7684\u641c\u7d22\u6761\u4ef6\u3002\u67e5\u8be2\u4f18\u5316\u5668\u53c8\u4e0d\u4f1a\u771f\u6b63\u7684\u53bb\u6267\u884c\u67e5\u8be2\uff0c\u6240\u4ee5\u5b83\u53ea\u80fd",(0,i.kt)("inlineCode",{parentName:"p"},"\u731c"),"\u8fd9",(0,i.kt)("inlineCode",{parentName:"p"},"9693"),"\u8bb0\u5f55\u91cc\u6709\u591a\u5c11\u6761\u8bb0\u5f55\u6ee1\u8db3",(0,i.kt)("inlineCode",{parentName:"p"},"common_field > 'xyz'"),"\u6761\u4ef6\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u8be2\u56db\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table AS s1 INNER JOIN single_table2 AS s2 \n    WHERE s1.key2 > 10 AND s1.key2 < 1000 AND\n          s1.common_field > 'xyz';\n\n")),(0,i.kt)("p",{parentName:"li"},"\u672c\u67e5\u8be2\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u67e5\u8be2\u4e8c"),"\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u5bf9\u4e8e\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u4e5f\u591a\u4e86\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"common_field > 'xyz'"),"\u7684\u641c\u7d22\u6761\u4ef6\u3002\u4e0d\u8fc7\u56e0\u4e3a\u672c\u67e5\u8be2\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7d22\u5f15\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u4ece\u7b26\u5408\u4e8c\u7ea7\u7d22\u5f15\u8303\u56f4\u533a\u95f4\u7684\u8bb0\u5f55\u4e2d\u731c\u6709\u591a\u5c11\u6761\u8bb0\u5f55\u7b26\u5408",(0,i.kt)("inlineCode",{parentName:"p"},"common_field > 'xyz'"),"\u6761\u4ef6\uff0c\u4e5f\u5c31\u662f\u53ea\u9700\u8981\u731c\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u6761\u8bb0\u5f55\u4e2d\u6709\u591a\u5c11\u7b26\u5408",(0,i.kt)("inlineCode",{parentName:"p"},"common_field > 'xyz'"),"\u6761\u4ef6\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u67e5\u8be2\u4e94\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table AS s1 INNER JOIN single_table2 AS s2 \n    WHERE s1.key2 > 10 AND s1.key2 < 1000 AND\n          s1.key1 IN ('a', 'b', 'c') AND\n          s1.common_field > 'xyz';\n\n")),(0,i.kt)("p",{parentName:"li"},"\u672c\u67e5\u8be2\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"\u67e5\u8be2\u4e8c"),"\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u5728\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u9009\u53d6",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u540e\uff0c\u4f18\u5316\u5668\u9700\u8981\u4ece\u7b26\u5408\u4e8c\u7ea7\u7d22\u5f15\u8303\u56f4\u533a\u95f4\u7684\u8bb0\u5f55\u4e2d\u731c\u6709\u591a\u5c11\u6761\u8bb0\u5f55\u7b26\u5408\u4e0b\u8fb9\u4e24\u4e2a\u6761\u4ef6\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"key1 IN ('a', 'b', 'c')")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"common_field > 'xyz'"))),(0,i.kt)("p",{parentName:"li"},"\u4e5f\u5c31\u662f\u4f18\u5316\u5668\u9700\u8981\u731c\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"95"),"\u6761\u8bb0\u5f55\u4e2d\u6709\u591a\u5c11\u7b26\u5408\u4e0a\u8ff0\u4e24\u4e2a\u6761\u4ef6\u7684\u3002"))),(0,i.kt)("p",null,"\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u5176\u5b9e\u5c31\u662f\u60f3\u8868\u8fbe\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\u8ba1\u7b97\u9a71\u52a8\u8868\u6247\u51fa\u503c\u65f6\u9700\u8981\u9760",(0,i.kt)("inlineCode",{parentName:"p"},"\u731c"),"\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f7f\u7528\u7684\u662f\u5168\u8868\u626b\u63cf\u7684\u65b9\u5f0f\u6267\u884c\u7684\u5355\u8868\u67e5\u8be2\uff0c\u90a3\u4e48\u8ba1\u7b97\u9a71\u52a8\u8868\u6247\u51fa\u65f6\u9700\u8981\u731c\u6ee1\u8db3\u641c\u7d22\u6761\u4ef6\u7684\u8bb0\u5f55\u5230\u5e95\u6709\u591a\u5c11\u6761\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f7f\u7528\u7684\u662f\u7d22\u5f15\u6267\u884c\u7684\u5355\u8868\u626b\u63cf\uff0c\u90a3\u4e48\u8ba1\u7b97\u9a71\u52a8\u8868\u6247\u51fa\u7684\u65f6\u5019\u9700\u8981\u731c\u6ee1\u8db3\u9664\u4f7f\u7528\u5230\u5bf9\u5e94\u7d22\u5f15\u7684\u641c\u7d22\u6761\u4ef6\u5916\u7684\u5176\u4ed6\u641c\u7d22\u6761\u4ef6\u7684\u8bb0\u5f55\u6709\u591a\u5c11\u6761\u3002")),(0,i.kt)("p",null,"\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u628a\u8fd9\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"\u731c"),"\u7684\u8fc7\u7a0b\u79f0\u4e4b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"condition filtering"),"\u3002\u5f53\u7136\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53ef\u80fd\u4f1a\u4f7f\u7528\u5230\u7d22\u5f15\uff0c\u4e5f\u53ef\u80fd\u4f7f\u7528\u5230\u7edf\u8ba1\u6570\u636e\uff0c\u4e5f\u53ef\u80fd\u5c31\u662f\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u5355\u7eaf\u7684\u778e\u731c\uff0c\u6574\u4e2a\u8bc4\u4f30\u8fc7\u7a0b\u633a\u590d\u6742\u7684\uff0c\u518d\u4ed4\u7ec6\u7684\u5520\u53e8\u4e00\u904d\u53ef\u80fd\u5f15\u8d77\u5927\u5bb6\u7684\u751f\u7406\u4e0d\u9002\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u8df3\u8fc7\u4e86\u54c8\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a \u5728MySQL 5.7\u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0c\u67e5\u8be2\u4f18\u5316\u5668\u5728\u8ba1\u7b97\u9a71\u52a8\u8868\u6247\u51fa\u65f6\uff0c\u5982\u679c\u662f\u4f7f\u7528\u5168\u8868\u626b\u63cf\u7684\u8bdd\uff0c\u5c31\u76f4\u63a5\u4f7f\u7528\u8868\u4e2d\u8bb0\u5f55\u7684\u6570\u91cf\u4f5c\u4e3a\u6247\u51fa\u503c\uff0c\u5982\u679c\u4f7f\u7528\u7d22\u5f15\u7684\u8bdd\uff0c\u5c31\u76f4\u63a5\u4f7f\u7528\u6ee1\u8db3\u8303\u56f4\u6761\u4ef6\u7684\u7d22\u5f15\u8bb0\u5f55\u6761\u6570\u4f5c\u4e3a\u6247\u51fa\u503c\u3002\u5728MySQL 5.7\u4e2d\uff0c\u8bbe\u8ba1MySQL\u7684\u5927\u53d4\u5f15\u5165\u4e86\u8fd9\u4e2acondition filtering\u7684\u529f\u80fd\uff0c\u5c31\u662f\u8fd8\u8981\u731c\u4e00\u731c\u5269\u4f59\u7684\u90a3\u4e9b\u641c\u7d22\u6761\u4ef6\u80fd\u628a\u9a71\u52a8\u8868\u4e2d\u7684\u8bb0\u5f55\u518d\u8fc7\u6ee4\u591a\u5c11\u6761\uff0c\u5176\u5b9e\u672c\u8d28\u4e0a\u5c31\u662f\u4e3a\u4e86\u8ba9\u6210\u672c\u4f30\u7b97\u66f4\u7cbe\u786e\u3002 \u6211\u4eec\u6240\u8bf4\u7684\u7eaf\u7cb9\u778e\u731c\u5176\u5b9e\u662f\u5f88\u4e0d\u4e25\u8c28\u7684\uff0c\u8bbe\u8ba1MySQL\u7684\u5927\u53d4\u4eec\u79f0\u4e4b\u4e3a\u542f\u53d1\u5f0f\u89c4\u5219\uff08heuristic\uff09\uff0c\u5927\u5bb6\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u518d\u6df1\u5165\u4e86\u89e3\u4e00\u4e0b\u54c8\u3002")),(0,i.kt)("h3",{id:"\u4e24\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790"},"\u4e24\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790"),(0,i.kt)("p",null,"\u8fde\u63a5\u67e5\u8be2\u7684\u6210\u672c\u8ba1\u7b97\u516c\u5f0f\u662f\u8fd9\u6837\u7684\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u8fde\u63a5\u67e5\u8be2\u603b\u6210\u672c = \u5355\u6b21\u8bbf\u95ee\u9a71\u52a8\u8868\u7684\u6210\u672c + \u9a71\u52a8\u8868\u6247\u51fa\u6570 x \u5355\u6b21\u8bbf\u95ee\u88ab\u9a71\u52a8\u8868\u7684\u6210\u672c\n\n")),(0,i.kt)("p",null,"\u5bf9\u4e8e\u5de6\uff08\u5916\uff09\u8fde\u63a5\u548c\u53f3\uff08\u5916\uff09\u8fde\u63a5\u67e5\u8be2\u6765\u8bf4\uff0c\u5b83\u4eec\u7684\u9a71\u52a8\u8868\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u60f3\u8981\u5f97\u5230\u6700\u4f18\u7684\u67e5\u8be2\u65b9\u6848\u53ea\u9700\u8981\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5206\u522b\u4e3a\u9a71\u52a8\u8868\u548c\u88ab\u9a71\u52a8\u8868\u9009\u62e9\u6210\u672c\u6700\u4f4e\u7684\u8bbf\u95ee\u65b9\u6cd5\u3002")),(0,i.kt)("p",null,"\u53ef\u662f\u5bf9\u4e8e\u5185\u8fde\u63a5\u6765\u8bf4\uff0c\u9a71\u52a8\u8868\u548c\u88ab\u9a71\u52a8\u8868\u7684\u4f4d\u7f6e\u662f\u53ef\u4ee5\u4e92\u6362\u7684\uff0c\u6240\u4ee5\u9700\u8981\u8003\u8651\u4e24\u4e2a\u65b9\u9762\u7684\u95ee\u9898\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u4e0d\u540c\u7684\u8868\u4f5c\u4e3a\u9a71\u52a8\u8868\u6700\u7ec8\u7684\u67e5\u8be2\u6210\u672c\u53ef\u80fd\u662f\u4e0d\u540c\u7684\uff0c\u4e5f\u5c31\u662f\u9700\u8981\u8003\u8651\u6700\u4f18\u7684\u8868\u8fde\u63a5\u987a\u5e8f\u3002"),(0,i.kt)("li",{parentName:"ul"},"\u7136\u540e\u5206\u522b\u4e3a\u9a71\u52a8\u8868\u548c\u88ab\u9a71\u52a8\u8868\u9009\u62e9\u6210\u672c\u6700\u4f4e\u7684\u8bbf\u95ee\u65b9\u6cd5\u3002")),(0,i.kt)("p",null,"\u5f88\u663e\u7136\uff0c\u8ba1\u7b97\u5185\u8fde\u63a5\u67e5\u8be2\u6210\u672c\u7684\u65b9\u5f0f\u66f4\u9ebb\u70e6\u4e00\u4e9b\uff0c\u4e0b\u8fb9\u6211\u4eec\u5c31\u4ee5\u5185\u8fde\u63a5\u4e3a\u4f8b\u6765\u770b\u770b\u5982\u4f55\u8ba1\u7b97\u51fa\u6700\u4f18\u7684\u8fde\u63a5\u67e5\u8be2\u65b9\u6848\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a \u5de6\uff08\u5916\uff09\u8fde\u63a5\u548c\u53f3\uff08\u5916\uff09\u8fde\u63a5\u67e5\u8be2\u5728\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\u53ef\u4ee5\u88ab\u4f18\u5316\u4e3a\u5185\u8fde\u63a5\u67e5\u8be2\uff0c\u6211\u4eec\u5728\u4e4b\u540e\u7684\u7ae0\u8282\u4e2d\u4f1a\u4ed4\u7ec6\u5520\u53e8\u7684\uff0c\u7a0d\u5b89\u52ff\u8e81\u3002")),(0,i.kt)("p",null,"\u6bd4\u5982\u5bf9\u4e8e\u4e0b\u8fb9\u8fd9\u4e2a\u67e5\u8be2\u6765\u8bf4\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"SELECT * FROM single_table AS s1 INNER JOIN single_table2 AS s2 \n    ON s1.key1 = s2.common_field \n    WHERE s1.key2 > 10 AND s1.key2 < 1000 AND \n          s2.key2 > 1000 AND s2.key2 < 2000;\n\n")),(0,i.kt)("p",null,"\u53ef\u4ee5\u9009\u62e9\u7684\u8fde\u63a5\u987a\u5e8f\u6709\u4e24\u79cd\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s1"),"\u8fde\u63a5",(0,i.kt)("inlineCode",{parentName:"li"},"s2"),"\uff0c\u4e5f\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"li"},"s1"),"\u4f5c\u4e3a\u9a71\u52a8\u8868\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"s2"),"\u4f5c\u4e3a\u88ab\u9a71\u52a8\u8868\u3002"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s2"),"\u8fde\u63a5",(0,i.kt)("inlineCode",{parentName:"li"},"s1"),"\uff0c\u4e5f\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"li"},"s2"),"\u4f5c\u4e3a\u9a71\u52a8\u8868\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"s1"),"\u4f5c\u4e3a\u88ab\u9a71\u52a8\u8868\u3002")),(0,i.kt)("p",null,"\u67e5\u8be2\u4f18\u5316\u5668\u9700\u8981\u5206\u522b\u8003\u8651\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\u7684\u6700\u4f18\u67e5\u8be2\u6210\u672c\uff0c\u7136\u540e\u9009\u53d6\u90a3\u4e2a\u6210\u672c\u66f4\u4f4e\u7684\u8fde\u63a5\u987a\u5e8f\u4ee5\u53ca\u8be5\u8fde\u63a5\u987a\u5e8f\u4e0b\u5404\u4e2a\u8868\u7684\u6700\u4f18\u8bbf\u95ee\u65b9\u6cd5\u4f5c\u4e3a\u6700\u7ec8\u7684\u67e5\u8be2\u8ba1\u5212\u3002\u6211\u4eec\u5206\u522b\u6765\u770b\u4e00\u4e0b\uff08\u5b9a\u6027\u7684\u5206\u6790\u4e00\u4e0b\uff0c\u4e0d\u50cf\u5206\u6790\u5355\u8868\u67e5\u8be2\u90a3\u6837\u5b9a\u91cf\u7684\u5206\u6790\u4e86\uff09\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u4f5c\u4e3a\u9a71\u52a8\u8868\u7684\u60c5\u51b5"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5206\u6790\u5bf9\u4e8e\u9a71\u52a8\u8868\u7684\u6210\u672c\u6700\u4f4e\u7684\u6267\u884c\u65b9\u6848"),(0,i.kt)("p",{parentName:"li"},"\u9996\u5148\u770b\u4e00\u4e0b\u6d89\u53ca",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u8868\u5355\u8868\u7684\u641c\u7d22\u6761\u4ef6\u6709\u54ea\u4e9b\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s1.key2 > 10 AND s1.key2 < 1000"))),(0,i.kt)("p",{parentName:"li"},"\u6240\u4ee5\u8fd9\u4e2a\u67e5\u8be2\u53ef\u80fd\u4f7f\u7528\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7d22\u5f15\uff0c\u4ece\u5168\u8868\u626b\u63cf\u548c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u8fd9\u4e24\u4e2a\u65b9\u6848\u4e2d\u9009\u51fa\u6210\u672c\u6700\u4f4e\u7684\u90a3\u4e2a\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u4e0a\u8fb9\u90fd\u5520\u53e8\u8fc7\u4e86\uff0c\u5f88\u663e\u7136\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u66f4\u4f4e\u4e9b\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u7136\u540e\u5206\u6790\u5bf9\u4e8e\u88ab\u9a71\u52a8\u8868\u7684\u6210\u672c\u6700\u4f4e\u7684\u6267\u884c\u65b9\u6848"),(0,i.kt)("p",{parentName:"li"},"\u6b64\u65f6\u6d89\u53ca\u88ab\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"p"},"s2"),"\u7684\u641c\u7d22\u6761\u4ef6\u5c31\u662f\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s2.common_field = \u5e38\u6570"),"\uff08\u8fd9\u662f\u56e0\u4e3a\u5bf9\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"li"},"s1"),"\u7ed3\u679c\u96c6\u4e2d\u7684\u6bcf\u4e00\u6761\u8bb0\u5f55\uff0c\u90fd\u9700\u8981\u8fdb\u884c\u4e00\u6b21\u88ab\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"li"},"s2"),"\u7684\u8bbf\u95ee\uff0c\u6b64\u65f6\u90a3\u4e9b\u6d89\u53ca\u4e24\u8868\u7684\u6761\u4ef6\u73b0\u5728\u76f8\u5f53\u4e8e\u53ea\u6d89\u53ca\u88ab\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"li"},"s2"),"\u4e86\u3002\uff09"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s2.key2 > 1000 AND s2.key2 < 2000"))),(0,i.kt)("p",{parentName:"li"},"\u5f88\u663e\u7136\uff0c\u7b2c\u4e00\u4e2a\u6761\u4ef6\u7531\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"common_field"),"\u6ca1\u6709\u7528\u5230\u7d22\u5f15\uff0c\u6240\u4ee5\u5e76\u6ca1\u6709\u4ec0\u4e48\u5375\u7528\uff0c\u6b64\u65f6\u8bbf\u95ee",(0,i.kt)("inlineCode",{parentName:"p"},"s2"),"\u8868\u65f6\u53ef\u7528\u7684\u65b9\u6848\u4e5f\u662f\u5168\u8868\u626b\u63cf\u548c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u4e24\u79cd\uff0c\u5f88\u663e\u7136\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u6210\u672c\u66f4\u5c0f\u3002"))),(0,i.kt)("p",{parentName:"li"},"\u6240\u4ee5\u6b64\u65f6\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u4f5c\u4e3a\u9a71\u52a8\u8868\u65f6\u7684\u603b\u6210\u672c\u5c31\u662f\uff08\u6682\u65f6\u4e0d\u8003\u8651\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"join buffer"),"\u5bf9\u6210\u672c\u7684\u5f71\u54cd\uff09\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"\u4f7f\u7528idx_key2\u8bbf\u95ees1\u7684\u6210\u672c + s1\u7684\u6247\u51fa \xd7 \u4f7f\u7528idx_key2\u8bbf\u95ees2\u7684\u6210\u672c\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"s2"),"\u4f5c\u4e3a\u9a71\u52a8\u8868\u7684\u60c5\u51b5"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5206\u6790\u5bf9\u4e8e\u9a71\u52a8\u8868\u7684\u6210\u672c\u6700\u4f4e\u7684\u6267\u884c\u65b9\u6848"),(0,i.kt)("p",{parentName:"li"},"\u9996\u5148\u770b\u4e00\u4e0b\u6d89\u53ca",(0,i.kt)("inlineCode",{parentName:"p"},"s2"),"\u8868\u5355\u8868\u7684\u641c\u7d22\u6761\u4ef6\u6709\u54ea\u4e9b\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s2.key2 > 10 AND s2.key2 < 1000"))),(0,i.kt)("p",{parentName:"li"},"\u6240\u4ee5\u8fd9\u4e2a\u67e5\u8be2\u53ef\u80fd\u4f7f\u7528\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7d22\u5f15\uff0c\u4ece\u5168\u8868\u626b\u63cf\u548c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u8fd9\u4e24\u4e2a\u65b9\u6848\u4e2d\u9009\u51fa\u6210\u672c\u6700\u4f4e\u7684\u90a3\u4e2a\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u4e0a\u8fb9\u90fd\u5520\u53e8\u8fc7\u4e86\uff0c\u5f88\u663e\u7136\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u66f4\u4f4e\u4e9b\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u7136\u540e\u5206\u6790\u5bf9\u4e8e\u88ab\u9a71\u52a8\u8868\u7684\u6210\u672c\u6700\u4f4e\u7684\u6267\u884c\u65b9\u6848"),(0,i.kt)("p",{parentName:"li"},"\u6b64\u65f6\u6d89\u53ca\u88ab\u9a71\u52a8\u8868",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u7684\u641c\u7d22\u6761\u4ef6\u5c31\u662f\uff1a"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s1.key1 = \u5e38\u6570")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"s1.key2 > 1000 AND s1.key2 < 2000"))),(0,i.kt)("p",{parentName:"li"},"\u8fd9\u65f6\u5c31\u5f88\u6709\u8da3\u4e86\uff0c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u53ef\u4ee5\u8fdb\u884c",(0,i.kt)("inlineCode",{parentName:"p"},"ref"),"\u65b9\u5f0f\u7684\u8bbf\u95ee\uff0c\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"range"),"\u65b9\u5f0f\u7684\u8bbf\u95ee\u3002\u8fd9\u662f\u4f18\u5316\u5668\u9700\u8981\u4ece\u5168\u8868\u626b\u63cf\u3001\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u3001\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u8fd9\u51e0\u4e2a\u65b9\u6848\u91cc\u9009\u51fa\u4e00\u4e2a\u6210\u672c\u6700\u4f4e\u7684\u65b9\u6848\u3002\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\u554a\uff0c\u56e0\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u8303\u56f4\u533a\u95f4\u662f\u786e\u5b9a\u7684\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"(10, 1000)"),"\uff0c\u600e\u4e48\u8ba1\u7b97\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key2"),"\u7684\u6210\u672c\u6211\u4eec\u4e0a\u8fb9\u5df2\u7ecf\u8bf4\u8fc7\u4e86\uff0c\u53ef\u662f\u5728\u6ca1\u6709\u771f\u6b63\u6267\u884c\u67e5\u8be2\u524d\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"s1.key1 = \u5e38\u6570"),"\u4e2d\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u5e38\u6570"),"\u503c\u6211\u4eec\u662f\u4e0d\u77e5\u9053\u7684\uff0c\u600e\u4e48\u8861\u91cf\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u6267\u884c\u67e5\u8be2\u7684\u6210\u672c\u5462\uff1f\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u4f7f\u7528\u7d22\u5f15\u7edf\u8ba1\u6570\u636e\u5c31\u597d\u4e86\uff08\u5c31\u662f\u7d22\u5f15\u5217\u5e73\u5747\u4e00\u4e2a\u503c\u91cd\u590d\u591a\u5c11\u6b21\uff09\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"ref"),"\u7684\u8bbf\u95ee\u65b9\u5f0f\u8981\u6bd4",(0,i.kt)("inlineCode",{parentName:"p"},"range"),"\u6210\u672c\u66f4\u4f4e\uff0c\u8fd9\u91cc\u5047\u8bbe\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"idx_key1"),"\u8fdb\u884c\u5bf9",(0,i.kt)("inlineCode",{parentName:"p"},"s1"),"\u7684\u8bbf\u95ee\u3002"))),(0,i.kt)("p",{parentName:"li"},"\u6240\u4ee5\u6b64\u65f6\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"s2"),"\u4f5c\u4e3a\u9a71\u52a8\u8868\u65f6\u7684\u603b\u6210\u672c\u5c31\u662f\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"\u4f7f\u7528idx_key2\u8bbf\u95ees2\u7684\u6210\u672c + s2\u7684\u6247\u51fa \xd7 \u4f7f\u7528idx_key1\u8bbf\u95ees1\u7684\u6210\u672c\n\n")))),(0,i.kt)("p",null,"\u6700\u540e\u4f18\u5316\u5668\u4f1a\u6bd4\u8f83\u8fd9\u4e24\u79cd\u65b9\u5f0f\u7684\u6700\u4f18\u8bbf\u95ee\u6210\u672c\uff0c\u9009\u53d6\u90a3\u4e2a\u6210\u672c\u66f4\u4f4e\u7684\u8fde\u63a5\u987a\u5e8f\u53bb\u771f\u6b63\u7684\u6267\u884c\u67e5\u8be2\u3002\u4ece\u4e0a\u8fb9\u7684\u8ba1\u7b97\u8fc7\u7a0b\u4e5f\u53ef\u4ee5\u770b\u51fa\u6765\uff0c\u8fde\u63a5\u67e5\u8be2\u6210\u672c\u5360\u5927\u5934\u7684\u5176\u5b9e\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"\u9a71\u52a8\u8868\u6247\u51fa\u6570 x \u5355\u6b21\u8bbf\u95ee\u88ab\u9a71\u52a8\u8868\u7684\u6210\u672c"),"\uff0c\u6240\u4ee5\u6211\u4eec\u7684\u4f18\u5316\u91cd\u70b9\u5176\u5b9e\u662f\u4e0b\u8fb9\u8fd9\u4e24\u4e2a\u90e8\u5206\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5c3d\u91cf\u51cf\u5c11\u9a71\u52a8\u8868\u7684\u6247\u51fa")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u88ab\u9a71\u52a8\u8868\u7684\u8bbf\u95ee\u6210\u672c\u5c3d\u91cf\u4f4e"),(0,i.kt)("p",{parentName:"li"},"\u8fd9\u4e00\u70b9\u5bf9\u4e8e\u6211\u4eec\u5b9e\u9645\u4e66\u5199\u8fde\u63a5\u67e5\u8be2\u8bed\u53e5\u65f6\u5341\u5206\u6709\u7528\uff0c\u6211\u4eec\u9700\u8981\u5c3d\u91cf\u5728\u88ab\u9a71\u52a8\u8868\u7684\u8fde\u63a5\u5217\u4e0a\u5efa\u7acb\u7d22\u5f15\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"ref"),"\u8bbf\u95ee\u65b9\u6cd5\u6765\u964d\u4f4e\u8bbf\u95ee\u88ab\u9a71\u52a8\u8868\u7684\u6210\u672c\u4e86\u3002\u5982\u679c\u53ef\u4ee5\uff0c\u88ab\u9a71\u52a8\u8868\u7684\u8fde\u63a5\u5217\u6700\u597d\u662f\u8be5\u8868\u7684\u4e3b\u952e\u6216\u8005\u552f\u4e00\u4e8c\u7ea7\u7d22\u5f15\u5217\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u628a\u8bbf\u95ee\u88ab\u9a71\u52a8\u8868\u7684\u6210\u672c\u964d\u5230\u66f4\u4f4e\u4e86\u3002"))),(0,i.kt)("h3",{id:"\u591a\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790"},"\u591a\u8868\u8fde\u63a5\u7684\u6210\u672c\u5206\u6790"),(0,i.kt)("p",null,"\u9996\u5148\u8981\u8003\u8651\u4e00\u4e0b\u591a\u8868\u8fde\u63a5\u65f6\u53ef\u80fd\u4ea7\u751f\u51fa\u591a\u5c11\u79cd\u8fde\u63a5\u987a\u5e8f\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u4e8e\u4e24\u8868\u8fde\u63a5\uff0c\u6bd4\u5982\u8868A\u548c\u8868B\u8fde\u63a5"),(0,i.kt)("p",{parentName:"li"},"\u53ea\u6709 AB\u3001BA\u8fd9\u4e24\u79cd\u8fde\u63a5\u987a\u5e8f\u3002\u5176\u5b9e\u76f8\u5f53\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"2 \xd7 1 = 2"),"\u79cd\u8fde\u63a5\u987a\u5e8f\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u4e8e\u4e09\u8868\u8fde\u63a5\uff0c\u6bd4\u5982\u8868A\u3001\u8868B\u3001\u8868C\u8fdb\u884c\u8fde\u63a5"),(0,i.kt)("p",{parentName:"li"},"\u6709ABC\u3001ACB\u3001BAC\u3001BCA\u3001CAB\u3001CBA\u8fd9\u4e486\u79cd\u8fde\u63a5\u987a\u5e8f\u3002\u5176\u5b9e\u76f8\u5f53\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"3 \xd7 2 \xd7 1 = 6"),"\u79cd\u8fde\u63a5\u987a\u5e8f\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u4e8e\u56db\u8868\u8fde\u63a5\u7684\u8bdd\uff0c\u5219\u4f1a\u6709",(0,i.kt)("inlineCode",{parentName:"p"},"4 \xd7 3 \xd7 2 \xd7 1 = 24"),"\u79cd\u8fde\u63a5\u987a\u5e8f\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"n"),"\u8868\u8fde\u63a5\u7684\u8bdd\uff0c\u5219\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"n \xd7 (n-1) \xd7 (n-2) \xd7 \xb7\xb7\xb7 \xd7 1"),"\u79cd\u8fde\u63a5\u987a\u5e8f\uff0c\u5c31\u662fn\u7684\u9636\u4e58\u79cd\u8fde\u63a5\u987a\u5e8f\uff0c\u4e5f\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"n!"),"\u3002"))),(0,i.kt)("p",null,"\u6709",(0,i.kt)("inlineCode",{parentName:"p"},"n"),"\u4e2a\u8868\u8fdb\u884c\u8fde\u63a5\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u67e5\u8be2\u4f18\u5316\u5668\u8981\u6bcf\u4e00\u79cd\u8fde\u63a5\u987a\u5e8f\u7684\u6210\u672c\u90fd\u8ba1\u7b97\u4e00\u904d\u4e48\uff1f\u90a3\u53ef\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"n!"),"\u79cd\u8fde\u63a5\u987a\u5e8f\u5440\u3002\u5176\u5b9e\u771f\u7684\u662f\u8981\u90fd\u7b97\u4e00\u904d\uff0c\u4e0d\u8fc7\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u4eec\u60f3\u4e86\u5f88\u591a\u529e\u6cd5\u51cf\u5c11\u8ba1\u7b97\u975e\u5e38\u591a\u79cd\u8fde\u63a5\u987a\u5e8f\u7684\u6210\u672c\u7684\u65b9\u6cd5\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u63d0\u524d\u7ed3\u675f\u67d0\u79cd\u987a\u5e8f\u7684\u6210\u672c\u8bc4\u4f30"),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u5728\u8ba1\u7b97\u5404\u79cd\u94fe\u63a5\u987a\u5e8f\u7684\u6210\u672c\u4e4b\u524d\uff0c\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u5168\u5c40\u7684\u53d8\u91cf\uff0c\u8fd9\u4e2a\u53d8\u91cf\u8868\u793a\u5f53\u524d\u6700\u5c0f\u7684\u8fde\u63a5\u67e5\u8be2\u6210\u672c\u3002\u5982\u679c\u5728\u5206\u6790\u67d0\u4e2a\u8fde\u63a5\u987a\u5e8f\u7684\u6210\u672c\u65f6\uff0c\u8be5\u6210\u672c\u5df2\u7ecf\u8d85\u8fc7\u5f53\u524d\u6700\u5c0f\u7684\u8fde\u63a5\u67e5\u8be2\u6210\u672c\uff0c\u90a3\u5c31\u538b\u6839\u513f\u4e0d\u5bf9\u8be5\u8fde\u63a5\u987a\u5e8f\u7ee7\u7eed\u5f80\u4e0b\u5206\u6790\u4e86\u3002\u6bd4\u65b9\u8bf4A\u3001B\u3001C\u4e09\u4e2a\u8868\u8fdb\u884c\u8fde\u63a5\uff0c\u5df2\u7ecf\u5f97\u5230\u8fde\u63a5\u987a\u5e8f",(0,i.kt)("inlineCode",{parentName:"p"},"ABC"),"\u662f\u5f53\u524d\u7684\u6700\u5c0f\u8fde\u63a5\u6210\u672c\uff0c\u6bd4\u65b9\u8bf4",(0,i.kt)("inlineCode",{parentName:"p"},"10.0"),"\uff0c\u5728\u8ba1\u7b97\u8fde\u63a5\u987a\u5e8f",(0,i.kt)("inlineCode",{parentName:"p"},"BCA"),"\u65f6\uff0c\u53d1\u73b0",(0,i.kt)("inlineCode",{parentName:"p"},"B"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"C"),"\u7684\u8fde\u63a5\u6210\u672c\u5c31\u5df2\u7ecf\u5927\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"10.0"),"\u65f6\uff0c\u5c31\u4e0d\u518d\u7ee7\u7eed\u5f80\u540e\u5206\u6790",(0,i.kt)("inlineCode",{parentName:"p"},"BCA"),"\u8fd9\u4e2a\u8fde\u63a5\u987a\u5e8f\u7684\u6210\u672c\u4e86\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u7cfb\u7edf\u53d8\u91cf",(0,i.kt)("inlineCode",{parentName:"p"},"optimizer_search_depth")),(0,i.kt)("p",{parentName:"li"},"\u4e3a\u4e86\u9632\u6b62\u65e0\u7a77\u65e0\u5c3d\u7684\u5206\u6790\u5404\u79cd\u8fde\u63a5\u987a\u5e8f\u7684\u6210\u672c\uff0c\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u4eec\u63d0\u51fa\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"optimizer_search_depth"),"\u7cfb\u7edf\u53d8\u91cf\uff0c\u5982\u679c\u8fde\u63a5\u8868\u7684\u4e2a\u6570\u5c0f\u4e8e\u8be5\u503c\uff0c\u90a3\u4e48\u5c31\u7ee7\u7eed\u7a77\u4e3e\u5206\u6790\u6bcf\u4e00\u79cd\u8fde\u63a5\u987a\u5e8f\u7684\u6210\u672c\uff0c\u5426\u5219\u53ea\u5bf9\u4e0e",(0,i.kt)("inlineCode",{parentName:"p"},"optimizer_search_depth"),"\u503c\u76f8\u540c\u6570\u91cf\u7684\u8868\u8fdb\u884c\u7a77\u4e3e\u5206\u6790\u3002\u5f88\u663e\u7136\uff0c\u8be5\u503c\u8d8a\u5927\uff0c\u6210\u672c\u5206\u6790\u7684\u8d8a\u7cbe\u786e\uff0c\u8d8a\u5bb9\u6613\u5f97\u5230\u597d\u7684\u6267\u884c\u8ba1\u5212\uff0c\u4f46\u662f\u6d88\u8017\u7684\u65f6\u95f4\u4e5f\u5c31\u8d8a\u957f\uff0c\u5426\u5219\u5f97\u5230\u4e0d\u662f\u5f88\u597d\u7684\u6267\u884c\u8ba1\u5212\uff0c\u4f46\u53ef\u4ee5\u7701\u6389\u5f88\u591a\u5206\u6790\u8fde\u63a5\u6210\u672c\u7684\u65f6\u95f4\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6839\u636e\u67d0\u4e9b\u89c4\u5219\u538b\u6839\u513f\u5c31\u4e0d\u8003\u8651\u67d0\u4e9b\u8fde\u63a5\u987a\u5e8f"),(0,i.kt)("p",{parentName:"li"},"\u5373\u4f7f\u662f\u6709\u4e0a\u8fb9\u4e24\u6761\u89c4\u5219\u7684\u9650\u5236\uff0c\u4f46\u662f\u5206\u6790\u591a\u4e2a\u8868\u4e0d\u540c\u8fde\u63a5\u987a\u5e8f\u6210\u672c\u82b1\u8d39\u7684\u65f6\u95f4\u8fd8\u662f\u4f1a\u5f88\u957f\uff0c\u6240\u4ee5\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u5e72\u8106\u63d0\u51fa\u4e86\u4e00\u4e9b\u6240\u8c13\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u542f\u53d1\u5f0f\u89c4\u5219"),"\uff08\u5c31\u662f\u6839\u636e\u4ee5\u5f80\u7ecf\u9a8c\u6307\u5b9a\u7684\u4e00\u4e9b\u89c4\u5219\uff09\uff0c\u51e1\u662f\u4e0d\u6ee1\u8db3\u8fd9\u4e9b\u89c4\u5219\u7684\u8fde\u63a5\u987a\u5e8f\u538b\u6839\u513f\u5c31\u4e0d\u5206\u6790\uff0c\u8fd9\u6837\u53ef\u4ee5\u6781\u5927\u7684\u51cf\u5c11\u9700\u8981\u5206\u6790\u7684\u8fde\u63a5\u987a\u5e8f\u7684\u6570\u91cf\uff0c\u4f46\u662f\u4e5f\u53ef\u80fd\u9020\u6210\u9519\u5931\u6700\u4f18\u7684\u6267\u884c\u8ba1\u5212\u3002\u4ed6\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7cfb\u7edf\u53d8\u91cf",(0,i.kt)("inlineCode",{parentName:"p"},"optimizer_prune_level"),"\u6765\u63a7\u5236\u5230\u5e95\u662f\u4e0d\u662f\u7528\u8fd9\u4e9b\u542f\u53d1\u5f0f\u89c4\u5219\u3002"))),(0,i.kt)("h2",{id:"\u8c03\u8282\u6210\u672c\u5e38\u6570"},"\u8c03\u8282\u6210\u672c\u5e38\u6570"),(0,i.kt)("p",null,"\u6211\u4eec\u524d\u8fb9\u4e4b\u4ecb\u7ecd\u4e86\u4e24\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c\u5e38\u6570"),"\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u8bfb\u53d6\u4e00\u4e2a\u9875\u9762\u82b1\u8d39\u7684\u6210\u672c\u9ed8\u8ba4\u662f",(0,i.kt)("inlineCode",{parentName:"li"},"1.0")),(0,i.kt)("li",{parentName:"ul"},"\u68c0\u6d4b\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u6210\u672c\u9ed8\u8ba4\u662f",(0,i.kt)("inlineCode",{parentName:"li"},"0.2"))),(0,i.kt)("p",null,"\u5176\u5b9e\u9664\u4e86\u8fd9\u4e24\u4e2a\u6210\u672c\u5e38\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u8fd8\u652f\u6301\u597d\u591a\u5462\uff0c\u5b83\u4eec\u88ab\u5b58\u50a8\u5230\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"mysql"),"\u6570\u636e\u5e93\uff08\u8fd9\u662f\u4e00\u4e2a\u7cfb\u7edf\u6570\u636e\u5e93\uff0c\u6211\u4eec\u4e4b\u524d\u4ecb\u7ecd\u8fc7\uff09\u7684\u4e24\u4e2a\u8868\u4e2d\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mysql> SHOW TABLES FROM mysql LIKE '%cost%';\n+--------------------------+\n| Tables_in_mysql (%cost%) |\n+--------------------------+\n| engine_cost              |\n| server_cost              |\n+--------------------------+\n2 rows in set (0.00 sec)\n\n")),(0,i.kt)("p",null,"\u6211\u4eec\u5728\u7b2c\u4e00\u7ae0\u4e2d\u5c31\u8bf4\u8fc7\uff0c\u4e00\u6761\u8bed\u53e5\u7684\u6267\u884c\u5176\u5b9e\u662f\u5206\u4e3a\u4e24\u5c42\u7684\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"server"),"\u5c42"),(0,i.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u5f15\u64ce\u5c42")),(0,i.kt)("p",null,"\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"server"),"\u5c42\u8fdb\u884c\u8fde\u63a5\u7ba1\u7406\u3001\u67e5\u8be2\u7f13\u5b58\u3001\u8bed\u6cd5\u89e3\u6790\u3001\u67e5\u8be2\u4f18\u5316\u7b49\u64cd\u4f5c\uff0c\u5728\u5b58\u50a8\u5f15\u64ce\u5c42\u6267\u884c\u5177\u4f53\u7684\u6570\u636e\u5b58\u53d6\u64cd\u4f5c\u3002\u4e5f\u5c31\u662f\u8bf4\u4e00\u6761\u8bed\u53e5\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"server"),"\u5c42\u4e2d\u6267\u884c\u7684\u6210\u672c\u662f\u548c\u5b83\u64cd\u4f5c\u7684\u8868\u4f7f\u7528\u7684\u5b58\u50a8\u5f15\u64ce\u662f\u6ca1\u5173\u7cfb\u7684\uff0c\u6240\u4ee5\u5173\u4e8e\u8fd9\u4e9b\u64cd\u4f5c\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c\u5e38\u6570"),"\u5c31\u5b58\u50a8\u5728\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"server_cost"),"\u8868\u4e2d\uff0c\u800c\u4f9d\u8d56\u4e8e\u5b58\u50a8\u5f15\u64ce\u7684\u4e00\u4e9b\u64cd\u4f5c\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c\u5e38\u6570"),"\u5c31\u5b58\u50a8\u5728\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"engine_cost"),"\u8868\u4e2d\u3002"),(0,i.kt)("h3",{id:"mysqlserver_cost\u8868"},"mysql.server","_","cost\u8868"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"server_cost"),"\u8868\u4e2d\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"server"),"\u5c42\u8fdb\u884c\u7684\u4e00\u4e9b\u64cd\u4f5c\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c\u5e38\u6570"),"\uff0c\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mysql> SELECT * FROM mysql.server_cost;\n+------------------------------+------------+---------------------+---------+\n| cost_name                    | cost_value | last_update         | comment |\n+------------------------------+------------+---------------------+---------+\n| disk_temptable_create_cost   |       NULL | 2018-01-20 12:03:21 | NULL    |\n| disk_temptable_row_cost      |       NULL | 2018-01-20 12:03:21 | NULL    |\n| key_compare_cost             |       NULL | 2018-01-20 12:03:21 | NULL    |\n| memory_temptable_create_cost |       NULL | 2018-01-20 12:03:21 | NULL    |\n| memory_temptable_row_cost    |       NULL | 2018-01-20 12:03:21 | NULL    |\n| row_evaluate_cost            |       NULL | 2018-01-20 12:03:21 | NULL    |\n+------------------------------+------------+---------------------+---------+\n6 rows in set (0.05 sec)\n\n")),(0,i.kt)("p",null,"\u6211\u4eec\u5148\u770b\u4e00\u4e0b",(0,i.kt)("inlineCode",{parentName:"p"},"server_cost"),"\u5404\u4e2a\u5217\u90fd\u5206\u522b\u662f\u4ec0\u4e48\u610f\u601d\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"cost_name")),(0,i.kt)("p",{parentName:"li"},"\u8868\u793a\u6210\u672c\u5e38\u6570\u7684\u540d\u79f0\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"cost_value")),(0,i.kt)("p",{parentName:"li"},"\u8868\u793a\u6210\u672c\u5e38\u6570\u5bf9\u5e94\u7684\u503c\u3002\u5982\u679c\u8be5\u5217\u7684\u503c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"NULL"),"\u7684\u8bdd\uff0c\u610f\u5473\u7740\u5bf9\u5e94\u7684\u6210\u672c\u5e38\u6570\u4f1a\u91c7\u7528\u9ed8\u8ba4\u503c\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"last_update")),(0,i.kt)("p",{parentName:"li"},"\u8868\u793a\u6700\u540e\u66f4\u65b0\u8bb0\u5f55\u7684\u65f6\u95f4\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"comment")),(0,i.kt)("p",{parentName:"li"},"\u6ce8\u91ca\u3002"))),(0,i.kt)("p",null,"\u4ece",(0,i.kt)("inlineCode",{parentName:"p"},"server_cost"),"\u4e2d\u7684\u5185\u5bb9\u53ef\u4ee5\u770b\u51fa\u6765\uff0c\u76ee\u524d\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"server"),"\u5c42\u7684\u4e00\u4e9b\u64cd\u4f5c\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c\u5e38\u6570"),"\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a"),(0,i.kt)("p",null,"\u6210\u672c\u5e38\u6570\u540d\u79f0"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u503c"),(0,i.kt)("p",null,"\u63cf\u8ff0"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"disk_temptable_create_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"40.0")),(0,i.kt)("p",null,"\u521b\u5efa\u57fa\u4e8e\u78c1\u76d8\u7684\u4e34\u65f6\u8868\u7684\u6210\u672c\uff0c\u5982\u679c\u589e\u5927\u8fd9\u4e2a\u503c\u7684\u8bdd\u4f1a\u8ba9\u4f18\u5316\u5668\u5c3d\u91cf\u5c11\u7684\u521b\u5efa\u57fa\u4e8e\u78c1\u76d8\u7684\u4e34\u65f6\u8868\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"disk_temptable_row_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"1.0")),(0,i.kt)("p",null,"\u5411\u57fa\u4e8e\u78c1\u76d8\u7684\u4e34\u65f6\u8868\u5199\u5165\u6216\u8bfb\u53d6\u4e00\u6761\u8bb0\u5f55\u7684\u6210\u672c\uff0c\u5982\u679c\u589e\u5927\u8fd9\u4e2a\u503c\u7684\u8bdd\u4f1a\u8ba9\u4f18\u5316\u5668\u5c3d\u91cf\u5c11\u7684\u521b\u5efa\u57fa\u4e8e\u78c1\u76d8\u7684\u4e34\u65f6\u8868\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"key_compare_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"0.1")),(0,i.kt)("p",null,"\u4e24\u6761\u8bb0\u5f55\u505a\u6bd4\u8f83\u64cd\u4f5c\u7684\u6210\u672c\uff0c\u591a\u7528\u5728\u6392\u5e8f\u64cd\u4f5c\u4e0a\uff0c\u5982\u679c\u589e\u5927\u8fd9\u4e2a\u503c\u7684\u8bdd\u4f1a\u63d0\u5347",(0,i.kt)("inlineCode",{parentName:"p"},"filesort"),"\u7684\u6210\u672c\uff0c\u8ba9\u4f18\u5316\u5668\u53ef\u80fd\u66f4\u503e\u5411\u4e8e\u4f7f\u7528\u7d22\u5f15\u5b8c\u6210\u6392\u5e8f\u800c\u4e0d\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"filesort"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"memory_temptable_create_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"2.0")),(0,i.kt)("p",null,"\u521b\u5efa\u57fa\u4e8e\u5185\u5b58\u7684\u4e34\u65f6\u8868\u7684\u6210\u672c\uff0c\u5982\u679c\u589e\u5927\u8fd9\u4e2a\u503c\u7684\u8bdd\u4f1a\u8ba9\u4f18\u5316\u5668\u5c3d\u91cf\u5c11\u7684\u521b\u5efa\u57fa\u4e8e\u5185\u5b58\u7684\u4e34\u65f6\u8868\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"memory_temptable_row_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"0.2")),(0,i.kt)("p",null,"\u5411\u57fa\u4e8e\u5185\u5b58\u7684\u4e34\u65f6\u8868\u5199\u5165\u6216\u8bfb\u53d6\u4e00\u6761\u8bb0\u5f55\u7684\u6210\u672c\uff0c\u5982\u679c\u589e\u5927\u8fd9\u4e2a\u503c\u7684\u8bdd\u4f1a\u8ba9\u4f18\u5316\u5668\u5c3d\u91cf\u5c11\u7684\u521b\u5efa\u57fa\u4e8e\u5185\u5b58\u7684\u4e34\u65f6\u8868\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"row_evaluate_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"0.2")),(0,i.kt)("p",null,"\u8fd9\u4e2a\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u4e00\u76f4\u4f7f\u7528\u7684\u68c0\u6d4b\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u6210\u672c\uff0c\u589e\u5927\u8fd9\u4e2a\u503c\u53ef\u80fd\u8ba9\u4f18\u5316\u5668\u66f4\u503e\u5411\u4e8e\u4f7f\u7528\u7d22\u5f15\u800c\u4e0d\u662f\u76f4\u63a5\u5168\u8868\u626b\u63cf\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5c0f\u8d34\u58eb\uff1a MySQL\u5728\u6267\u884c\u8bf8\u5982DISTINCT\u67e5\u8be2\u3001\u5206\u7ec4\u67e5\u8be2\u3001Union\u67e5\u8be2\u4ee5\u53ca\u67d0\u4e9b\u7279\u6b8a\u6761\u4ef6\u4e0b\u7684\u6392\u5e8f\u67e5\u8be2\u90fd\u53ef\u80fd\u5728\u5185\u90e8\u5148\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u8868\uff0c\u4f7f\u7528\u8fd9\u4e2a\u4e34\u65f6\u8868\u6765\u8f85\u52a9\u5b8c\u6210\u67e5\u8be2\uff08\u6bd4\u5982\u5bf9\u4e8eDISTINCT\u67e5\u8be2\u53ef\u4ee5\u5efa\u4e00\u4e2a\u5e26\u6709UNIQUE\u7d22\u5f15\u7684\u4e34\u65f6\u8868\uff0c\u76f4\u63a5\u628a\u9700\u8981\u53bb\u91cd\u7684\u8bb0\u5f55\u63d2\u5165\u5230\u8fd9\u4e2a\u4e34\u65f6\u8868\u4e2d\uff0c\u63d2\u5165\u5b8c\u6210\u4e4b\u540e\u7684\u8bb0\u5f55\u5c31\u662f\u7ed3\u679c\u96c6\u4e86\uff09\u3002\u5728\u6570\u636e\u91cf\u5927\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u521b\u5efa\u57fa\u4e8e\u78c1\u76d8\u7684\u4e34\u65f6\u8868\uff0c\u4e5f\u5c31\u662f\u4e3a\u8be5\u4e34\u65f6\u8868\u4f7f\u7528MyISAM\u3001InnoDB\u7b49\u5b58\u50a8\u5f15\u64ce\uff0c\u5728\u6570\u636e\u91cf\u4e0d\u5927\u65f6\u53ef\u80fd\u521b\u5efa\u57fa\u4e8e\u5185\u5b58\u7684\u4e34\u65f6\u8868\uff0c\u4e5f\u5c31\u662f\u4f7f\u7528Memory\u5b58\u50a8\u5f15\u64ce\u3002\u5173\u4e8e\u66f4\u591a\u4e34\u65f6\u8868\u7684\u7ec6\u8282\u6211\u4eec\u5e76\u4e0d\u6253\u7b97\u5c55\u5f00\u5520\u53e8\uff0c\u56e0\u4e3a\u5c55\u5f00\u53ef\u80fd\u53c8\u9700\u8981\u597d\u51e0\u4e07\u5b57\u4e86\uff0c\u5927\u5bb6\u77e5\u9053\u521b\u5efa\u4e34\u65f6\u8868\u548c\u5bf9\u8fd9\u4e2a\u4e34\u65f6\u8868\u8fdb\u884c\u5199\u5165\u548c\u8bfb\u53d6\u7684\u64cd\u4f5c\u4ee3\u4ef7\u8fd8\u662f\u5f88\u9ad8\u7684\u5c31\u884c\u4e86\u3002")),(0,i.kt)("p",null,"\u8fd9\u4e9b\u6210\u672c\u5e38\u6570\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"server_cost"),"\u4e2d\u7684\u521d\u59cb\u503c\u90fd\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"NULL"),"\uff0c\u610f\u5473\u7740\u4f18\u5316\u5668\u4f1a\u4f7f\u7528\u5b83\u4eec\u7684\u9ed8\u8ba4\u503c\u6765\u8ba1\u7b97\u67d0\u4e2a\u64cd\u4f5c\u7684\u6210\u672c\uff0c\u5982\u679c\u6211\u4eec\u60f3\u4fee\u6539\u67d0\u4e2a\u6210\u672c\u5e38\u6570\u7684\u503c\u7684\u8bdd\uff0c\u9700\u8981\u505a\u4e24\u4e2a\u6b65\u9aa4\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u6211\u4eec\u611f\u5174\u8da3\u7684\u6210\u672c\u5e38\u6570\u505a\u66f4\u65b0\u64cd\u4f5c"),(0,i.kt)("p",{parentName:"li"},"\u6bd4\u65b9\u8bf4\u6211\u4eec\u60f3\u628a\u68c0\u6d4b\u4e00\u6761\u8bb0\u5f55\u662f\u5426\u7b26\u5408\u641c\u7d22\u6761\u4ef6\u7684\u6210\u672c\u589e\u5927\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"0.4"),"\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u8fd9\u6837\u5199\u66f4\u65b0\u8bed\u53e5\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"UPDATE mysql.server_cost \n    SET cost_value = 0.4\n    WHERE cost_name = 'row_evaluate_cost';\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u8ba9\u7cfb\u7edf\u91cd\u65b0\u52a0\u8f7d\u8fd9\u4e2a\u8868\u7684\u503c\u3002"),(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528\u4e0b\u8fb9\u8bed\u53e5\u5373\u53ef\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"FLUSH OPTIMIZER_COSTS;\n\n")))),(0,i.kt)("p",null,"\u5f53\u7136\uff0c\u5728\u4f60\u4fee\u6539\u5b8c\u67d0\u4e2a\u6210\u672c\u5e38\u6570\u540e\u60f3\u628a\u5b83\u4eec\u518d\u6539\u56de\u9ed8\u8ba4\u503c\u7684\u8bdd\uff0c\u53ef\u4ee5\u76f4\u63a5\u628a",(0,i.kt)("inlineCode",{parentName:"p"},"cost_value"),"\u7684\u503c\u8bbe\u7f6e\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"NULL"),"\uff0c\u518d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"FLUSH OPTIMIZER_COSTS"),"\u8bed\u53e5\u8ba9\u7cfb\u7edf\u91cd\u65b0\u52a0\u8f7d\u5b83\u5c31\u597d\u4e86\u3002"),(0,i.kt)("h3",{id:"mysqlengine_cost\u8868"},"mysql.engine","_","cost\u8868"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"engine_cost\u8868"),"\u8868\u4e2d\u5728\u5b58\u50a8\u5f15\u64ce\u5c42\u8fdb\u884c\u7684\u4e00\u4e9b\u64cd\u4f5c\u5bf9\u5e94\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"\u6210\u672c\u5e38\u6570"),"\uff0c\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mysql> SELECT * FROM mysql.engine_cost;\n+-------------+-------------+------------------------+------------+---------------------+---------+\n| engine_name | device_type | cost_name              | cost_value | last_update         | comment |\n+-------------+-------------+------------------------+------------+---------------------+---------+\n| default     |           0 | io_block_read_cost     |       NULL | 2018-01-20 12:03:21 | NULL    |\n| default     |           0 | memory_block_read_cost |       NULL | 2018-01-20 12:03:21 | NULL    |\n+-------------+-------------+------------------------+------------+---------------------+---------+\n2 rows in set (0.05 sec)\n\n")),(0,i.kt)("p",null,"\u4e0e",(0,i.kt)("inlineCode",{parentName:"p"},"server_cost"),"\u76f8\u6bd4\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"engine_cost"),"\u591a\u4e86\u4e24\u4e2a\u5217\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"engine_name"),"\u5217"),(0,i.kt)("p",{parentName:"li"},"\u6307\u6210\u672c\u5e38\u6570\u9002\u7528\u7684\u5b58\u50a8\u5f15\u64ce\u540d\u79f0\u3002\u5982\u679c\u8be5\u503c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"default"),"\uff0c\u610f\u5473\u7740\u5bf9\u5e94\u7684\u6210\u672c\u5e38\u6570\u9002\u7528\u4e8e\u6240\u6709\u7684\u5b58\u50a8\u5f15\u64ce\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"device_type"),"\u5217"),(0,i.kt)("p",{parentName:"li"},"\u6307\u5b58\u50a8\u5f15\u64ce\u4f7f\u7528\u7684\u8bbe\u5907\u7c7b\u578b\uff0c\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u533a\u5206\u5e38\u89c4\u7684\u673a\u68b0\u786c\u76d8\u548c\u56fa\u6001\u786c\u76d8\uff0c\u4e0d\u8fc7\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL 5.7.21"),"\u8fd9\u4e2a\u7248\u672c\u4e2d\u5e76\u6ca1\u6709\u5bf9\u673a\u68b0\u786c\u76d8\u7684\u6210\u672c\u548c\u56fa\u6001\u786c\u76d8\u7684\u6210\u672c\u4f5c\u533a\u5206\uff0c\u6240\u4ee5\u8be5\u503c\u9ed8\u8ba4\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"0"),"\u3002"))),(0,i.kt)("p",null,"\u6211\u4eec\u4ece",(0,i.kt)("inlineCode",{parentName:"p"},"engine_cost"),"\u8868\u4e2d\u7684\u5185\u5bb9\u53ef\u4ee5\u770b\u51fa\u6765\uff0c\u76ee\u524d\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce\u6210\u672c\u5e38\u6570\u53ea\u6709\u4e24\u4e2a\uff1a"),(0,i.kt)("p",null,"\u6210\u672c\u5e38\u6570\u540d\u79f0"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u503c"),(0,i.kt)("p",null,"\u63cf\u8ff0"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"io_block_read_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"1.0")),(0,i.kt)("p",null,"\u4ece\u78c1\u76d8\u4e0a\u8bfb\u53d6\u4e00\u4e2a\u5757\u5bf9\u5e94\u7684\u6210\u672c\u3002\u8bf7\u6ce8\u610f\u6211\u4f7f\u7528\u7684\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"\u5757"),"\uff0c\u800c\u4e0d\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875"),"\u8fd9\u4e2a\u8bcd\u513f\u3002\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\uff0c\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"\u9875"),"\u5c31\u662f\u4e00\u4e2a\u5757\uff0c\u4e0d\u8fc7\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"MyISAM"),"\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\uff0c\u9ed8\u8ba4\u662f\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"4096"),"\u5b57\u8282\u4f5c\u4e3a\u4e00\u4e2a\u5757\u7684\u3002\u589e\u5927\u8fd9\u4e2a\u503c\u4f1a\u52a0\u91cd",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u6210\u672c\uff0c\u53ef\u80fd\u8ba9\u4f18\u5316\u5668\u66f4\u503e\u5411\u4e8e\u9009\u62e9\u4f7f\u7528\u7d22\u5f15\u6267\u884c\u67e5\u8be2\u800c\u4e0d\u662f\u6267\u884c\u5168\u8868\u626b\u63cf\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"memory_block_read_cost")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"1.0")),(0,i.kt)("p",null,"\u4e0e\u4e0a\u4e00\u4e2a\u53c2\u6570\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u8861\u91cf\u7684\u662f\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u4e00\u4e2a\u5757\u5bf9\u5e94\u7684\u6210\u672c\u3002"),(0,i.kt)("p",null,"\u5927\u5bb6\u770b\u5b8c\u8fd9\u4e24\u4e2a\u6210\u672c\u5e38\u6570\u7684\u9ed8\u8ba4\u503c\u662f\u4e0d\u662f\u6709\u4e9b\u7591\u60d1\uff0c\u600e\u4e48\u4ece\u5185\u5b58\u4e2d\u548c\u4ece\u78c1\u76d8\u4e0a\u8bfb\u53d6\u4e00\u4e2a\u5757\u7684\u9ed8\u8ba4\u6210\u672c\u662f\u4e00\u6837\u7684\uff0c\u8111\u5b50\u74e6\u7279\u4e86\uff1f\u8fd9\u4e3b\u8981\u662f\u56e0\u4e3a\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u76ee\u524d\u7684\u5b9e\u73b0\u4e2d\uff0c\u5e76\u4e0d\u80fd\u51c6\u786e\u9884\u6d4b\u67d0\u4e2a\u67e5\u8be2\u9700\u8981\u8bbf\u95ee\u7684\u5757\u4e2d\u6709\u54ea\u4e9b\u5757\u5df2\u7ecf\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u6709\u54ea\u4e9b\u5757\u8fd8\u505c\u7559\u5728\u78c1\u76d8\u4e0a\uff0c\u6240\u4ee5\u8bbe\u8ba1",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u5927\u53d4\u4eec\u5f88\u7c97\u66b4\u7684\u8ba4\u4e3a\u4e0d\u7ba1\u8fd9\u4e2a\u5757\u6709\u6ca1\u6709\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u4f7f\u7528\u7684\u6210\u672c\u90fd\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"1.0"),"\uff0c\u4e0d\u8fc7\u968f\u7740",(0,i.kt)("inlineCode",{parentName:"p"},"MySQL"),"\u7684\u53d1\u5c55\uff0c\u7b49\u5230\u53ef\u4ee5\u51c6\u786e\u9884\u6d4b\u54ea\u4e9b\u5757\u5728\u78c1\u76d8\u4e0a\uff0c\u90a3\u4e9b\u5757\u5728\u5185\u5b58\u4e2d\u7684\u90a3\u4e00\u5929\uff0c\u8fd9\u4e24\u4e2a\u6210\u672c\u5e38\u6570\u7684\u9ed8\u8ba4\u503c\u53ef\u80fd\u4f1a\u6539\u4e00\u6539\u5427\u3002"),(0,i.kt)("p",null,"\u4e0e\u66f4\u65b0",(0,i.kt)("inlineCode",{parentName:"p"},"server_cost"),"\u8868\u4e2d\u7684\u8bb0\u5f55\u4e00\u6837\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u66f4\u65b0",(0,i.kt)("inlineCode",{parentName:"p"},"engine_cost"),"\u8868\u4e2d\u7684\u8bb0\u5f55\u6765\u66f4\u6539\u5173\u4e8e\u5b58\u50a8\u5f15\u64ce\u7684\u6210\u672c\u5e38\u6570\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"engine_cost"),"\u8868\u63d2\u5165\u65b0\u8bb0\u5f55\u7684\u65b9\u5f0f\u6765\u6dfb\u52a0\u53ea\u9488\u5bf9\u67d0\u79cd\u5b58\u50a8\u5f15\u64ce\u7684\u6210\u672c\u5e38\u6570\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u63d2\u5165\u9488\u5bf9\u67d0\u4e2a\u5b58\u50a8\u5f15\u64ce\u7684\u6210\u672c\u5e38\u6570"),(0,i.kt)("p",{parentName:"li"},"\u6bd4\u5982\u6211\u4eec\u60f3\u589e\u5927",(0,i.kt)("inlineCode",{parentName:"p"},"InnoDB"),"\u5b58\u50a8\u5f15\u64ce\u9875\u9762",(0,i.kt)("inlineCode",{parentName:"p"},"I/O"),"\u7684\u6210\u672c\uff0c\u4e66\u5199\u6b63\u5e38\u7684\u63d2\u5165\u8bed\u53e5\u5373\u53ef\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"INSERT INTO mysql.engine_cost\n    VALUES ('InnoDB', 0, 'io_block_read_cost', 2.0,\n    CURRENT_TIMESTAMP, 'increase Innodb I/O cost');\n\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u8ba9\u7cfb\u7edf\u91cd\u65b0\u52a0\u8f7d\u8fd9\u4e2a\u8868\u7684\u503c\u3002"),(0,i.kt)("p",{parentName:"li"},"\u4f7f\u7528\u4e0b\u8fb9\u8bed\u53e5\u5373\u53ef\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},"FLUSH OPTIMIZER_COSTS;\n\n")))))}d.isMDXComponent=!0}}]);