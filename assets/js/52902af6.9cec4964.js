"use strict";(self.webpackChunkdapengdouyu=self.webpackChunkdapengdouyu||[]).push([[5252],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return d}});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),i=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},u=function(e){var n=i(e.components);return r.createElement(s.Provider,{value:n},e.children)},y={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=i(t),d=o,m=c["".concat(s,".").concat(d)]||c[d]||y[d]||a;return t?r.createElement(m,p(p({ref:n},u),{},{components:t})):r.createElement(m,p({ref:n},u))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,p=new Array(a);p[0]=c;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,p[1]=l;for(var i=2;i<a;i++)p[i]=t[i];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},4467:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return i},toc:function(){return u},default:function(){return c}});var r=t(83117),o=t(80102),a=(t(67294),t(3905)),p=["components"],l={},s="[typescript \u9898\u76ee 3](https://www.bilibili.com/video/BV1yq4y1q7bU?spm_id_from=333.999.0.0)",i={unversionedId:"program/typescript/19\u3001\u9898",id:"program/typescript/19\u3001\u9898",title:"[typescript \u9898\u76ee 3](https://www.bilibili.com/video/BV1yq4y1q7bU?spm_id_from=333.999.0.0)",description:"\u672c\u6b21\u7ec3\u4e60\u7684\u4e3b\u8981\u5185\u5bb9\u662f\u8054\u5408\u7c7b\u578b\u4ee5\u53ca\u5bf9\u8c61\u7c7b\u578b\uff1b",source:"@site/docs/program/typescript/19\u3001\u9898.md",sourceDirName:"program/typescript",slug:"/program/typescript/19\u3001\u9898",permalink:"/docs/program/typescript/19\u3001\u9898",editUrl:"https://github.com/dapengdouyu/docs/tree/master/docs/program/typescript/19\u3001\u9898.md",tags:[],version:"current",lastUpdatedAt:1639985762,formattedLastUpdatedAt:"12/20/2021",frontMatter:{},sidebar:"program",previous:{title:"19\u3001\u91cd\u70b9",permalink:"/docs/program/typescript/19\u3001\u91cd\u70b9"},next:{title:"\u4e00\u3001\u5b9e\u73b0\u7ec4\u4ef6\u7ee7\u627f\u5c5e\u6027\u7c7b\u578b",permalink:"/docs/program/typescript/20\u3001\u5b9e\u6218\u9898"}},u=[],y={toc:u};function c(e){var n=e.components,t=(0,o.Z)(e,p);return(0,a.kt)("wrapper",(0,r.Z)({},y,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"typescript-\u9898\u76ee-3"},(0,a.kt)("a",{parentName:"h1",href:"https://www.bilibili.com/video/BV1yq4y1q7bU?spm_id_from=333.999.0.0"},"typescript \u9898\u76ee 3")),(0,a.kt)("p",null,"\u672c\u6b21\u7ec3\u4e60\u7684\u4e3b\u8981\u5185\u5bb9\u662f\u8054\u5408\u7c7b\u578b\u4ee5\u53ca\u5bf9\u8c61\u7c7b\u578b\uff1b"),(0,a.kt)("h1",{id:"1optionalkeys"},"1\u3001OptionalKeys"),(0,a.kt)("p",null,"\u83b7\u53d6\u5bf9\u8c61\u7c7b\u578b\u4e2d\u7684\u53ef\u9009\u5c5e\u6027\u7684\u8054\u5408\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type a1 = OptionalKeys<{ foo: number | undefined, bar?: string, flag: boolean }>        // bar\ntype a2 = OptionalKeys<{ foo: number, bar?: string }>                                   // bar\ntype a3 = OptionalKeys<{ foo: number, flag: boolean }>                                  // never\ntype a4 = OptionalKeys<{ foo?: number, flag?: boolean }>                                // foo|flag\ntype a5 = OptionalKeys<{}>                                                              // never\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type OptionalKeys<T extends object, K = keyof T> = K extends keyof T  //\u8fd9\u91cc\u7684K \u662f\u5faa\u73af\u7684\u6bcf\u4e00\u9879\n  ? Omit<T, K> extends T\n    ? K\n    : never\n  : never;\n")),(0,a.kt)("h1",{id:"2pickoptional"},"2\u3001PickOptional"),(0,a.kt)("p",null,"\u4fdd\u7559\u4e00\u4e2a\u5bf9\u8c61\u4e2d\u7684\u53ef\u9009\u5c5e\u6027\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type a1 = PickOptional<{ foo: number | undefined, bar?: string, flag: boolean }>        // {bar?:string|undefined}\ntype a2 = PickOptional<{ foo: number, bar?: string }>                                   // {bar?:string}\ntype a3 = PickOptional<{ foo: number, flag: boolean }>                                  // {}\ntype a4 = PickOptional<{ foo?: number, flag?: boolean }>                                // {foo?:number,flag?:boolean}\ntype a5 = PickOptional<{}>                                                              // {}\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"\ntype PickOptional<T> = {\n  [K in keyof T as Omit<T, K> extends T ? K : never]: T[K];\n};\n")),(0,a.kt)("h1",{id:"3requiredkeys"},"3\u3001RequiredKeys"),(0,a.kt)("p",null,"\u83b7\u53d6\u5bf9\u8c61\u7c7b\u578b\u4e2d\u7684\u5fc5\u987b\u5c5e\u6027\u7684\u8054\u5408\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type a1 = RequiredKeys<{ foo: number | undefined, bar?: string, flag: boolean }>        // foo|flag\ntype a2 = RequiredKeys<{ foo: number, bar?: string }>                                   // foo\ntype a3 = RequiredKeys<{ foo: number, flag: boolean }>                                  // foo|flag\ntype a4 = RequiredKeys<{ foo?: number, flag?: boolean }>                                // never\ntype a5 = RequiredKeys<{}>                                                              // never\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type RequiredKeys<T, K = keyof T> = K extends keyof T\n  ? Omit<T, K> extends T\n    ? never\n    : K\n  : never;\n")),(0,a.kt)("h1",{id:"4pickrequired"},"4\u3001PickRequired"),(0,a.kt)("p",null,"\u4fdd\u7559\u4e00\u4e2a\u5bf9\u8c61\u4e2d\u7684\u5fc5\u987b\u5c5e\u6027"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type a1 = PickRequired<{ foo: number | undefined, bar?: string, flag: boolean }>        // {foo:number|undefined,flag:boolean}\ntype a2 = PickRequired<{ foo: number, bar?: string }>                                   // {foo:number}\ntype a3 = PickRequired<{ foo: number, flag: boolean }>                                  // {foo:number,flag:boolean}\ntype a4 = PickRequired<{ foo?: number, flag?: boolean }>                                // {}\ntype a5 = PickRequired<{}>                                                              // {}\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type RequiredKeys<T, K = keyof T> = K extends keyof T\n  ? Omit<T, K> extends T\n    ? never\n    : K\n  : never;\ntype PickRequired<T> = Pick<T,RequiredKeys<T>>\n")),(0,a.kt)("h1",{id:"5merge"},"5\u3001Merge*"),(0,a.kt)("p",null,"\u5408\u5e76\u4e24\u4e2a\u5bf9\u8c61\u7c7b\u578bT\u4ee5\u53caK\uff0c\u5982\u679c\u5c5e\u6027\u91cd\u590d\uff0c\u5219\u4ee5K\u4e2d\u5c5e\u6027\u7c7b\u578b\u4e3a\u51c6\uff1b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type obj1 = {\n    el: string,\n    age: number\n}\n\ntype obj2 = {\n    el: HTMLElement,\n    flag: boolean\n}\n\ntype obj3 = Merge<obj1, obj2>   // {el:HtmlElement,age:number,flag:boolean}\n\nconst a = {...{} as obj3}\nconsole.log(a.el.scrollTop, a.age.toFixed(0), a.flag.valueOf())\n// console.log(a.el.charAt(0))     // error\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type Merge<T, K> = Pick<T, Exclude<keyof T, keyof K>> & K;\n")),(0,a.kt)("h1",{id:"6isnever"},"6\u3001IsNever"),(0,a.kt)("p",null,"\u5224\u65ad\u662f\u5426\u4e3anever\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type A = IsNever<never> // true\ntype B = IsNever<string> // false\ntype C = IsNever<undefined> // false\ntype D = IsNever<any> // false\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// never\u662f\u6240\u6709\u7c7b\u578b\u7684\u5b50\u7c7b\u578b \u53ea\u80fdnever\u8d4b\u503c\u7ed9\u81ea\u5df1\ntype IsNever<T> = [T] extends [never] ? true : false;\n")),(0,a.kt)("h1",{id:"7isemptytype"},"7\u3001IsEmptyType"),(0,a.kt)("p",null,"\u5224\u65ad\u662f\u5426\u4e3a\u6ca1\u6709\u5c5e\u6027\u7684\u5bf9\u8c61\u7c7b\u578b{}"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type A = IsEmptyType<string> // false\ntype B = IsEmptyType<{ a: 3 }> // false\ntype C = IsEmptyType<{}> // true\ntype D = IsEmptyType<any> // false\ntype E = IsEmptyType<object> // false\ntype F = IsEmptyType<Object> // false\ntype G = IsEmptyType<unknown> // false\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// 123 \u53ef\u4ee5\u8d4b\u503c\u7ed9{} \u4f46\u662f\u4e0d\u80fd\u8d4b\u503c\u7ed9object\ntype IsEmptyType<T> = [keyof T] extends [never]\n  ? [unknown] extends [T]\n    ? false\n    : number extends T\n    ? true\n    : false\n  : false;\n\n")),(0,a.kt)("h1",{id:"8isany"},"8\u3001IsAny"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4e3a\u5565keyof any \u662f string, number\uff0csymbol ,\u56e0\u4e3a\u5bf9\u8c61\u7684\u5c5e\u6027\u7684\u7c7b\u578b\u662f\u8fd9\u4e9b\n\u5224\u65ad\u662f\u5426\u4e3aany\u7c7b\u578b")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type A = IsAny<string> // false\ntype B = IsAny<any> // true\ntype C = IsAny<unknown> // false\ntype D = IsAny<never> // false\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// \u4f7f\u7528 [T] \u907f\u514d\u4f20\u5165\u7684\u662f\u8054\u5408\u7c7b\u578b\u5bfc\u81f4\u7c7b\u578b\u5206\u5e03\n// unknown \u53ea\u80fd\u8d4b\u503c\u7ed9 any\u6216\u8005unknown\n// any\u53ef\u4ee5\u8d4b\u503c\u7ed9string\uff0c\u4f46\u662funknown\u4e0d\u53ef\u4ee5\u8d4b\u503c\u7ed9string\ntype IsAny<T> = [unknown] extends [T] ? ([T] extends [string] ? true : false) : false\n\n\n//  T & 1\u7684\u4ea4\u53c9\u7c7b\u578b \u9664\u4e86 any \u5c31\u662f never  \u8981\u4e0d {}&1 \u9664\u4e86 0 \u80fd\u8d4b\u503c\u7ed9any \u5176\u4ed6\u90fd\u4e0d\u80fd\ntype IsAny<T> = 0 extends (T & 1) ? true : false;\n")),(0,a.kt)("h1",{id:"9redux-connect"},"9\u3001Redux Connect"),(0,a.kt)("p",null,"\u5b9e\u73b0Connect\u7c7b\u578b\uff0c\u80fd\u591f\u81ea\u52a8\u5730\u8f6c\u5316Redux Module\u5bf9\u8c61\u4e2d\u7684\u51fd\u6570\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"interface Module {\n    count: number;\n    message: string;\n\n    asyncMethod<T, U>(input: Promise<T>): Promise<Action<U>>;\n\n    syncMethod<T, U>(action: Action<T>): Action<U>;\n}\n\ninterface Action<T> {\n    payload?: T;\n    type: string;\n}\n\n// \u8fd9\u4e2a\u8981\u6c42\u7684\u7ed3\u679c\ntype Result = {\n    asyncMethod<T, U>(input: T): Action<U>;\n    syncMethod<T, U>(action: T): Action<U>;\n}\n\n// \u5b9e\u73b0\u7c7b\u578bConnect\uff0c\u8981\u6c42 Connect<Module> \u7684\u7ed3\u679c\u4e3a\u4e0a\u9762\u7684 Result\n// \u53ea\u8981\u51fd\u6570\u7c7b\u578b\u7684\u5c5e\u6027\uff1b\n// \u5982\u679c\u51fd\u6570\u662f\u5f02\u6b65\u51fd\u6570\uff0c\u8981\u6c42\u81ea\u52a8\u89e3\u6790\u51fa\u6765Promise\u4e2d\u7684\u7c7b\u578b\uff1b\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// \u5b9e\u73b0\u7c7b\u578bConnect\uff0c\u8981\u6c42 Connect<Module> \u7684\u7ed3\u679c\u4e3a\u4e0a\u9762\u7684 Result\n// \u53ea\u8981\u51fd\u6570\u7c7b\u578b\u7684\u5c5e\u6027\uff1b\n// \u5982\u679c\u51fd\u6570\u662f\u5f02\u6b65\u51fd\u6570\uff0c\u8981\u6c42\u81ea\u52a8\u89e3\u6790\u51fa\u6765Promise\u4e2d\u7684\u7c7b\u578b\uff1b\ntype FunctionKey<T, K = keyof T> = K extends keyof T\n  ? T[K] extends (...args: any) => any\n    ? K\n    : never\n  : never;\ntype FormatFunction<K> = K extends <T, U>(\n  input: Promise<T>\n) => Promise<Action<U>>\n  ? <T, U>(input: T) => Action<U>\n  : K extends <T, U>(input: Action<T>) => Action<U>\n  ? <T, U>(input: T) => Action<U>\n  : never;\ntype Connect<T> = {\n  [K in FunctionKey<T>]: FormatFunction<T[K]>;\n};\n")),(0,a.kt)("h1",{id:"10uniontobooleanprops"},"10\u3001UnionToBooleanProps"),(0,a.kt)("p",null,"\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u5c5e\u6027"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'// \u5b9e\u73b0\u4e00\u4e2a\u53eb\u505a UnionToBooleanProps \u7684\u6cdb\u578b\uff0c\u4f7f\u5f97\u4ee5\u4e0b\u9700\u6c42\u6210\u7acb\n\ntype MessageStringType = "info" | "success" | "warning" | "error";\ntype OneMessageTypes = UnionToBooleanProps<MessageStringType>\ntype Props = OneMessageTypes & { id: string; }\nfunction Component(props: Props) {\n    return <></>\n}\n\nconst a = <Component id="abc" info/>           //correct\nconst b = <Component id="abc" success/>        //correct\nconst c = <Component id="abc"/>                //wrong\nconst d = <Component id="abc" info success/>   //wrong\n\n// \u7ec4\u4ef6Component\u6240\u63a5\u6536\u7684\u5c5e\u6027\uff0c\u6709\u4e14\u53ea\u6709\u4e00\u4e2a "info" | "success" | "warning" | "error" \u4e2d\u7684\u503c\uff1b\n')),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type UnionToBooleanProps<T extends string, TT extends string = T> =\n    T extends any ?\n        { [k in Exclude<TT, T>]?: void } & { [k in T]: boolean; }\n        : never\n")),(0,a.kt)("h1",{id:"11uniontointersection"},"11\u3001UnionToIntersection"),(0,a.kt)("p",null,"\u5c06\u8054\u5408\u7c7b\u578b\u8f6c\u6362\u4e3a\u4ea4\u53c9\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type A = UnionToIntersection<{a: string} | {b: string} | {c: string}> \n// {a: string} & {b: string} & {c: string}\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"// \u53c2\u6570\u9006\u53d8 & \uff0c\u8fd4\u56de\u503c\u534f\u53d8\u7684 |\ntype UnionToIntersection<T> = (T extends any ? (p: T) => any : never) extends (\n  p: infer P\n) => any\n  ? P\n  : never;\n")),(0,a.kt)("h1",{id:"12unionpop"},"12\u3001UnionPop"),(0,a.kt)("p",null,"\u53d6\u51fa\u6765\u8054\u5408\u7c7b\u578b\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type a = 1 | 2 | 3\ntype b = UnionPop<a>;       // 3\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"export type UnionPop<U> =IsAny<U> extends true ? any : boolean extends U ? boolean :\n    ((U extends U ? ((fn: (u: U) => any) => any) : never) extends\n        ((u: infer f1) => any) ? f1 : never) extends\n        ((f2: infer F2) => any) ? F2 : never\n\ntype a = 1 | 2 | 3\ntype b = UnionPop<a>;       // 3\n\n\ntype p1 = { name: 1 }\ntype p2 = { age: 2 }\ntype p3 = { flag: true }\n\ntype k = ((x: p1) => number) & ((y: p2) => string) & ((z: p3) => boolean);  // \u8fd9\u91cc\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u91cd\u8f7d\u51fd\u6570\ntype d = k extends ((a: infer A) => void) ? A : 'b'       //  \u6700\u540e\u4e00\u4e2a\u7684\u53c2\u6570\u7c7b\u578b\uff1ap3\uff0c\u8fd9\u662f\u4e3a\u5565\ntype e = k extends ((a: any) => infer A) ? A : 'b'        //  \u6700\u540e\u4e00\u4e2a\u7684\u8fd4\u56de\u503c\u7c7b\u578b\uff1aboolean\uff0c\u8fd9\u662f\u4e3a\u5565\n\nfunction overload(a: number): 'a';\nfunction overload(a: string): 'b';\nfunction overload(a: number | string) {\n    return a;\n}\n\ntype f1 = typeof overload extends (a: infer A) => void ? A : 'b'        // \u6700\u540e\u4e00\u4e2a\u7684\u53c2\u6570\u7c7b\u578b\uff1astring\uff0c\u8fd9\u662f\u4e3a\u5565\ntype f2 = typeof overload extends (a: any) => infer A ? A : 'b'         // \u6700\u540e\u4e00\u4e2a\u7684\u8fd4\u56de\u503c\u7c7b\u578b\uff1a'b'\uff0c\u8fd9\u662f\u4e3a\u5565\ntype f3 = ReturnType<typeof overload>\n\ntype k2 = ((x: p1) => number) | ((y: p2) => string) | ((z: p3) => boolean);\ntype paramType = k2 extends ((a: infer A) => void) ? A : 'a'       // p1 & p2 & p3               // \u51fd\u6570\u53c2\u6570\u662f\u9006\u53d8\u7684\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u662f\u5b50\u7c7b\uff0c\u4e5f\u5c31\u662f\u5e76\u96c6\uff0c\u662f\u4ea4\u53c9\u7c7b\u578b\ntype returnType = k2 extends ((a: any) => infer A) ? A : 'a'       // string|number|boolean         // \u51fd\u6570\u8fd4\u56de\u503c\u662f\u534f\u53d8\u7684\uff0c\u5f97\u5230\u7684\u7ed3\u6784\u662f\u7236\u7c7b\uff0c\u4e5f\u5c31\u662f\u4ea4\u96c6\uff0c\u662f\u8054\u5408\u7c7b\u578b\n")),(0,a.kt)("h1",{id:"13uniontotuple"},"13\u3001UnionToTuple"),(0,a.kt)("p",null,"\u8054\u5408\u7c7b\u578b\u8f6c\u6362\u4e3a\u5143\u7ec4\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type a = UnionToTuple<1 | 2 | 3>                      // [1,2,3]\ntype b = UnionToTuple<1 | string | boolean>           // [1,string,boolean]\ntype c = UnionToTuple<any>                            // [any]\n\ntype Q1 = UnionToTuple<string | number | symbol>                                // [symbol,number,string]\ntype Q2 = UnionToTuple<string | number | symbol | boolean>                      // [boolean,symbol,number,string]\ntype Q3 = UnionToTuple<string | number | symbol | boolean | [boolean]>          // [boolean,[boolean],symbol,number,string]\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type UnionToTuple<T, P extends any[] = []> = [T] extends [never]\n  ? P\n  : UnionToTuple<Exclude<T, UnionPop<T>>, [...P, UnionPop<T>]>;\n\n// \u6216\u8005\ntype UnionToTuple<T, TT = T, R extends any[] = []> = [T] extends [R[number]] ? R : UnionToTuple<T, Exclude<TT, UnionPop<TT>>, [UnionPop<TT>, ...R]>\n")),(0,a.kt)("h1",{id:"14tupletounion"},"14\u3001TupleToUnion"),(0,a.kt)("p",null,"\u5143\u7ec4\u7c7b\u578b\u8f6c\u6362\u4e3a\u8054\u5408\u7c7b\u578b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type Foo = [string, number, boolean]\n\ntype Bar = TupleToUnion<Foo> // string | number | boolean\n")),(0,a.kt)("p",null,"\u7b54\u6848:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"}," type TupleToUnion<T, TT = never> = T extends [infer L, ...infer R] ? TupleToUnion<R, TT> | L | TT : TT\ntype TupleToUnion<T> = T extends (infer E)[] ? E : never\n\n\n")))}c.isMDXComponent=!0}}]);